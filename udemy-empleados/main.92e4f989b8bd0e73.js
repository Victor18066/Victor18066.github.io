(self.webpackChunkudemy_empleados=self.webpackChunkudemy_empleados||[]).push([[179],{2011:(et,Ae,P)=>{"use strict";P.d(Ae,{hO:()=>Be,xv:()=>de,Dh:()=>ce,GT:()=>pe,cc:()=>Ce,on:()=>j,pX:()=>ee});var f=P(5e3),J=P(127),R=P(5813);et=P.hmd(et);const ge=["ngOnDestroy"],ee=(ae,Se,Oe,se={})=>new Proxy(ae,{get:(me,we)=>Oe.runOutsideAngular(()=>{var $e;if(ae[we])return(null===($e=null==se?void 0:se.spy)||void 0===$e?void 0:$e.get)&&se.spy.get(we,ae[we]),ae[we];if(ge.indexOf(we)>-1)return()=>{};const He=Se.toPromise().then(re=>{const K=re&&re[we];return"function"==typeof K?K.bind(re):K&&K.then?K.then(ie=>Oe.run(()=>ie)):Oe.run(()=>K)});return new Proxy(()=>{},{get:(re,K)=>He[K],apply:(re,K,ie)=>He.then(_e=>{var oe;const Ne=_e&&_e(...ie);return(null===(oe=null==se?void 0:se.spy)||void 0===oe?void 0:oe.apply)&&se.spy.apply(we,ie,Ne),Ne})})})}),pe=(ae,Se)=>{Se.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(se=>{Object.defineProperty(ae.prototype,se,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,se))})})};class ne{constructor(Se){return Se}}const ce=new f.OlP("angularfire2.app.options"),de=new f.OlP("angularfire2.app.name");function j(ae,Se,Oe){const me="object"==typeof Oe&&Oe||{};me.name=me.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const $e=J.Z.apps.filter(He=>He&&He.name===me.name)[0]||Se.runOutsideAngular(()=>J.Z.initializeApp(ae,me));try{JSON.stringify(ae)!==JSON.stringify($e.options)&&U("error",`${$e.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new ne($e)}const U=(ae,...Se)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ae](...Se)},Q={provide:ne,useFactory:j,deps:[ce,f.R0b,[new f.FiY,de]]};let Be=(()=>{class ae{constructor(Oe){J.Z.registerVersion("angularfire",R.q4.full,"core"),J.Z.registerVersion("angularfire",R.q4.full,"app-compat"),J.Z.registerVersion("angular",f.q4F.full,Oe.toString())}static initializeApp(Oe,se){return{ngModule:ae,providers:[{provide:ce,useValue:Oe},{provide:de,useValue:se}]}}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(f.LFG(f.Lbi))},ae.\u0275mod=f.oAB({type:ae}),ae.\u0275inj=f.cJS({providers:[Q]}),ae})();function Ce(ae,Se,Oe,se,me){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ae)||[];if(we)return function xe(ae,Se){try{return ae.toString()===Se.toString()}catch(Oe){return ae===Se}}(me,$e)||(z("error",`${Se} was already initialized on the ${Oe} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:me,was:$e})),we;{const He=se();return globalThis.\u0275AngularfireInstanceCache.push([ae,He,me]),He}}const Ve=!!et.hot,z=(ae,...Se)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ae](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,Ae,P)=>{"use strict";P.d(Ae,{q4:()=>Co,iC:()=>Qs,HU:()=>Bu,vb:()=>yd,JM:()=>md});var f=P(5e3),J=P(5867),R=P(5861),ge=P(9681),ee=P(2090),pe=P(4859),ne=P(1877),ce=P(2940);const de="@firebase/installations",j="0.5.5",Q=`w:${j}`,Be="FIS_v2",Se=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(D){return D instanceof ee.ZR&&D.code.includes("request-failed")}function se({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function me(D){return{token:D.token,requestStatus:2,expiresIn:_e(D.expiresIn),creationTime:Date.now()}}function we(D,T){return $e.apply(this,arguments)}function $e(){return($e=(0,R.Z)(function*(D,T){const F=(yield T.json()).error;return Se.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function He({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function re(D,{refreshToken:T}){const x=He(D);return x.append("Authorization",function oe(D){return`${Be} ${D}`}(T)),x}function K(D){return ie.apply(this,arguments)}function ie(){return(ie=(0,R.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function _e(D){return Number(D.replace("s","000"))}function Ne(D,T){return he.apply(this,arguments)}function he(){return(he=(0,R.Z)(function*(D,{fid:T}){const x=se(D),te={method:"POST",headers:He(D),body:JSON.stringify({fid:T,authVersion:Be,appId:D.appId,sdkVersion:Q})},fe=yield K(()=>fetch(x,te));if(fe.ok){const Fe=yield fe.json();return{fid:Fe.fid||T,registrationStatus:2,refreshToken:Fe.refreshToken,authToken:me(Fe.authToken)}}throw yield we("Create Installation",fe)})).apply(this,arguments)}function yt(D){return new Promise(T=>{setTimeout(T,D)})}const Mn=/^[cdef][\w-]{21}$/;function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function Fn(D){return function Bt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Mn.test(x)?x:""}catch(D){return""}}function Qt(D){return`${D.appName}!${D.appId}`}const gr=new Map;function qt(D,T){const x=Qt(D);Rt(x,T),function ns(D,T){const x=function Os(){return!ar&&"BroadcastChannel"in self&&(ar=new BroadcastChannel("[Firebase] FID Change"),ar.onmessage=D=>{Rt(D.data.key,D.data.fid)}),ar}();x&&x.postMessage({key:D,fid:T}),function Cr(){0===gr.size&&ar&&(ar.close(),ar=null)}()}(x,T)}function Rt(D,T){const x=gr.get(D);if(x)for(const F of x)F(T)}let ar=null;const ai="firebase-installations-store";let Gi=null;function ht(){return Gi||(Gi=(0,ce.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(ai)})),Gi}function $r(D,T){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,R.Z)(function*(D,T){const x=Qt(D),W=(yield ht()).transaction(ai,"readwrite"),te=W.objectStore(ai),fe=yield te.get(x);return yield te.put(T,x),yield W.complete,(!fe||fe.fid!==T.fid)&&qt(D,T.fid),T})).apply(this,arguments)}function In(D){return co.apply(this,arguments)}function co(){return(co=(0,R.Z)(function*(D){const T=Qt(D),F=(yield ht()).transaction(ai,"readwrite");yield F.objectStore(ai).delete(T),yield F.complete})).apply(this,arguments)}function pt(D,T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,R.Z)(function*(D,T){const x=Qt(D),W=(yield ht()).transaction(ai,"readwrite"),te=W.objectStore(ai),fe=yield te.get(x),Fe=T(fe);return void 0===Fe?yield te.delete(x):yield te.put(Fe,x),yield W.complete,Fe&&(!fe||fe.fid!==Fe.fid)&&qt(D,Fe.fid),Fe})).apply(this,arguments)}function xt(D){return un.apply(this,arguments)}function un(){return(un=(0,R.Z)(function*(D){let T;const x=yield pt(D,F=>{const W=mr(F),te=Ot(D,W);return T=te.registrationPromise,te.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function mr(D){return Ca(D||{fid:ot(),registrationStatus:0})}function Ot(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Se.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function Je(D,T){return at.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ni(D)}:{installationEntry:T}}function at(){return(at=(0,R.Z)(function*(D,T){try{return $r(D,yield Ne(D,T))}catch(x){throw Oe(x)&&409===x.customData.serverCode?yield In(D):yield $r(D,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Ni(D){return rs.apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(D){let T=yield Ft(D);for(;1===T.registrationStatus;)yield yt(100),T=yield Ft(D);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield xt(D);return F||x}return T})).apply(this,arguments)}function Ft(D){return pt(D,T=>{if(!T)throw Se.create("installation-not-found");return Ca(T)})}function Ca(D){return function Gr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ui(D,T){return V.apply(this,arguments)}function V(){return(V=(0,R.Z)(function*({appConfig:D,platformLoggerProvider:T},x){const F=H(D,x),W=re(D,x),te=T.getImmediate({optional:!0});te&&W.append("x-firebase-client",te.getPlatformInfoString());const Fe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Q}})},We=yield K(()=>fetch(F,Fe));if(We.ok)return me(yield We.json());throw yield we("Generate Auth Token",We)})).apply(this,arguments)}function H(D,{fid:T}){return`${se(D)}/${T}/authTokens:generate`}function G(D){return be.apply(this,arguments)}function be(){return(be=(0,R.Z)(function*(D,T=!1){let x;const F=yield pt(D.appConfig,te=>{if(!ln(te))throw Se.create("not-registered");const fe=te.authToken;if(!T&&qr(fe))return te;if(1===fe.requestStatus)return x=X(D,T),te;{if(!navigator.onLine)throw Se.create("app-offline");const Fe=Vn(te);return x=Jt(D,Fe),Fe}});return x?yield x:F.authToken})).apply(this,arguments)}function X(D,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.Z)(function*(D,T){let x=yield ft(D.appConfig);for(;1===x.authToken.requestStatus;)yield yt(100),x=yield ft(D.appConfig);const F=x.authToken;return 0===F.requestStatus?G(D,T):F})).apply(this,arguments)}function ft(D){return pt(D,T=>{if(!ln(T))throw Se.create("not-registered");return function Ar(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Jt(D,T){return on.apply(this,arguments)}function on(){return(on=(0,R.Z)(function*(D,T){try{const x=yield ui(D,T),F=Object.assign(Object.assign({},T),{authToken:x});return yield $r(D.appConfig,F),x}catch(x){if(!Oe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield $r(D.appConfig,F)}else yield In(D.appConfig);throw x}})).apply(this,arguments)}function ln(D){return void 0!==D&&2===D.registrationStatus}function qr(D){return 2===D.requestStatus&&!function Mt(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Vn(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Aa(){return(Aa=(0,R.Z)(function*(D){const T=D,{installationEntry:x,registrationPromise:F}=yield xt(T.appConfig);return F?F.catch(console.error):G(T).catch(console.error),x.fid})).apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(D,T=!1){const x=D;return yield Un(x.appConfig),(yield G(x,T)).token})).apply(this,arguments)}function Un(D){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,R.Z)(function*(D){const{registrationPromise:T}=yield xt(D);T&&(yield T)})).apply(this,arguments)}function Ho(D){return Se.create("missing-app-config-values",{valueName:D})}const Wr="installations",Tt=D=>{const T=D.getProvider("app").getImmediate(),x=function ur(D){if(!D||!D.options)throw Ho("App Configuration");if(!D.name)throw Ho("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!D.options[x])throw Ho(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:x,platformLoggerProvider:(0,ge._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},en=D=>{const T=D.getProvider("app").getImmediate(),x=(0,ge._getProvider)(T,Wr).getImmediate();return{getId:()=>function bu(D){return Aa.apply(this,arguments)}(x),getToken:W=>function Du(D){return Sa.apply(this,arguments)}(x,W)}};(function Mr(){(0,ge._registerComponent)(new pe.wA(Wr,Tt,"PUBLIC")),(0,ge._registerComponent)(new pe.wA("installations-internal",en,"PRIVATE"))})(),(0,ge.registerVersion)(de,j),(0,ge.registerVersion)(de,j,"esm2017");const ss="@firebase/remote-config",gn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yc{constructor(T,x,F,W){this.client=T,this.storage=x,this.storageCache=F,this.logger=W}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,W=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var x=this;return(0,R.Z)(function*(){const[F,W]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(W&&x.isCachedDataFresh(T.cacheMaxAgeMillis,F))return W;T.eTag=W&&W.eTag;const te=yield x.client.fetch(T),fe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&fe.push(x.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(fe),te})()}}function Cu(D=navigator){return D.languages&&D.languages[0]||D.language}class On{constructor(T,x,F,W,te,fe){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=F,this.projectId=W,this.apiKey=te,this.appId=fe}fetch(T){var x=this;return(0,R.Z)(function*(){const[F,W]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:x.appId,language_code:Cu()},St={method:"POST",headers:Fe,body:JSON.stringify(We)},Zt=fetch(fe,St),Cn=new Promise((yi,_i)=>{T.signal.addEventListener(()=>{const Xa=new Error("The operation was aborted.");Xa.name="AbortError",_i(Xa)})});let lr;try{yield Promise.race([Zt,Cn]),lr=yield Zt}catch(yi){let _i="fetch-client-network";throw"AbortError"===yi.name&&(_i="fetch-timeout"),gn.create(_i,{originalErrorMessage:yi.message})}let Nn=lr.status;const Js=lr.headers.get("ETag")||void 0;let Yr,mi;if(200===lr.status){let yi;try{yi=yield lr.json()}catch(_i){throw gn.create("fetch-client-parse",{originalErrorMessage:_i.message})}Yr=yi.entries,mi=yi.state}if("INSTANCE_STATE_UNSPECIFIED"===mi?Nn=500:"NO_CHANGE"===mi?Nn=304:("NO_TEMPLATE"===mi||"EMPTY_CONFIG"===mi)&&(Yr={}),304!==Nn&&200!==Nn)throw gn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:Js,config:Yr}})()}}class as{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,R.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:F}){var W=this;return(0,R.Z)(function*(){yield function Qc(D,T){return new Promise((x,F)=>{const W=Math.max(T-Date.now(),0),te=setTimeout(x,W);D.addEventListener(()=>{clearTimeout(te),F(gn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const te=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),te}catch(te){if(!function ag(D){if(!(D instanceof ee.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(te))throw te;const fe={throttleEndTimeMillis:Date.now()+(0,ee.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(fe),W.attemptFetch(T,fe)}})()}}class lg{constructor(T,x,F,W,te){this.app=T,this._client=x,this._storageCache=F,this._storage=W,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xa(D,T){const x=D.target.error||void 0;return gn.create(T,{originalErrorMessage:x&&x.message})}const Wo="app_namespace_store";class ed{constructor(T,x,F,W=function dg(){return new Promise((D,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{T(xa(F,"storage-open"))},x.onsuccess=F=>{D(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Wo,{keyPath:"compositeKey"})}}catch(x){T(gn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,te)=>{const Fe=F.transaction([Wo],"readonly").objectStore(Wo),We=x.createCompositeKey(T);try{const St=Fe.get(We);St.onerror=Zt=>{te(xa(Zt,"storage-get"))},St.onsuccess=Zt=>{const Cn=Zt.target.result;W(Cn?Cn.value:void 0)}}catch(St){te(gn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(T,x){var F=this;return(0,R.Z)(function*(){const W=yield F.openDbPromise;return new Promise((te,fe)=>{const We=W.transaction([Wo],"readwrite").objectStore(Wo),St=F.createCompositeKey(T);try{const Zt=We.put({compositeKey:St,value:x});Zt.onerror=Cn=>{fe(xa(Cn,"storage-set"))},Zt.onsuccess=()=>{te()}}catch(Zt){fe(gn.create("storage-set",{originalErrorMessage:Zt&&Zt.message}))}})})()}delete(T){var x=this;return(0,R.Z)(function*(){const F=yield x.openDbPromise;return new Promise((W,te)=>{const Fe=F.transaction([Wo],"readwrite").objectStore(Wo),We=x.createCompositeKey(T);try{const St=Fe.delete(We);St.onerror=Zt=>{te(xa(Zt,"storage-delete"))},St.onsuccess=()=>{W()}}catch(St){te(gn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ko{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const x=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),te=yield x;te&&(T.lastFetchStatus=te);const fe=yield F;fe&&(T.lastSuccessfulFetchTimestampMillis=fe);const Fe=yield W;Fe&&(T.activeConfig=Fe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ly(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,R.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(D){return!1}})).apply(this,arguments)}!function hg(){(0,ge._registerComponent)(new pe.wA("remote-config",function D(T,{instanceIdentifier:x}){const F=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gn.create("registration-window");if(!(0,ee.hl)())throw gn.create("indexed-db-unavailable");const{projectId:te,apiKey:fe,appId:Fe}=F.options;if(!te)throw gn.create("registration-project-id");if(!fe)throw gn.create("registration-api-key");if(!Fe)throw gn.create("registration-app-id");const We=new ed(Fe,F.name,x=x||"firebase"),St=new Ko(We),Zt=new ne.Yd(ss);Zt.logLevel=ne.in.ERROR;const Cn=new On(W,ge.SDK_VERSION,x,te,fe,Fe),lr=new as(Cn,We),Nn=new Yc(lr,We,St,Zt),Js=new lg(F,Nn,St,We,Zt);return function Wt(D){const T=(0,ee.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Js),Js},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(ss,"0.3.4"),(0,ge.registerVersion)(ss,"0.3.4","esm2017")}();const Fs="/firebase-messaging-sw.js",di="/firebase-cloud-messaging-push-scope",Ls="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yo="google.c.a.c_id",td="google.c.a.c_l",fg="google.c.a.ts",Vs="google.c.a.e";var ls=(()=>{return(D=ls||(ls={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ls;var D})();function hi(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rd(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),W=new Uint8Array(F.length);for(let te=0;te<F.length;++te)W[te]=F.charCodeAt(te);return W}const yr="fcm_token_details_db",id="fcm_token_object_Store";function sd(D){return Au.apply(this,arguments)}function Au(){return Au=(0,R.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(yr))return null;let T=null;return(yield(0,ce.openDb)(yr,5,function(){var F=(0,R.Z)(function*(W){var te;if(W.oldVersion<2||!W.objectStoreNames.contains(id))return;const fe=W.transaction.objectStore(id),Fe=yield fe.index("fcmSenderId").get(D);if(yield fe.clear(),Fe)if(2===W.oldVersion){const We=Fe;if(!We.auth||!We.p256dh||!We.endpoint)return;T={token:We.fcmToken,createTime:null!==(te=We.createTime)&&void 0!==te?te:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:hi(We.vapidKey)}}}else if(3===W.oldVersion){const We=Fe;T={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:hi(We.auth),p256dh:hi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:hi(We.vapidKey)}}}else if(4===W.oldVersion){const We=Fe;T={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:hi(We.auth),p256dh:hi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:hi(We.vapidKey)}}}});return function(W){return F.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(yr),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),Su(T)?T:null}),Au.apply(this,arguments)}function Su(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const cs="firebase-messaging-store";let Tl=null;function tn(){return Tl||(Tl=(0,ce.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(cs)})),Tl}function Na(D){return Us.apply(this,arguments)}function Us(){return(Us=(0,R.Z)(function*(D){const T=Zn(D),F=yield(yield tn()).transaction(cs).objectStore(cs).get(T);if(F)return F;{const W=yield sd(D.appConfig.senderId);if(W)return yield Kt(D,W),W}})).apply(this,arguments)}function Kt(D,T){return xu.apply(this,arguments)}function xu(){return(xu=(0,R.Z)(function*(D,T){const x=Zn(D),W=(yield tn()).transaction(cs,"readwrite");return yield W.objectStore(cs).put(T,x),yield W.complete,T})).apply(this,arguments)}function Ra(D){return mo.apply(this,arguments)}function mo(){return(mo=(0,R.Z)(function*(D){const T=Zn(D),F=(yield tn()).transaction(cs,"readwrite");yield F.objectStore(cs).delete(T),yield F.complete})).apply(this,arguments)}function Zn({appConfig:D}){return D.appId}const mn=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ds(D,T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,R.Z)(function*(D,T){const x=yield js(D),F=Pa(T),W={method:"POST",headers:x,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(Bs(D.appConfig),W)).json()}catch(fe){throw mn.create("token-subscribe-failed",{errorInfo:fe})}if(te.error)throw mn.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw mn.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Qo(D,T){return qi.apply(this,arguments)}function qi(){return(qi=(0,R.Z)(function*(D,T){const x=yield js(D),F=Pa(T.subscriptionOptions),W={method:"PATCH",headers:x,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(`${Bs(D.appConfig)}/${T.token}`,W)).json()}catch(fe){throw mn.create("token-update-failed",{errorInfo:fe})}if(te.error)throw mn.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw mn.create("token-update-no-token");return te.token})).apply(this,arguments)}function Cl(D,T){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,R.Z)(function*(D,T){const F={method:"DELETE",headers:yield js(D)};try{const te=yield(yield fetch(`${Bs(D.appConfig)}/${T}`,F)).json();if(te.error)throw mn.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(W){throw mn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function Bs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function js(D){return ut.apply(this,arguments)}function ut(){return(ut=(0,R.Z)(function*({appConfig:D,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Pa({p256dh:D,auth:T,endpoint:x,vapidKey:F}){const W={web:{endpoint:x,auth:T,p256dh:D}};return F!==Ls&&(W.web.applicationPubKey=F),W}const ka=6048e5;function od(D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(D){const T=yield hn(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:hi(T.getKey("auth")),p256dh:hi(T.getKey("p256dh"))},F=yield Na(D.firebaseDependencies);if(F){if(Ua(F.subscriptionOptions,x))return Date.now()>=F.createTime+ka?Jh(D,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield Cl(D.firebaseDependencies,F.token)}catch(W){console.warn(W)}return Nt(D.firebaseDependencies,x)}return Nt(D.firebaseDependencies,x)})).apply(this,arguments)}function Al(D){return La.apply(this,arguments)}function La(){return(La=(0,R.Z)(function*(D){const T=yield Na(D.firebaseDependencies);T&&(yield Cl(D.firebaseDependencies,T.token),yield Ra(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Jh(D,T){return De.apply(this,arguments)}function De(){return(De=(0,R.Z)(function*(D,T){try{const x=yield Qo(D.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Kt(D.firebaseDependencies,F),x}catch(x){throw yield Al(D),x}})).apply(this,arguments)}function Nt(D,T){return Va.apply(this,arguments)}function Va(){return(Va=(0,R.Z)(function*(D,T){const F={token:yield ds(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Kt(D,F),F.token})).apply(this,arguments)}function hn(D,T){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,R.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rd(T)})})).apply(this,arguments)}function Ua(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function xr(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Sl(D,T){if(!T.notification)return;D.notification={};const x=T.notification.title;x&&(D.notification.title=x);const F=T.notification.body;F&&(D.notification.body=F);const W=T.notification.image;W&&(D.notification.image=W)}(T,D),function Ml(D,T){!T.data||(D.data=T.data)}(T,D),function ad(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const x=T.fcmOptions.link;x&&(D.fcmOptions.link=x);const F=T.fcmOptions.analytics_label;F&&(D.fcmOptions.analyticsLabel=F)}(T,D),T}function ud(D){return"object"==typeof D&&!!D&&Yo in D}function Ba(D,T){const x=[];for(let F=0;F<D.length;F++)x.push(D.charAt(F)),F<T.length&&x.push(T.charAt(F));return x.join("")}function jn(D){return mn.create("missing-app-config-values",{valueName:D})}Ba("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ba("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pi{constructor(T,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Jo(D){if(!D||!D.options)throw jn("App Configuration Object");if(!D.name)throw jn("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const F of T)if(!x[F])throw jn(F);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function xl(D){return zi.apply(this,arguments)}function zi(){return(zi=(0,R.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Fs,{scope:di}),D.swRegistration.update().catch(()=>{})}catch(T){throw mn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function hs(D,T){return ja.apply(this,arguments)}function ja(){return(ja=(0,R.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield xl(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ld(D,T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,R.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Ls)})).apply(this,arguments)}function yo(){return(yo=(0,R.Z)(function*(D,T){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield ld(D,null==T?void 0:T.vapidKey),yield hs(D,null==T?void 0:T.serviceWorkerRegistration),od(D)})).apply(this,arguments)}function Nu(D,T,x){return $a.apply(this,arguments)}function $a(){return($a=(0,R.Z)(function*(D,T,x){const F=Ol(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[Yo],message_name:x[td],message_time:x[fg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ol(D){switch(D){case ls.NOTIFICATION_CLICKED:return"notification_open";case ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ru(){return(Ru=(0,R.Z)(function*(D,T){const x=T.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===ls.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(xr(x)):D.onMessageHandler.next(xr(x)));const F=x.data;ud(F)&&"1"===F[Vs]&&(yield Nu(D,x.messageType,F))})).apply(this,arguments)}const _o="@firebase/messaging",vo=D=>{const T=new Pi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function pg(D,T){return Ru.apply(this,arguments)}(T,x)),T},dd=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:F=>function cd(D,T){return yo.apply(this,arguments)}(T,F)}};function Xo(){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,R.Z)(function*(){try{yield(0,ee.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xh(){(0,ge._registerComponent)(new pe.wA("messaging",vo,"PUBLIC")),(0,ge._registerComponent)(new pe.wA("messaging-internal",dd,"PRIVATE")),(0,ge.registerVersion)(_o,"0.9.8"),(0,ge.registerVersion)(_o,"0.9.8","esm2017")}();const hd="analytics",Rl="firebase_id",Pl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pu="https://www.googletagmanager.com/gtag/js",Jn=new ne.Yd("@firebase/analytics");function nf(D){return Promise.all(D.map(T=>T.catch(x=>x)))}function gs(D,T){const x=document.createElement("script");x.src=`${Pu}?l=${D}&id=${T}`,x.async=!0,document.head.appendChild(x)}function gg(D,T,x,F,W,te){return qa.apply(this,arguments)}function qa(){return(qa=(0,R.Z)(function*(D,T,x,F,W,te){const fe=F[W];try{if(fe)yield T[fe];else{const We=(yield nf(x)).find(St=>St.measurementId===W);We&&(yield T[We.appId])}}catch(Fe){Jn.error(Fe)}D("config",W,te)})).apply(this,arguments)}function Eo(D,T,x,F,W){return za.apply(this,arguments)}function za(){return(za=(0,R.Z)(function*(D,T,x,F,W){try{let te=[];if(W&&W.send_to){let fe=W.send_to;Array.isArray(fe)||(fe=[fe]);const Fe=yield nf(x);for(const We of fe){const St=Fe.find(Cn=>Cn.measurementId===We),Zt=St&&T[St.appId];if(!Zt){te=[];break}te.push(Zt)}}0===te.length&&(te=Object.values(T)),yield Promise.all(te),D("event",F,W||{})}catch(te){Jn.error(te)}})).apply(this,arguments)}function ms(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Pu))return T;return null}const Dn=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Hn=new class Or{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function pd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function dn(D){return kl.apply(this,arguments)}function kl(){return(kl=(0,R.Z)(function*(D){var T;const{appId:x,apiKey:F}=D,W={method:"GET",headers:pd(F)},te=Pl.replace("{app-id}",x),fe=yield fetch(te,W);if(200!==fe.status&&304!==fe.status){let Fe="";try{const We=yield fe.json();(null===(T=We.error)||void 0===T?void 0:T.message)&&(Fe=We.error.message)}catch(We){}throw Dn.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:Fe})}return fe.json()})).apply(this,arguments)}function $s(D){return ta.apply(this,arguments)}function ta(){return(ta=(0,R.Z)(function*(D,T=Hn,x){const{appId:F,apiKey:W,measurementId:te}=D.options;if(!F)throw Dn.create("no-app-id");if(!W){if(te)return{measurementId:te,appId:F};throw Dn.create("no-api-key")}const fe=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new rf;return setTimeout((0,R.Z)(function*(){Fe.abort()}),void 0!==x?x:6e4),wo({appId:F,apiKey:W,measurementId:te},fe,Fe,T)})).apply(this,arguments)}function wo(D,T,x){return na.apply(this,arguments)}function na(){return(na=(0,R.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:x},F,W=Hn){const{appId:te,measurementId:fe}=D;try{yield Ct(F,T)}catch(Fe){if(fe)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fe} provided in the "measurementId" field in the local Firebase config. [${Fe.message}]`),{appId:te,measurementId:fe};throw Fe}try{const Fe=yield dn(D);return W.deleteThrottleMetadata(te),Fe}catch(Fe){if(!Fl(Fe)){if(W.deleteThrottleMetadata(te),fe)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fe} provided in the "measurementId" field in the local Firebase config. [${Fe.message}]`),{appId:te,measurementId:fe};throw Fe}const We=503===Number(Fe.customData.httpStatus)?(0,ee.$s)(x,W.intervalMillis,30):(0,ee.$s)(x,W.intervalMillis),St={throttleEndTimeMillis:Date.now()+We,backoffCount:x+1};return W.setThrottleMetadata(te,St),Jn.debug(`Calling attemptFetch again in ${We} millis`),wo(D,St,F,W)}})).apply(this,arguments)}function Ct(D,T){return new Promise((x,F)=>{const W=Math.max(T-Date.now(),0),te=setTimeout(x,W);D.addEventListener(()=>{clearTimeout(te),F(Dn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Fl(D){if(!(D instanceof ee.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class rf{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Wa(){return ys.apply(this,arguments)}function ys(){return(ys=(0,R.Z)(function*(){if(!(0,ee.hl)())return Jn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(D){return Jn.warn(Dn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Gs(){return(Gs=(0,R.Z)(function*(D,T,x,F,W,te,fe){var Fe;const We=$s(D);We.then(Nn=>{x[Nn.measurementId]=Nn.appId,D.options.measurementId&&Nn.measurementId!==D.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>Jn.error(Nn)),T.push(We);const St=Wa().then(Nn=>{if(Nn)return F.getId()}),[Zt,Cn]=yield Promise.all([We,St]);ms()||gs(te,Zt.measurementId),W("js",new Date);const lr=null!==(Fe=null==fe?void 0:fe.config)&&void 0!==Fe?Fe:{};return lr.origin="firebase",lr.update=!0,null!=Cn&&(lr[Rl]=Cn),W("config",Zt.measurementId,lr),Zt.measurementId})).apply(this,arguments)}class ku{constructor(T){this.app=T}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},Fu=[];const Ka={};let Lu,Io,qs="dataLayer",ra=!1;function gd(D,T,x){!function vr(){const D=[];if((0,ee.ru)()&&D.push("This is a browser extension environment."),(0,ee.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((F,W)=>`(${W+1}) ${F}`).join(" "),x=Dn.create("invalid-analytics-context",{errorInfo:T});Jn.warn(x.message)}}();const F=D.options.appId;if(!F)throw Dn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Dn.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[F])throw Dn.create("already-exists",{id:F});if(!ra){!function ea(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(qs);const{wrappedGtag:te,gtagCore:fe}=function mg(D,T,x,F,W){let te=function(...fe){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(te=window[W]),window[W]=function fd(D,T,x,F){function te(){return(te=(0,R.Z)(function*(fe,Fe,We){try{"event"===fe?yield Eo(D,T,x,Fe,We):"config"===fe?yield gg(D,T,x,F,Fe,We):D("set",Fe)}catch(St){Jn.error(St)}})).apply(this,arguments)}return function W(fe,Fe,We){return te.apply(this,arguments)}}(te,D,T,x),{gtagCore:te,wrappedGtag:window[W]}}(Nr,Fu,Ka,qs,"gtag");Io=te,Lu=fe,ra=!0}return Nr[F]=function Tn(D,T,x,F,W,te,fe){return Gs.apply(this,arguments)}(D,Fu,Ka,T,Lu,qs,x),new ku(D)}function Za(){return(Za=(0,R.Z)(function*(D,T,x,F,W){if(W&&W.global)D("event",x,F);else{const te=yield T;D("event",x,Object.assign(Object.assign({},F),{send_to:te}))}})).apply(this,arguments)}function oa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,R.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(D){return!1}})).apply(this,arguments)}const Zr="@firebase/analytics";!function Ks(){(0,ge._registerComponent)(new pe.wA(hd,(T,{options:x})=>gd(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ge._registerComponent)(new pe.wA("analytics-internal",function D(T){try{const x=T.getProvider(hd).getImmediate();return{logEvent:(F,W,te)=>function Do(D,T,x,F){D=(0,ee.m9)(D),function Rr(D,T,x,F,W){return Za.apply(this,arguments)}(Io,Nr[D.app.options.appId],T,x,F).catch(W=>Jn.error(W))}(x,F,W,te)}}catch(x){throw Dn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ge.registerVersion)(Zr,"0.7.5"),(0,ge.registerVersion)(Zr,"0.7.5","esm2017")}();var vs=P(4408),pn=P(7565);const To=new class Vl extends pn.v{}(class Vu extends vs.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(T,x,F):T.flush(this)}});var Ul=P(4986),Er=P(8505),pi=P(9468),Bl=P(5363);const Co=new f.GfV("7.2.1"),Fi="__angularfire_symbol__analyticsIsSupportedValue",Ki="__angularfire_symbol__analyticsIsSupported",Qa="__angularfire_symbol__remoteConfigIsSupportedValue",jl="__angularfire_symbol__remoteConfigIsSupported",Hl="__angularfire_symbol__messagingIsSupportedValue",At="__angularfire_symbol__messagingIsSupported";function md(D,T,x){if(T){if(1===T.length)return T[0];const te=T.filter(fe=>fe.app===x);if(1===te.length)return te[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ki]||(globalThis[Ki]=oa().then(D=>globalThis[Fi]=D).catch(()=>globalThis[Fi]=!1)),globalThis[At]||(globalThis[At]=Xo().then(D=>globalThis[Hl]=D).catch(()=>globalThis[Hl]=!1)),globalThis[jl]||(globalThis[jl]=Ly().then(D=>globalThis[Qa]=D).catch(()=>globalThis[Qa]=!1));const yd=(D,T)=>{const x=T?[T]:(0,J.C6)(),F=[];return x.forEach(W=>{W.container.getProvider(D).instances.forEach(fe=>{F.includes(fe)||F.push(fe)})}),F};function Zs(){}class Li{constructor(T,x=To){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,F){const W=this.zone;return this.delegate.schedule(function(fe){W.runGuarded(()=>{T.apply(this,[fe])})},x,F)}}class Uu{constructor(T){this.zone=T,this.task=null}call(T,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),x.pipe((0,Er.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bu=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Li(Zone.current)),this.insideAngular=x.run(()=>new Li(Zone.current,Ul.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(f.LFG(f.R0b))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ys(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Qs(D){return Ys(),function ua(D){return function(x){return(x=x.lift(new Uu(D.ngZone))).pipe((0,pi.R)(D.outsideAngular),(0,Bl.Q)(D.insideAngular))}}(Ys())(D)}},2090:(et,Ae,P)=>{"use strict";P.d(Ae,{BH:()=>Be,LL:()=>he,ZR:()=>Ne,zI:()=>ie,US:()=>pe,tV:()=>de,$s:()=>Ft,r3:()=>Hi,Sg:()=>Ce,ne:()=>Gi,vZ:()=>ar,ZB:()=>U,pd:()=>Ns,m9:()=>ui,z$:()=>xe,jU:()=>ae,ru:()=>Se,d:()=>se,xb:()=>Rt,w1:()=>me,hl:()=>re,uI:()=>Ve,UG:()=>z,b$:()=>Oe,G6:()=>He,Mn:()=>we,xO:()=>Cr,zd:()=>$i,eu:()=>K});const ge=function(V){const H=[];let G=0;for(let be=0;be<V.length;be++){let X=V.charCodeAt(be);X<128?H[G++]=X:X<2048?(H[G++]=X>>6|192,H[G++]=63&X|128):55296==(64512&X)&&be+1<V.length&&56320==(64512&V.charCodeAt(be+1))?(X=65536+((1023&X)<<10)+(1023&V.charCodeAt(++be)),H[G++]=X>>18|240,H[G++]=X>>12&63|128,H[G++]=X>>6&63|128,H[G++]=63&X|128):(H[G++]=X>>12|224,H[G++]=X>>6&63|128,H[G++]=63&X|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,H){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let X=0;X<V.length;X+=3){const qe=V[X],ft=X+1<V.length,Jt=ft?V[X+1]:0,on=X+2<V.length,ln=on?V[X+2]:0;let Vn=(15&Jt)<<2|ln>>6,Ar=63&ln;on||(Ar=64,ft||(Vn=64)),be.push(G[qe>>2],G[(3&qe)<<4|Jt>>4],G[Vn],G[Ar])}return be.join("")},encodeString(V,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(V):this.encodeByteArray(ge(V),H)},decodeString(V,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(V):function(V){const H=[];let G=0,be=0;for(;G<V.length;){const X=V[G++];if(X<128)H[be++]=String.fromCharCode(X);else if(X>191&&X<224){const qe=V[G++];H[be++]=String.fromCharCode((31&X)<<6|63&qe)}else if(X>239&&X<365){const on=((7&X)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;H[be++]=String.fromCharCode(55296+(on>>10)),H[be++]=String.fromCharCode(56320+(1023&on))}else{const qe=V[G++],ft=V[G++];H[be++]=String.fromCharCode((15&X)<<12|(63&qe)<<6|63&ft)}}return H.join("")}(this.decodeStringToByteArray(V,H))},decodeStringToByteArray(V,H){this.init_();const G=H?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let X=0;X<V.length;){const qe=G[V.charAt(X++)],Jt=X<V.length?G[V.charAt(X)]:0;++X;const ln=X<V.length?G[V.charAt(X)]:64;++X;const Mt=X<V.length?G[V.charAt(X)]:64;if(++X,null==qe||null==Jt||null==ln||null==Mt)throw Error();be.push(qe<<2|Jt>>4),64!==ln&&(be.push(Jt<<4&240|ln>>2),64!==Mt&&be.push(ln<<6&192|Mt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},ce=function(V){return function(V){const H=ge(V);return pe.encodeByteArray(H,!0)}(V).replace(/\./g,"")},de=function(V){try{return pe.decodeString(V,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function U(V,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return H}for(const G in H)!H.hasOwnProperty(G)||!Q(G)||(V[G]=U(V[G],H[G]));return V}function Q(V){return"__proto__"!==V}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,G)=>{this.resolve=H,this.reject=G})}wrapCallback(H){return(G,be)=>{G?this.reject(G):this.resolve(be),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(G):H(G,be))}}}function Ce(V,H){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=H||"demo-project",X=V.iat||0,qe=V.sub||V.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:X,exp:X+3600,auth_time:X,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ft)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function ae(){return"object"==typeof self&&self.self===self}function Se(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){return xe().indexOf("Electron/")>=0}function me(){const V=xe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function we(){return xe().indexOf("MSAppHost/")>=0}function He(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){return"object"==typeof indexedDB}function K(){return new Promise((V,H)=>{try{let G=!0;const be="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(be);X.onsuccess=()=>{X.result.close(),G||self.indexedDB.deleteDatabase(be),V(!0)},X.onupgradeneeded=()=>{G=!1},X.onerror=()=>{var qe;H((null===(qe=X.error)||void 0===qe?void 0:qe.message)||"")}}catch(G){H(G)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ne extends Error{constructor(H,G,be){super(G),this.code=H,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(H,G,be){this.service=H,this.serviceName=G,this.errors=be}create(H,...G){const be=G[0]||{},X=`${this.service}/${H}`,qe=this.errors[H],ft=qe?function yt(V,H){return V.replace(Bt,(G,be)=>{const X=H[be];return null!=X?String(X):`<${be}?>`})}(qe,be):"Error";return new Ne(X,`${this.serviceName}: ${ft} (${X}).`,be)}}const Bt=/\{\$([^}]+)}/g;function Hi(V,H){return Object.prototype.hasOwnProperty.call(V,H)}function Rt(V){for(const H in V)if(Object.prototype.hasOwnProperty.call(V,H))return!1;return!0}function ar(V,H){if(V===H)return!0;const G=Object.keys(V),be=Object.keys(H);for(const X of G){if(!be.includes(X))return!1;const qe=V[X],ft=H[X];if(Os(qe)&&Os(ft)){if(!ar(qe,ft))return!1}else if(qe!==ft)return!1}for(const X of be)if(!G.includes(X))return!1;return!0}function Os(V){return null!==V&&"object"==typeof V}function Cr(V){const H=[];for(const[G,be]of Object.entries(V))Array.isArray(be)?be.forEach(X=>{H.push(encodeURIComponent(G)+"="+encodeURIComponent(X))}):H.push(encodeURIComponent(G)+"="+encodeURIComponent(be));return H.length?"&"+H.join("&"):""}function $i(V){const H={};return V.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[X,qe]=be.split("=");H[decodeURIComponent(X)]=decodeURIComponent(qe)}}),H}function Ns(V){const H=V.indexOf("?");if(!H)return"";const G=V.indexOf("#",H);return V.substring(H,G>0?G:void 0)}function Gi(V,H){const G=new ht(V,H);return G.subscribe.bind(G)}class ht{constructor(H,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{H(this)}).catch(be=>{this.error(be)})}next(H){this.forEachObserver(G=>{G.next(H)})}error(H){this.forEachObserver(G=>{G.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,G,be){let X;if(void 0===H&&void 0===G&&void 0===be)throw new Error("Missing Observer.");X=function Ln(V,H){if("object"!=typeof V||null===V)return!1;for(const G of H)if(G in V&&"function"==typeof V[G])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:G,complete:be},void 0===X.next&&(X.next=In),void 0===X.error&&(X.error=In),void 0===X.complete&&(X.complete=In);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ft){}}),this.observers.push(X),qe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,H)}sendOne(H,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{G(this.observers[H])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}function Ft(V,H=1e3,G=2){const be=H*Math.pow(G,V),X=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+X)}function ui(V){return V&&V._delegate?V._delegate:V}},2789:(et,Ae,P)=>{"use strict";var f=P(5e3);let J=null;function R(){return J}const ne=new f.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function de(){return(0,f.LFG)(U)}()},providedIn:"platform"}),n})();const j=new f.OlP("Location Initialized");let U=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Be(){return new U((0,f.LFG)(ne))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ae(n){const e=(0,f.LFG)(ne).location;return new Oe((0,f.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const Se=new f.OlP("appBaseHref");let Oe=(()=>{class n extends z{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const c=this.prepareExternalUrl(o+Ve(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,o,u){const c=this.prepareExternalUrl(o+Ve(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ce),f.LFG(Se,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),se=(()=>{class n extends z{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ce(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let c=this.prepareExternalUrl(o+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,o,u){let c=this.prepareExternalUrl(o+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ce),f.LFG(Se,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),me=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(He(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Ce,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(f.LFG(z),f.LFG(ce))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function we(){return new me((0,f.LFG)(z),(0,f.LFG)(ce))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}const re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Percent=1]="Percent",K[K.Currency=2]="Currency",K[K.Scientific=3]="Scientific",K))(),ie=(()=>((ie=ie||{})[ie.Zero=0]="Zero",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Few=3]="Few",ie[ie.Many=4]="Many",ie[ie.Other=5]="Other",ie))(),he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Group=1]="Group",he[he.List=2]="List",he[he.PercentSign=3]="PercentSign",he[he.PlusSign=4]="PlusSign",he[he.MinusSign=5]="MinusSign",he[he.Exponential=6]="Exponential",he[he.SuperscriptingExponent=7]="SuperscriptingExponent",he[he.PerMille=8]="PerMille",he[he.Infinity=9]="Infinity",he[he.NaN=10]="NaN",he[he.TimeSeparator=11]="TimeSeparator",he[he.CurrencyDecimal=12]="CurrencyDecimal",he[he.CurrencyGroup=13]="CurrencyGroup",he))();function Rt(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===he.CurrencyDecimal)return t[f.wAp.NumberSymbols][he.Decimal];if(e===he.CurrencyGroup)return t[f.wAp.NumberSymbols][he.Group]}return r}const Ns=f.kL8;const Sr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wr(n,e,t,r,o){const c=function en(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],c=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=c[0],v=c[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let S=0;S<v.length;S++){const O=v.charAt(S);"0"===O?t.minFrac=t.maxFrac=S+1:"#"===O?t.maxFrac=S+1:t.posSuf+=O}const b=m.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,u){const S=o.length-t.posPre.length-t.posSuf.length,O=u.indexOf("#");t.negPre=u.substr(0,O).replace(/'/g,""),t.negSuf=u.substr(O+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function ns(n,e){return(0,f.cg1)(n)[f.wAp.NumberFormats][e]}(e,K.Currency),Rt(e,he.MinusSign));return c.minFrac=function Qe(n){let e;const t=re[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function Ho(n,e,t,r,o,u,c=!1){let m="",v=!1;if(isFinite(n)){let b=function ss(n){let r,o,u,c,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],o=1;else{for(m--;"0"===e.charAt(m);)m--;for(o-=u,r=[],c=0;u<=m;u++,c++)r[c]=Number(e.charAt(u))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);c&&(b=function Mr(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let S=e.minInt,O=e.minFrac,L=e.maxFrac;if(u){const _t=u.match(Sr);if(null===_t)throw new Error(`${u} is not a valid digit info`);const Pt=_t[1],ct=_t[3],sn=_t[5];null!=Pt&&(S=os(Pt)),null!=ct&&(O=os(ct)),null!=sn?L=os(sn):null!=ct&&O>L&&(L=O)}!function bn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let c=u+n.integerLen,m=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let O=c;O<r.length;O++)r[O]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,c=u+1),r[0]=0;for(let O=1;O<c;O++)r[O]=0}if(m>=5)if(c-1<0){for(let O=0;O>c;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;o<Math.max(0,u);o++)r.push(0);let v=0!==u;const b=e+n.integerLen,S=r.reduceRight(function(O,L,$,Z){return Z[$]=(L+=O)<10?L:L-10,v&&(0===Z[$]&&$>=b?Z.pop():v=!1),L>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(b,O,L);let $=b.digits,Z=b.integerLen;const Ee=b.exponent;let Re=[];for(v=$.every(_t=>!_t);Z<S;Z++)$.unshift(0);for(;Z<0;Z++)$.unshift(0);Z>0?Re=$.splice(Z,$.length):(Re=$,$=[0]);const st=[];for($.length>=e.lgSize&&st.unshift($.splice(-e.lgSize,$.length).join(""));$.length>e.gSize;)st.unshift($.splice(-e.gSize,$.length).join(""));$.length&&st.unshift($.join("")),m=st.join(Rt(t,r)),Re.length&&(m+=Rt(t,o)+Re.join("")),Ee&&(m+=Rt(t,he.Exponential)+"+"+Ee)}else m=Rt(t,he.Infinity);return m=n<0&&!v?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,c,e,he.CurrencyGroup,he.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}function os(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class jt{}let gn=(()=>{class n extends jt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ns(r||this.locale)(t)){case ie.Zero:return"zero";case ie.One:return"one";case ie.Two:return"two";case ie.Few:return"few";case ie.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,c)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new zo(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,c),Ps(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ps(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ps(n,e){n.context.$implicit=e.item}let Kn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function Kc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Ls=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,o="symbol",u,c){if(!function Zo(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==o&&(m="symbol"===o||"symbol-narrow"===o?function co(n,e,t="en"){const r=function $i(n){return(0,f.cg1)(n)[f.wAp.Currencies]}(t)[n]||re[n]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||n}(m,"symbol"===o?"wide":"narrow",c):o);try{return Wr(function Yo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,m,r,u)}catch(v){throw function On(n,e){return new f.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},n.\u0275pipe=f.Yjl({name:"currency",type:n,pure:!0}),n})();let Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:jt,useClass:gn}]}),n})();function _r(n){return"server"===n}let Su=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Mu((0,f.LFG)(ne),window)}),n})();class Mu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dl(this.window.history)||Dl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Dl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Us extends class Na extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){J||(J=n)}(new Us)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xu(){return Kt=Kt||document.querySelector("base"),Kt?Kt.getAttribute("href"):null}();return null==t?null:function mo(n){Ra=Ra||document.createElement("a"),Ra.setAttribute("href",n);const e=Ra.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $o(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Ra,Kt=null;const Zn=new f.OlP("TRANSITION_ID"),mn=[{provide:f.ip1,useFactory:function Ou(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Zn,ne,f.zs3],multi:!0}];class ds{static init(){(0,f.VLi)(new ds)}addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,c=!1;const m=function(v){c=c||v,u--,0==u&&r(c)};o.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Yn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Qo=new f.OlP("EventManagerPlugins");let qi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const c=o[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Qo),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Cl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Kr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Bs=(()=>{class n extends Kr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,o.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(js),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(js))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function js(n){R().remove(n)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pa=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?De(n,o,t):(o=o.replace(Pa,n),t.push(o))}return t}function Nt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Hs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Sl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new Ml(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qi),f.LFG(Bs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Hs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ut[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=ut[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ut[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nt(r)):this.eventManager.addEventListener(e,t,Nt(r))}}class Sl extends Hs{constructor(e,t,r,o){super(e),this.component=r;const u=De(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function La(n){return"_ngcontent-%COMP%".replace(Pa,n)}(o+"-"+r.id),this.hostAttr=function Jh(n){return"_nghost-%COMP%".replace(Pa,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ml extends Hs{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=De(o.id,o.styles,[]);for(let c=0;c<u.length;c++){const m=document.createElement("style");m.textContent=u[c],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ad=(()=>{class n extends Cl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=["alt","control","meta","shift"],Jo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xl=(()=>{class n extends Cl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let c="";if(ud.forEach(v=>{const b=r.indexOf(v);b>-1&&(r.splice(b,1),c+=v+".")}),c+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=c,m}static getEventFullKey(t){let r="",o=function zi(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&jn.hasOwnProperty(e)&&(e=jn[e]))}return Jo[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ud.forEach(u=>{u!=o&&Pi[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const cd=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function hs(){Us.makeCurrent(),ds.init()},multi:!0},{provide:ne,useFactory:function ld(){return(0,f.RDi)(document),document},deps:[]}]),yo=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function ja(){return new f.qLn},deps:[]},{provide:Qo,useClass:ad,multi:!0,deps:[ne,f.R0b,f.Lbi]},{provide:Qo,useClass:xl,multi:!0,deps:[ne]},{provide:hn,useClass:hn,deps:[qi,Bs,f.AFp]},{provide:f.FYo,useExisting:hn},{provide:Kr,useExisting:Bs},{provide:Bs,useClass:Bs,deps:[ne]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:qi,useClass:qi,deps:[Qo,f.R0b]},{provide:class tn{},useClass:Yn,deps:[]}];let Nu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Zn,useExisting:f.AFp},mn]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:yo,imports:[Vs,f.hGG]}),n})();"undefined"!=typeof window&&window;let Eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):f.LFG(fd),r},providedIn:"root"}),n})(),fd=(()=>{class n extends Eo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case f.q3G.NONE:return r;case f.q3G.HTML:return(0,f.qzn)(r,"HTML")?(0,f.z3N)(r):(0,f.EiD)(this._doc,String(r)).toString();case f.q3G.STYLE:return(0,f.qzn)(r,"Style")?(0,f.z3N)(r):r;case f.q3G.SCRIPT:if((0,f.qzn)(r,"Script"))return(0,f.z3N)(r);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(r),(0,f.qzn)(r,"URL")?(0,f.z3N)(r):(0,f.mCW)(String(r));case f.q3G.RESOURCE_URL:if((0,f.qzn)(r,"ResourceURL"))return(0,f.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,f.JVY)(t)}bypassSecurityTrustStyle(t){return(0,f.L6k)(t)}bypassSecurityTrustScript(t){return(0,f.eBb)(t)}bypassSecurityTrustUrl(t){return(0,f.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,f.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function za(n){return new fd(n.get(ne))}(f.LFG(f.zs3)),r},providedIn:"root"}),n})();var ms=P(2011),cn=P(8996),Dn=P(7669);function it(...n){const e=(0,Dn.yG)(n);return(0,cn.D)(n,e)}var Xn=P(7579);class Or extends Xn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Hn=P(8306);const{isArray:pd}=Array,{getPrototypeOf:dn,prototype:kl,keys:$s}=Object;function ta(n){if(1===n.length){const e=n[0];if(pd(e))return{args:e,keys:null};if(function wo(n){return n&&"object"==typeof n&&dn(n)===kl}(e)){const t=$s(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var na=P(4671),Ct=P(4004);const{isArray:Fl}=Array;function Wa(n){return(0,Ct.U)(e=>function rf(n,e){return Fl(e)?n(...e):n(e)}(n,e))}function ys(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Tn=P(5403),Gs=P(9672);function Fu(n,e,t){n?(0,Gs.f)(t,n,e):e()}const qs=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zs=P(8189);function Io(...n){return function Lu(){return(0,zs.J)(1)}()((0,cn.D)(n,(0,Dn.yG)(n)))}var ra=P(8421);function Ll(n){return new Hn.y(e=>{(0,ra.Xf)(n()).subscribe(e)})}var vr=P(515),gd=P(727),Rr=P(4482);function Za(){return(0,Rr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Tn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ws extends Hn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Tn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gd.w0.EMPTY)}return e}refCount(){return Za()(this)}}function $n(n,e){return(0,Rr.e)((t,r)=>{let o=null,u=0,c=!1;const m=()=>c&&!o&&r.complete();t.subscribe((0,Tn.x)(r,v=>{null==o||o.unsubscribe();let b=0;const S=u++;(0,ra.Xf)(n(v,S)).subscribe(o=(0,Tn.x)(r,O=>r.next(e?e(v,O,S,b++):O),()=>{o=null,m()}))},()=>{c=!0,m()}))})}var ia=P(5698);function _s(...n){const e=(0,Dn.yG)(n);return(0,Rr.e)((t,r)=>{(e?Io(n,t,e):Io(n,t)).subscribe(r)})}function sa(n,e,t,r,o){return(u,c)=>{let m=t,v=e,b=0;u.subscribe((0,Tn.x)(c,S=>{const O=b++;v=m?n(v,S,O):(m=!0,S),r&&c.next(v)},o&&(()=>{m&&c.next(v),c.complete()})))}}function fi(n,e){return(0,Rr.e)(sa(n,e,arguments.length>=2,!0))}function er(n,e){return(0,Rr.e)((t,r)=>{let o=0;t.subscribe((0,Tn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function ki(n){return(0,Rr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Tn.x)(t,void 0,void 0,c=>{u=(0,ra.Xf)(n(c,ki(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var tr=P(5577),bo=P(576);function oa(n,e){return(0,bo.m)(e)?(0,tr.z)(n,e,1):(0,tr.z)(n,1)}function Ya(n){return n<=0?()=>vr.E:(0,Rr.e)((e,t)=>{let r=[];e.subscribe((0,Tn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function fn(n=yg){return(0,Rr.e)((e,t)=>{let r=!1;e.subscribe((0,Tn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function yg(){return new qs}function _g(n){return(0,Rr.e)((e,t)=>{let r=!1;e.subscribe((0,Tn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Do(n,e){const t=arguments.length>=2;return r=>r.pipe(n?er((o,u)=>n(o,u,r)):na.y,(0,ia.q)(1),t?_g(e):fn(()=>new qs))}var Zr=P(8505);class Ks{constructor(e,t){this.id=e,this.url=t}}class vs extends Ks{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Ks{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pn extends Ks{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends Ks{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class To extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class By extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends Ks{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Er extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends Ks{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Co{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const At="primary";class aa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gn(n){return new aa(n)}const $l="ngNavigationCancelingError";function Ao(n){const e=Error("NavigationCancelingError: "+n);return e[$l]=!0,e}function yd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const c=r[u],m=n[u];if(c.startsWith(":"))o[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Uu(n[o],e[o]))return!1;return!0}function Uu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Bu(n){return Array.prototype.concat.apply([],n)}function Ys(n){return n.length>0?n[n.length-1]:null}function an(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function gi(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,cn.D)(Promise.resolve(n)):it(n)}const Qs={exact:function D(n,e,t){if(!St(n.segments,e.segments)||!W(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:x},ua={exact:function af(n,e){return Li(n,e)},subset:function T(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Uu(n[t],e[t]))},ignored:()=>!0};function Ja(n,e,t){return Qs[t.paths](n.root,e.root,t.matrixParams)&&ua[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function x(n,e,t){return F(n,e,e.segments,t)}function F(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!St(o,t)||e.hasChildren()||!W(o,t,r))}if(n.segments.length===t.length){if(!St(n.segments,t)||!W(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!x(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(St(n.segments,o)&&W(n.segments,o,r)&&n.children[At])&&F(n.children[At],e,u,r)}}function W(n,e,t){return e.every((r,o)=>ua[t](n[o].parameters,r.parameters))}class te{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return Nn.serialize(this)}}class fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,an(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Js(this)}}class Fe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gn(this.parameters)),this._parameterMap}toString(){return eu(this)}}function St(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Cn{}class lr{parse(e){const t=new _d(e);return new te(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yr(e.root,!0)}`,r=function jy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${yi(t)}=${yi(o)}`).join("&"):`${yi(t)}=${yi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _i(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Nn=new lr;function Js(n){return n.segments.map(e=>eu(e)).join("/")}function Yr(n,e){if(!n.hasChildren())return Js(n);if(e){const t=n.children[At]?Yr(n.children[At],!1):"",r=[];return an(n.children,(o,u)=>{u!==At&&r.push(`${u}:${Yr(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Zt(n,e){let t=[];return an(n.children,(r,o)=>{o===At&&(t=t.concat(e(r,o)))}),an(n.children,(r,o)=>{o!==At&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===At?[Yr(n.children[At],!1)]:[`${o}:${Yr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${Js(n)}/${t[0]}`:`${Js(n)}/(${t.join("//")})`}}function mi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(n){return mi(n).replace(/%3B/gi,";")}function Xa(n){return mi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(n){return decodeURIComponent(n)}function ql(n){return Gl(n.replace(/\+/g,"%20"))}function eu(n){return`${Xa(n.path)}${function vg(n){return Object.keys(n).map(e=>`;${Xa(e)}=${Xa(n[e])}`).join("")}(n.parameters)}`}const Hy=/^[^\/()?;=#]+/;function Es(n){const e=n.match(Hy);return e?e[0]:""}const zl=/^[^=?&#]+/,Gy=/^[^&#]+/;class _d{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[At]=new fe(e,t)),r}parseSegment(){const e=Es(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fe(Gl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Es(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Es(this.remaining);o&&(r=o,this.capture(r))}e[Gl(t)]=Gl(r)}parseQueryParam(e){const t=function $y(n){const e=n.match(zl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Eg(n){const e=n.match(Gy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const o=ql(t),u=ql(r);if(e.hasOwnProperty(o)){let c=e[o];Array.isArray(c)||(c=[c],e[o]=c),c.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Es(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=At);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[At]:new fe([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class qy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return lf(e,this._root).map(t=>t.value)}}function uf(n,e){if(n===e.value)return e;for(const t of e.children){const r=uf(n,t);if(r)return r}return null}function lf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lf(n,t);if(r.length)return r.unshift(e),r}return[]}class So{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vd extends qy{constructor(e,t){super(e),this.snapshot=t,wd(this,e)}toString(){return this.snapshot.toString()}}function tu(n,e){const t=function zy(n,e){const c=new Hu([],{},{},"",{},At,e,null,n.root,-1,{});return new cf("",new So(c,[]))}(n,e),r=new Or([new Fe("",{})]),o=new Or({}),u=new Or({}),c=new Or({}),m=new Or(""),v=new xo(r,o,c,m,u,At,e,t.root);return v.snapshot=t.root,new vd(new So(v,[]),t)}class xo{constructor(e,t,r,o,u,c,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=c,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>Gn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>Gn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ed(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hu{constructor(e,t,r,o,u,c,m,v,b,S,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=c,this.component=m,this.routeConfig=v,this._urlSegment=b,this._lastPathIndex=S,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cf extends qy{constructor(e,t){super(t),this.url=e,wd(this,t)}toString(){return Id(this._root)}}function wd(n,e){e.value._routerState=n,e.children.forEach(t=>wd(n,t))}function Id(n){const e=n.children.length>0?` { ${n.children.map(Id).join(", ")} } `:"";return`${n.value}${e}`}function Oo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function Zs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function df(n,e){const t=Li(n.params,e.params)&&function We(n,e){return St(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||df(n.parent,e.parent))}function Wl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function hf(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Wl(n,r,o);return Wl(n,r)})}(n,e,t);return new So(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(m=>Wl(n,m)),c}}const r=function Zy(n){return new xo(new Or(n.url),new Or(n.params),new Or(n.queryParams),new Or(n.fragment),new Or(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Wl(n,u));return new So(r,o)}}function No(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nu(n){return"object"==typeof n&&null!=n&&n.outlets}function ff(n,e,t,r,o){let u={};return r&&an(r,(c,m)=>{u[m]=Array.isArray(c)?c.map(v=>`${v}`):`${c}`}),new te(t.root===n?e:bd(t.root,n,e),u,o)}function bd(n,e,t){const r={};return an(n.children,(o,u)=>{r[u]=o===e?t:bd(o,e,t)}),new fe(n.segments,r)}class wg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&No(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(nu);if(o&&o!==Ys(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jy(n,e,t){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return Xs(n,e,t);const r=function I0(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const c=n.segments[o],m=t[r];if(nu(m))break;const v=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&b&&"object"==typeof b&&void 0===b.outlets){if(!Vi(v,b,c))return u;r+=2}else{if(!Vi(v,{},c))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new fe(n.segments.slice(0,r.pathIndex),{});return u.children[At]=new fe(n.segments.slice(r.pathIndex),n.children),Xs(u,0,o)}return r.match&&0===o.length?new fe(n.segments,{}):r.match&&!n.hasChildren()?pf(n,e,t):r.match?Xs(n,0,o):pf(n,e,t)}function Xs(n,e,t){if(0===t.length)return new fe(n.segments,{});{const r=function Qy(n){return nu(n[0])?n[0].outlets:{[At]:n}}(t),o={};return an(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[c]=Jy(n.children[c],e,u))}),an(n.children,(u,c)=>{void 0===r[c]&&(o[c]=u)}),new fe(n.segments,o)}}function pf(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(nu(u)){const v=ru(u.outlets);return new fe(r,v)}if(0===o&&No(t[0])){r.push(new Fe(n.segments[e].path,gf(t[0]))),o++;continue}const c=nu(u)?u.outlets[At]:`${u}`,m=o<t.length-1?t[o+1]:null;c&&m&&No(m)?(r.push(new Fe(c,gf(m))),o+=2):(r.push(new Fe(c,{})),o++)}return new fe(r,{})}function ru(n){const e={};return an(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pf(new fe([],{}),0,t))}),e}function gf(n){const e={};return an(n,(t,r)=>e[r]=`${t}`),e}function Vi(n,e,t){return n==t.path&&Li(e,t.parameters)}class Dg{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Oo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Mo(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,o[c],r),delete o[c]}),an(o,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const c=r.getContext(o.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Mo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],o);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Mo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Mo(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new jl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Ki(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Oo(o),o===u)if(o.component){const c=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const c=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),Oo(m.route.value),this.activateChildRoutes(e,null,c.children)}else{const m=function Td(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),v=m?m.module.componentFactoryResolver:null;c.attachRef=null,c.route=o,c.resolver=v,c.outlet&&c.outlet.activateWith(o,v),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Cd{constructor(e,t){this.routes=e,this.module=t}}function iu(n){return"function"==typeof n}function $u(n){return n instanceof te}const Zl=Symbol("INITIAL_VALUE");function la(){return $n(n=>function ku(...n){const e=(0,Dn.yG)(n),t=(0,Dn.jO)(n),{args:r,keys:o}=ta(n);if(0===r.length)return(0,cn.D)([],e);const u=new Hn.y(function Nr(n,e,t=na.y){return r=>{Fu(e,()=>{const{length:o}=n,u=new Array(o);let c=o,m=o;for(let v=0;v<o;v++)Fu(e,()=>{const b=(0,cn.D)(n[v],e);let S=!1;b.subscribe((0,Tn.x)(r,O=>{u[v]=O,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,o?c=>ys(o,c):na.y));return t?u.pipe(Wa(t)):u}(n.map(e=>e.pipe((0,ia.q)(1),_s(Zl)))).pipe(fi((e,t)=>{let r=!1;return t.reduce((o,u,c)=>o!==Zl?o:(u===Zl&&(r=!0),r||!1!==u&&c!==t.length-1&&!$u(u)?o:u),e)},Zl),er(e=>e!==Zl),(0,Ct.U)(e=>$u(e)?e:!0===e),(0,ia.q)(1)))}class Xy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yl,this.attachRef=null}}class Yl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Xy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ql=(()=>{class n{constructor(t,r,o,u,c){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||At,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new vf(t,m,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Yl),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===xo?this.route:e===Yl?this.childContexts:this.parent.get(e,t)}}let Ef=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[Ql],encapsulation:2}),n})();function Jl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Xl(r,wf(e,r))}}function Xl(n,e){n.children&&Jl(n.children,e)}function wf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function If(n){const e=n.children&&n.children.map(If),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==At&&(t.component=Ef),t}function Ht(n){return n.outlet||At}function Ad(n,e){const t=n.filter(r=>Ht(r)===e);return t.push(...n.filter(r=>Ht(r)!==e)),t}const Cg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Cg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||yd)(t,n,e);if(!u)return Object.assign({},Cg);const c={};an(u.posParams,(v,b)=>{c[b]=v.path});const m=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function ec(n,e,t,r,o="corrected"){if(t.length>0&&function t_(n,e,t){return t.some(r=>Md(n,e,r)&&Ht(r)!==At)}(n,t,r)){const c=new fe(e,function Sd(n,e,t,r){const o={};o[At]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ht(u)!==At){const c=new fe([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,o[Ht(u)]=c}return o}(n,e,r,new fe(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Ag(n,e,t){return t.some(r=>Md(n,e,r))}(n,t,r)){const c=new fe(n.segments,function e_(n,e,t,r,o,u){const c={};for(const m of r)if(Md(n,t,m)&&!o[Ht(m)]){const v=new fe([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[Ht(m)]=v}return Object.assign(Object.assign({},o),c)}(n,e,t,r,n.children,o));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new fe(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Md(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function n_(n,e,t,r){return!!(Ht(n)===r||r!==At&&Md(e,t,n))&&("**"===n.path||Gu(e,n,t).matched)}function r_(n,e,t){return 0===e.length&&!n.children[t]}class Ro{constructor(e){this.segmentGroup=e||null}}class wr{constructor(e){this.urlTree=e}}function ca(n){return new Hn.y(e=>e.error(new Ro(n)))}function tc(n){return new Hn.y(e=>e.error(new wr(n)))}function bf(n){return new Hn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Df{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=ec(this.urlTree.root,[],[],this.config).segmentGroup,t=new fe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,At).pipe((0,Ct.U)(u=>this.createUrlTree(ou(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ki(u=>{if(u instanceof wr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ro?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,At).pipe((0,Ct.U)(o=>this.createUrlTree(ou(o),e.queryParams,e.fragment))).pipe(ki(o=>{throw o instanceof Ro?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new fe([],{[At]:e}):e;return new te(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(u=>new fe([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,cn.D)(o).pipe(oa(u=>{const c=r.children[u],m=Ad(t,u);return this.expandSegmentGroup(e,m,c,u).pipe((0,Ct.U)(v=>({segment:v,outlet:u})))}),fi((u,c)=>(u[c.outlet]=c.segment,u),{}),function Uy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?er((o,u)=>n(o,u,r)):na.y,Ya(1),t?_g(e):fn(()=>new qs))}())}expandSegment(e,t,r,o,u,c){return(0,cn.D)(r).pipe(oa(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,c).pipe(ki(b=>{if(b instanceof Ro)return it(null);throw b}))),Do(m=>!!m),ki((m,v)=>{if(m instanceof qs||"EmptyError"===m.name){if(r_(t,o,u))return it(new fe([],{}));throw new Ro(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,c,m){return n_(o,t,u,c)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,c):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c):ca(t):ca(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tc(u):this.lineralizeSegments(r,u).pipe((0,tr.z)(c=>{const m=new fe(c,{});return this.expandSegment(e,m,t,c,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,c){const{matched:m,consumedSegments:v,lastChild:b,positionalParamSegments:S}=Gu(t,o,u);if(!m)return ca(t);const O=this.applyRedirectCommands(v,o.redirectTo,S);return o.redirectTo.startsWith("/")?tc(O):this.lineralizeSegments(o,O).pipe((0,tr.z)(L=>this.expandSegment(e,t,r,L.concat(u.slice(b)),c,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?it(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ct.U)(L=>(r._loadedConfig=L,new fe(o,{})))):it(new fe(o,{}));const{matched:c,consumedSegments:m,lastChild:v}=Gu(t,r,o);if(!c)return ca(t);const b=o.slice(v);return this.getChildConfig(e,r,o).pipe((0,tr.z)(O=>{const L=O.module,$=O.routes,{segmentGroup:Z,slicedSegments:Ee}=ec(t,m,b,$),Re=new fe(Z.segments,Z.children);if(0===Ee.length&&Re.hasChildren())return this.expandChildren(L,$,Re).pipe((0,Ct.U)(ct=>new fe(m,ct)));if(0===$.length&&0===Ee.length)return it(new fe(m,{}));const st=Ht(r)===u;return this.expandSegment(L,Re,$,Ee,st?At:u,!0).pipe((0,Ct.U)(Pt=>new fe(m.concat(Pt.segments),Pt.children)))}))}getChildConfig(e,t,r){return t.children?it(new Cd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?it(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,tr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Ct.U)(u=>(t._loadedConfig=u,u))):function Pr(n){return new Hn.y(e=>e.error(Ao(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):it(new Cd([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?it(o.map(c=>{const m=e.get(c);let v;if(function mf(n){return n&&iu(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!iu(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return gi(v)})).pipe(la(),(0,Zr.b)(c=>{if(!$u(c))return;const m=Ao(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw m.url=c,m}),(0,Ct.U)(c=>!0===c)):it(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return it(r);if(o.numberOfChildren>1||!o.children[At])return bf(e.redirectTo);o=o.children[At]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new te(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return an(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let c={};return an(t.children,(m,v)=>{c[v]=this.createSegmentGroup(e,m,r,o)}),new fe(u,c)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function ou(n){const e={};for(const r of Object.keys(n.children)){const u=ou(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Ui(n){if(1===n.numberOfChildren&&n.children[At]){const e=n.children[At];return new fe(n.segments.concat(e.segments),e.children)}return n}(new fe(n.segments,e))}class Sg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class au{constructor(e,t){this.component=e,this.route=t}}function Cf(n,e,t){const r=n._root;return vi(r,e?e._root:null,t,[r.value])}function nc(n,e,t){const r=function i_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function vi(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Mo(e);return n.children.forEach(c=>{(function xg(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const v=function s_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!St(n.url,e.url);case"pathParamsOrQueryParamsChange":return!St(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!df(n,e)||!Li(n.queryParams,e.queryParams);default:return!df(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Sg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),vi(n,e,u.component?m?m.children:null:t,r,o),v&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new au(m.outlet.component,c))}else c&&uu(e,m,o),o.canActivateChecks.push(new Sg(r)),vi(n,null,u.component?m?m.children:null:t,r,o)})(c,u[c.value.outlet],t,r.concat([c.value]),o),delete u[c.value.outlet]}),an(u,(c,m)=>uu(c,t.getContext(m),o)),o}function uu(n,e,t){const r=Mo(n),o=n.value;an(r,(u,c)=>{uu(u,o.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new au(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Mf{}function xf(n){return new Hn.y(e=>e.error(n))}class Of{constructor(e,t,r,o,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=ec(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,At);if(null===t)return null;const r=new Hu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new So(r,t),u=new cf(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Wy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],m=Ad(e,u),v=this.processSegmentGroup(m,c,u);if(null===v)return null;r.push(...v)}const o=Rg(r);return function l_(n){n.sort((e,t)=>e.value.outlet===At?-1:t.value.outlet===At?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,o);if(null!==c)return c}return r_(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!n_(e,t,r,o))return null;let u,c=[],m=[];if("**"===e.path){const $=r.length>0?Ys(r).parameters:{};u=new Hu(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),Ht(e),e.component,e,h(t),g(t)+r.length,A(e))}else{const $=Gu(t,e,r);if(!$.matched)return null;c=$.consumedSegments,m=r.slice($.lastChild),u=new Hu(c,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),Ht(e),e.component,e,h(t),g(t)+c.length,A(e))}const v=function Ng(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:S}=ec(t,c,m,v.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===S.length&&b.hasChildren()){const $=this.processChildren(v,b);return null===$?null:[new So(u,$)]}if(0===v.length&&0===S.length)return[new So(u,[])];const O=Ht(e)===o,L=this.processSegment(v,b,S,O?At:o);return null===L?null:[new So(u,L)]}}function c_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Rg(n){const e=[],t=new Set;for(const r of n){if(!c_(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Rg(r.children);e.push(new So(r.value,o))}return e.filter(r=>!t.has(r))}function h(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function E(n){return n.data||{}}function A(n){return n.resolve||{}}function Ze(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function tt(n){return $n(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,Ct.U)(()=>e)):it(e)})}class ic extends class Zi{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const qu=new f.OlP("ROUTES");class zu{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Ct.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new Cd(Bu(c.injector.get(qu,void 0,f.XFs.Self|f.XFs.Optional)).map(If),c)}),ki(u=>{throw t._loader$=void 0,u}));return t._loader$=new Ws(o,()=>new Xn.x).pipe(Za()),t._loader$}loadModuleFactory(e){return gi(e()).pipe((0,tr.z)(t=>t instanceof f.YKP?it(t):(0,cn.D)(this.compiler.compileModuleAsync(t))))}}class d_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function da(n){throw n}function xd(n,e,t){return e.parse("/")}function Od(n,e){return it(null)}const Rf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class n{constructor(t,r,o,u,c,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xn.x,this.errorHandler=da,this.malformedUriErrorHandler=xd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Od,afterPreactivation:Od},this.urlHandlingStrategy=new d_,this.routeReuseStrategy=new ic,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(f.h0i),this.console=c.get(f.c2e);const O=c.get(f.R0b);this.isNgZoneEnabled=O instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function of(){return new te(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zu(c,m,L=>this.triggerEvent(new Bl(L)),L=>this.triggerEvent(new Co(L))),this.routerState=tu(this.currentUrlTree,this.rootComponentType),this.transitions=new Or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(er(o=>0!==o.id),(0,Ct.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$n(o=>{let u=!1,c=!1;return it(o).pipe((0,Zr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$n(m=>{const v=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Rd(m.source)&&(this.browserUrlTree=m.extractedUrl),it(m).pipe($n(O=>{const L=this.transitions.getValue();return r.next(new vs(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),L!==this.transitions.getValue()?vr.E:Promise.resolve(O)}),function Tf(n,e,t,r){return $n(o=>function su(n,e,t,r,o){return new Df(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Ct.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function N(n,e,t,r,o){return(0,tr.z)(u=>function u_(n,e,t,r,o="emptyOnly",u="legacy"){try{const c=new Of(n,e,t,r,o,u).recognize();return null===c?xf(new Mf):it(c)}catch(c){return xf(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,Ct.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zr.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl($,O)}this.browserUrlTree=O.urlAfterRedirects}const L=new To(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(L)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:$,source:Z,restoredState:Ee,extras:Re}=m,st=new vs(L,this.serializeUrl($),Z,Ee);r.next(st);const _t=tu($,this.rootComponentType).snapshot;return it(Object.assign(Object.assign({},m),{targetSnapshot:_t,urlAfterRedirects:$,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),vr.E}),tt(m=>{const{targetSnapshot:v,id:b,extractedUrl:S,rawUrl:O,extras:{skipLocationChange:L,replaceUrl:$}}=m;return this.hooks.beforePreactivation(v,{navigationId:b,appliedUrlTree:S,rawUrlTree:O,skipLocationChange:!!L,replaceUrl:!!$})}),(0,Zr.b)(m=>{const v=new By(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Ct.U)(m=>Object.assign(Object.assign({},m),{guards:Cf(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function o_(n,e){return(0,tr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?it(Object.assign(Object.assign({},t),{guardsResult:!0})):function Og(n,e,t,r){return(0,cn.D)(n).pipe((0,tr.z)(o=>function rc(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?it(u.map(m=>{const v=nc(m,e,o);let b;if(function b0(n){return n&&iu(n.canDeactivate)}(v))b=gi(v.canDeactivate(n,e,t,r));else{if(!iu(v))throw new Error("Invalid CanDeactivate guard");b=gi(v(n,e,t,r))}return b.pipe(Do())})).pipe(la()):it(!0)}(o.component,o.route,t,e,r)),Do(o=>!0!==o,!0))}(c,r,o,n).pipe((0,tr.z)(m=>m&&function Tg(n){return"boolean"==typeof n}(m)?function cr(n,e,t,r){return(0,cn.D)(e).pipe(oa(o=>Io(function Sf(n,e){return null!==n&&e&&e(new Fi(n)),it(!0)}(o.route.parent,r),function Af(n,e){return null!==n&&e&&e(new Qa(n)),it(!0)}(o.route,r),function Po(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function Mg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ll(()=>it(c.guards.map(v=>{const b=nc(v,c.node,t);let S;if(function _f(n){return n&&iu(n.canActivateChild)}(b))S=gi(b.canActivateChild(r,n));else{if(!iu(b))throw new Error("Invalid CanActivateChild guard");S=gi(b(r,n))}return S.pipe(Do())})).pipe(la())));return it(u).pipe(la())}(n,o.path,t),function a_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const o=r.map(u=>Ll(()=>{const c=nc(u,e,t);let m;if(function yf(n){return n&&iu(n.canActivate)}(c))m=gi(c.canActivate(e,n));else{if(!iu(c))throw new Error("Invalid CanActivate guard");m=gi(c(e,n))}return m.pipe(Do())}));return it(o).pipe(la())}(n,o.route,t))),Do(o=>!0!==o,!0))}(r,u,n,e):it(m)),(0,Ct.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Zr.b)(m=>{if($u(m.guardsResult)){const b=Ao(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw b.url=m.guardsResult,b}const v=new Ul(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),er(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),tt(m=>{if(m.guards.canActivateChecks.length)return it(m).pipe((0,Zr.b)(v=>{const b=new Er(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),$n(v=>{let b=!1;return it(v).pipe(function q(n,e){return(0,tr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return it(t);let u=0;return(0,cn.D)(o).pipe(oa(c=>function le(n,e,t,r){return function Ue(n,e,t,r){const o=Ze(n);if(0===o.length)return it({});const u={};return(0,cn.D)(o).pipe((0,tr.z)(c=>function mt(n,e,t,r){const o=nc(n,e,r);return gi(o.resolve?o.resolve(e,t):o(e,t))}(n[c],e,t,r).pipe((0,Zr.b)(m=>{u[c]=m}))),Ya(1),(0,tr.z)(()=>Ze(u).length===o.length?it(u):vr.E))}(n._resolve,n,e,r).pipe((0,Ct.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Wy(n,t).resolve),null)))}(c.route,r,n,e)),(0,Zr.b)(()=>u++),Ya(1),(0,tr.z)(c=>u===o.length?it(t):vr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Zr.b)(v=>{const b=new pi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}))}),tt(m=>{const{targetSnapshot:v,id:b,extractedUrl:S,rawUrl:O,extras:{skipLocationChange:L,replaceUrl:$}}=m;return this.hooks.afterPreactivation(v,{navigationId:b,appliedUrlTree:S,rawUrlTree:O,skipLocationChange:!!L,replaceUrl:!!$})}),(0,Ct.U)(m=>{const v=function Ky(n,e,t){const r=Wl(n,e._root,t?t._root:void 0);return new vd(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,Zr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new Dg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Zr.b)({next(){u=!0},complete(){u=!0}}),function sf(n){return(0,Rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||c||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),ki(m=>{if(c=!0,function md(n){return n&&n[$l]}(m)){const v=$u(m.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const b=new pn(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(b),v?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rd(o.source)};this.scheduleNavigation(S,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new Vl(o.id,this.serializeUrl(o.extractedUrl),m);r.next(v);try{o.resolve(this.errorHandler(m))}catch(b){o.reject(b)}}return vr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},c=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(c){const v=Object.assign({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Jl(t),this.config=t.map(If),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:c,queryParamsHandling:m,preserveFragment:v}=r,b=o||this.routerState.root,S=v?this.currentUrlTree.fragment:c;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function ws(n,e,t,r,o){if(0===t.length)return ff(e.root,e.root,e,r,o);const u=function Ig(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wg(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return an(u.outlets,(v,b)=>{m[b]="string"==typeof v?v.split("/"):v}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===c?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new wg(t,e,r)}(t);if(u.toRoot())return ff(e.root,new fe([],{}),e,r,o);const c=function bg(n,e,t){if(n.isAbsolute)return new Dd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Dd(u,u===e.root,0)}const r=No(n.commands[0])?0:1;return function Yy(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Dd(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=c.processChildren?Xs(c.segmentGroup,c.index,u.commands):Jy(c.segmentGroup,c.index,u.commands);return ff(c.segmentGroup,m,e,r,o)}(b,this.currentUrlTree,t,O,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=$u(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Pf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Rf):!1===r?Object.assign({},Nd):r,$u(t))return Ja(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ja(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,c){var m,v,b;if(this.disposed)return Promise.resolve(!1);const S=this.transitions.value,O=Rd(r)&&S&&!Rd(S.source),L=S.rawUrl.toString()===t.toString(),$=S.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(O&&L&&$)return Promise.resolve(!0);let Ee,Re,st;c?(Ee=c.resolve,Re=c.reject,st=c.promise):st=new Promise((ct,sn)=>{Ee=ct,Re=sn});const _t=++this.navigationId;let Pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Pt=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Pt=0,this.setTransition({id:_t,targetPageId:Pt,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:Ee,reject:Re,promise:st,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),st.catch(ct=>Promise.reject(ct))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new pn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Rd(n){return"imperative"!==n}let kf=(()=>{class n{constructor(t,r,o,u,c){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=c,this.commands=null,this.onChanges=new Xn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Pd(this.skipLocationChange),replaceUrl:Pd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ei),f.Y36(xo),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function Pd(n){return""===n||!!n}class p_{}class T0{preload(e,t){return it(null)}}let C0=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new zu(o,r,v=>t.triggerEvent(new Bl(v)),v=>t.triggerEvent(new Co(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(er(t=>t instanceof Vu),oa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,cn.D)(o).pipe((0,zs.J)(),(0,Ct.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?it(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,tr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ei),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(p_))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Pg=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Hl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new f.OlP("ROUTER_CONFIGURATION"),m_=new f.OlP("ROUTER_FORROOT_GUARD"),A0=[me,{provide:Cn,useClass:lr},{provide:Ei,useFactory:function __(n,e,t,r,o,u,c={},m,v){const b=new Ei(null,n,e,t,r,o,Bu(u));return m&&(b.urlHandlingStrategy=m),v&&(b.routeReuseStrategy=v),function x0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(S=>{var O,L;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),b},deps:[Cn,Yl,me,f.zs3,f.Sil,qu,Is,[class Nf{},new f.FiY],[class _n{},new f.FiY]]},Yl,{provide:xo,useFactory:function kg(n){return n.routerState.root},deps:[Ei]},C0,T0,class g_{preload(e,t){return t().pipe(ki(()=>it(null)))}},{provide:Is,useValue:{enableTracing:!1}}];function pD(){return new f.PXZ("Router",Ei)}let Ff=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[A0,y_(t),{provide:m_,useFactory:M0,deps:[[Ei,new f.FiY,new f.tp0]]},{provide:Is,useValue:r||{}},{provide:z,useFactory:S0,deps:[ce,[new f.tBr(Se),new f.FiY],Is]},{provide:Pg,useFactory:gD,deps:[Ei,Su,Is]},{provide:p_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:T0},{provide:f.PXZ,multi:!0,useFactory:pD},[kd,{provide:f.ip1,multi:!0,useFactory:O0,deps:[kd]},{provide:E_,useFactory:v_,deps:[kd]},{provide:f.tb,multi:!0,useExisting:E_}]]}}static forChild(t){return{ngModule:n,providers:[y_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(m_,8),f.LFG(Ei,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function gD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pg(n,e,t)}function S0(n,e,t={}){return t.useHash?new se(n,e):new Oe(n,e)}function M0(n){return"guarded"}function y_(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:qu,multi:!0,useValue:n}]}let kd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(Ei),c=this.injector.get(Is);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?it(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Is),o=this.injector.get(C0),u=this.injector.get(Pg),c=this.injector.get(Ei),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),o.setUpPreloading(),u.init(),c.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function O0(n){return n.appInitializer.bind(n)}function v_(n){return n.bootstrapListener.bind(n)}const E_=new f.OlP("Router Initializer");let I_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),sc=(()=>{class n extends I_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const ha=new f.OlP("NgValueAccessor"),R0={provide:ha,useExisting:(0,f.Gpc)(()=>Vg),multi:!0},P0=new f.OlP("CompositionEventMode");let Vg=(()=>{class n extends I_{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dS(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(P0,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([R0]),f.qOj]}),n})();function lu(n){return null==n||0===n.length}function k0(n){return null!=n&&"number"==typeof n.length}const wi=new f.OlP("NgValidators"),kr=new f.OlP("NgAsyncValidators"),yD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lf{static min(e){return function F0(n){return e=>{if(lu(e.value)||lu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function L0(n){return e=>{if(lu(e.value)||lu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function V0(n){return lu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function U0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function b_(n){return lu(n.value)||yD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function B0(n){return e=>lu(e.value)||!k0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function j0(n){return e=>k0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function H0(n){if(!n)return Et;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(lu(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return $0(e)}static composeAsync(e){return fa(e)}}function Et(n){return null}function D_(n){return null!=n}function T_(n){const e=(0,f.QGY)(n)?(0,cn.D)(n):n;return(0,f.CqO)(e),e}function C_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vf(n,e){return e.map(t=>t(n))}function A_(n){return n.map(e=>function ko(n){return!n.validate}(e)?e:t=>e.validate(t))}function $0(n){if(!n)return null;const e=n.filter(D_);return 0==e.length?null:function(t){return C_(Vf(t,e))}}function Uf(n){return null!=n?$0(A_(n)):null}function fa(n){if(!n)return null;const e=n.filter(D_);return 0==e.length?null:function(t){return function mD(...n){const e=(0,Dn.jO)(n),{args:t,keys:r}=ta(n),o=new Hn.y(u=>{const{length:c}=t;if(!c)return void u.complete();const m=new Array(c);let v=c,b=c;for(let S=0;S<c;S++){let O=!1;(0,ra.Xf)(t[S]).subscribe((0,Tn.x)(u,L=>{O||(O=!0,b--),m[S]=L},()=>v--,void 0,()=>{(!v||!O)&&(b||u.next(r?ys(r,m):m),u.complete())}))}});return e?o.pipe(Wa(e)):o}(Vf(t,e).map(T_)).pipe((0,Ct.U)(C_))}}function Bf(n){return null!=n?fa(A_(n)):null}function S_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ug(n){return n._rawValidators}function _D(n){return n._rawAsyncValidators}function Bg(n){return n?Array.isArray(n)?n:[n]:[]}function M_(n,e){return Array.isArray(n)?n.includes(e):n===e}function jf(n,e){const t=Bg(e);return Bg(n).forEach(o=>{M_(t,o)||t.push(o)}),t}function Hf(n,e){return Bg(e).filter(t=>!M_(n,t))}class jg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pa extends jg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qr extends jg{get formDirective(){return null}get path(){return null}}class vD{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let G0=(()=>{class n extends vD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(pa,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),q0=(()=>{class n extends vD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Qr,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function $g(n,e){Gg(n,e),e.valueAccessor.writeValue(n.value),function Z0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Y0(n,e)})}(n,e),function Wu(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function N_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Y0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Fo(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ld(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Gg(n,e){const t=Ug(n);null!==e.validator?n.setValidators(S_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=_D(n);null!==e.asyncValidator?n.setAsyncValidators(S_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Fd(e._rawValidators,o),Fd(e._rawAsyncValidators,o)}function Ld(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Ug(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(c=>c!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=_D(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(c=>c!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Fd(e._rawValidators,r),Fd(e._rawAsyncValidators,r),t}function Y0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ku(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const cu="VALID",du="INVALID",Vd="PENDING",Ud="DISABLED";function $f(n){return(Kg(n)?n.validators:n)||null}function zg(n){return Array.isArray(n)?Uf(n):n||null}function Wg(n,e){return(Kg(e)?e.asyncValidators:n)||null}function Gf(n){return Array.isArray(n)?Bf(n):n||null}function Kg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Zg=n=>n instanceof U_,P_=n=>n instanceof Ii,k_=n=>n instanceof nw;function F_(n){return Zg(n)?n.value:n.getRawValue()}function tw(n,e){const t=P_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function L_(n,e){P_(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new f.vHH(1002,"")})}class V_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zg(this._rawValidators),this._composedAsyncValidatorFn=Gf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cu}get invalid(){return this.status===du}get pending(){return this.status==Vd}get disabled(){return this.status===Ud}get enabled(){return this.status!==Ud}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zg(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Gf(e)}addValidators(e){this.setValidators(jf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hf(e,this._rawAsyncValidators))}hasValidator(e){return M_(this._rawValidators,e)}hasAsyncValidator(e){return M_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ud,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cu||this.status===Vd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ud:cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vd,this._hasOwnPendingAsyncValidator=!0;const t=T_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ew(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=P_(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:k_(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Ud:this.errors?du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vd)?Vd:this._anyControlsHaveStatus(du)?du:cu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class U_ extends V_{constructor(e=null,t,r){super($f(t),Wg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kg(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ku(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ku(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ii extends V_{constructor(e,t,r){super($f(t),Wg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){L_(this,e),Object.keys(e).forEach(r=>{tw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=F_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class nw extends V_{constructor(e,t,r){super($f(t),Wg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){L_(this,e),e.forEach((r,o)=>{tw(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>F_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let H_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const OD={provide:ha,useExisting:(0,f.Gpc)(()=>$_),multi:!0};let $_=(()=>{class n extends sc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[f._Bn([OD]),f.qOj]}),n})(),uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const cw=new f.OlP("NgModelWithFormControlWarning"),PD={provide:Qr,useExisting:(0,f.Gpc)(()=>Jg)};let Jg=(()=>{class n extends Qr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ld(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $g(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Fo(t.control||null,t,!1),Ku(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function J0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Fo(r||null,t),Zg(o)&&($g(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function R_(n,e){Gg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function DD(n,e){return Ld(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gg(this.form,this),this._oldForm&&Ld(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(wi,10),f.Y36(kr,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([PD]),f.qOj,f.TTD]}),n})();const FD={provide:pa,useExisting:(0,f.Gpc)(()=>qf)};let qf=(()=>{class n extends pa{constructor(t,r,o,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function oc(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Vg?t=u:function CD(n){return Object.getPrototypeOf(n.constructor)===sc}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function qg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function O_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Qr,13),f.Y36(wi,10),f.Y36(kr,10),f.Y36(ha,10),f.Y36(cw,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([FD]),f.qOj,f.TTD]}),n})(),$D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[uw]]}),n})(),Ew=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cw,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[$D]}),n})(),qD=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let m,u=null,c=null;return null!=r&&(function GD(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(u=null!=r.validators?r.validators:null,c=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,c=null!=r.asyncValidator?r.asyncValidator:null)),new Ii(o,{asyncValidators:c,updateOn:m,validators:u})}control(t,r,o){return new U_(t,r,o)}array(t,r,o){const u=t.map(c=>this._createControl(c));return new nw(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return Zg(t)||P_(t)||k_(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:Ew}),n})();var eo=P(4986),Ir=P(5813);function nm(){return(0,Rr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Tn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function Iw(n,e){return n===e}P(3059);var Ye,WD=P(3942),Ie=P(5861),uc=P(9681),rm=P(4859),fu=P(1877),Lt=P(2090),bw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pu={},Dw=Dw||{},Dt=bw||self;function jd(){}function iv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cw="closure_uid_"+(1e9*Math.random()>>>0),Lo=0;function bS(n,e,t){return n.call.apply(n.bind,arguments)}function DS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Fr(n,e,t){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bS:DS).apply(null,arguments)}function Yf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[o].apply(r,c)}}function Yu(){this.s=this.s,this.o=this.o}var Aw={};Yu.prototype.s=!1,Yu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Tw(n){return Object.prototype.hasOwnProperty.call(n,Cw)&&n[Cw]||(n[Cw]=++Lo)}(this);delete Aw[n]}},Yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const im=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Sw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function Mw(n){return Array.prototype.concat.apply([],arguments)}function ov(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sm(n){return/^[\s\xa0]*$/.test(n)}var Vr,xw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Bi(n,e){return-1!=n.indexOf(e)}function av(n,e){return n<e?-1:n>e?1:0}e:{var lc=Dt.navigator;if(lc){var Ow=lc.userAgent;if(Ow){Vr=Ow;break e}}Vr=""}function cc(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Nw(n){const e={};for(const t in n)e[t]=n[t];return e}var Rw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function om(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Rw.length;u++)t=Rw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function to(n){return to[" "](n),n}to[" "]=jd;var gu,n,bi=Bi(Vr,"Opera"),no=Bi(Vr,"Trident")||Bi(Vr,"MSIE"),Jf=Bi(Vr,"Edge"),Yi=Jf||no,am=Bi(Vr,"Gecko")&&!(Bi(Vr.toLowerCase(),"webkit")&&!Bi(Vr,"Edge"))&&!(Bi(Vr,"Trident")||Bi(Vr,"MSIE"))&&!Bi(Vr,"Edge"),$d=Bi(Vr.toLowerCase(),"webkit")&&!Bi(Vr,"Edge");function dc(){var n=Dt.document;return n?n.documentMode:void 0}e:{var Qu="",Ju=(n=Vr,am?/rv:([^\);]+)(\)|;)/.exec(n):Jf?/Edge\/([\d\.]+)/.exec(n):no?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$d?/WebKit\/(\S+)/.exec(n):bi?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ju&&(Qu=Ju?Ju[1]:""),no){var Xu=dc();if(null!=Xu&&Xu>parseFloat(Qu)){gu=String(Xu);break e}}gu=Qu}var Gd={};var Pw=Dt.document&&no&&(dc()||parseInt(gu,10))||void 0,kw=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",jd,e),Dt.removeEventListener("test",jd,e)}catch(t){}return n}();function Jr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function zd(n,e){if(Jr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(am){e:{try{to(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zd.Z.h.call(this)}}Jr.prototype.h=function(){this.defaultPrevented=!0},Lr(zd,Jr);var Fw={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wd="closure_listenable_"+(1e6*Math.random()|0),Lw=0;function Vw(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Lw,this.ca=this.fa=!1}function um(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Xf(n){this.src=n,this.g={},this.h=0}function lv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=im(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(um(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function cv(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Xf.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=cv(n,e,r,o);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new Vw(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var lm="closure_lm_"+(1e6*Math.random()|0),dv={};function Uw(n,e,t,r,o){if(r&&r.once)return fv(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Uw(n,e[u],t,r,o);return null}return t=gv(t),n&&n[Wd]?n.N(e,t,Hd(r)?!!r.capture:!!r,o):hv(n,e,t,!1,r,o)}function hv(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var c=Hd(o)?!!o.capture:!!o,m=ep(n);if(m||(n[lm]=m=new Xf(n)),(t=m.add(e,t,r,c,u)).proxy)return t;if(r=function KD(){var e=YD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kw||(o=c),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(ZD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function fv(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)fv(n,e[u],t,r,o);return null}return t=gv(t),n&&n[Wd]?n.O(e,t,Hd(r)?!!r.capture:!!r,o):hv(n,e,t,!0,r,o)}function Bw(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Bw(n,e[u],t,r,o);else r=Hd(r)?!!r.capture:!!r,t=gv(t),n&&n[Wd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=cv(u=n.g[e],t,r,o))&&(um(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=ep(n))&&(e=n.g[e.toString()],n=-1,e&&(n=cv(e,t,r,o)),(t=-1<n?e[n]:null)&&pv(t))}function pv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wd])lv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ZD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ep(e))?(lv(t,n),0==t.h&&(t.src=null,e[lm]=null)):um(n)}}}function ZD(n){return n in dv?dv[n]:dv[n]="on"+n}function YD(n,e){if(n.ca)n=!0;else{e=new zd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&pv(n),n=t.call(r,e)}return n}function ep(n){return(n=n[lm])instanceof Xf?n:null}var tp="__closure_events_fn_"+(1e9*Math.random()>>>0);function gv(n){return"function"==typeof n?n:(n[tp]||(n[tp]=function(e){return n.handleEvent(e)}),n[tp])}function Xr(){Yu.call(this),this.i=new Xf(this),this.P=this,this.I=null}function Di(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Jr(e,n);else if(e instanceof Jr)e.target=e.target||n;else{var o=e;om(e=new Jr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];o=mv(c,r,!0,e)&&o}if(o=mv(c=e.g=n,r,!0,e)&&o,o=mv(c,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=mv(c=e.g=t[u],r,!1,e)&&o}function mv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var m=c.listener,v=c.ia||c.src;c.fa&&lv(n.i,c),o=!1!==m.call(v,r)&&o}}return o&&!r.defaultPrevented}Lr(Xr,Yu),Xr.prototype[Wd]=!0,Xr.prototype.removeEventListener=function(n,e,t,r){Bw(this,n,e,t,r)},Xr.prototype.M=function(){if(Xr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)um(t[r]);delete n.g[e],n.h--}}this.I=null},Xr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yv=Dt.JSON.stringify;function jw(){var n=Gw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _v,Hw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Kd,n=>n.reset());class Kd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function QD(n){Dt.setTimeout(()=>{throw n},0)}function cm(n,e){_v||function $w(){var n=Dt.Promise.resolve(void 0);_v=function(){n.then(qw)}}(),Zd||(_v(),Zd=!0),Gw.add(n,e)}var Zd=!1,Gw=new class CS{constructor(){this.h=this.g=null}add(e,t){const r=Hw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function qw(){for(var n;n=jw();){try{n.h.call(n.g)}catch(t){QD(t)}var e=Hw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zd=!1}function dm(n,e){Xr.call(this),this.h=n||1,this.g=e||Dt,this.j=Fr(this.kb,this),this.l=Date.now()}function vv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ev(n,e,t){if("function"==typeof n)t&&(n=Fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function zw(n){n.g=Ev(()=>{n.g=null,n.i&&(n.i=!1,zw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(dm,Xr),(Ye=dm.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Di(this,"tick"),this.da&&(vv(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){dm.Z.M.call(this),vv(this),delete this.g};class JD extends Yu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zw(this)}M(){super.M(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yd(n){Yu.call(this),this.h=n,this.g={}}Lr(Yd,Yu);var Ww=[];function wv(n,e,t,r){Array.isArray(t)||(t&&(Ww[0]=t.toString()),t=Ww);for(var o=0;o<t.length;o++){var u=Uw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Iv(n){cc(n.g,function(e,t){this.g.hasOwnProperty(t)&&pv(e)},n),n.g={}}function Qd(){this.g=!0}function Jd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function np(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<o.length;c++)o[c]=""}}}return yv(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Yd.prototype.M=function(){Yd.Z.M.call(this),Iv(this)},Yd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qd.prototype.Aa=function(){this.g=!1},Qd.prototype.info=function(){};var tl={},hm=null;function Xd(){return hm=hm||new Xr}function Kw(n){Jr.call(this,tl.Ma,n)}function nl(n){const e=Xd();Di(e,new Kw(e,n))}function rp(n,e){Jr.call(this,tl.STAT_EVENT,n),this.stat=e}function ei(n){const e=Xd();Di(e,new rp(e,n))}function XD(n,e){Jr.call(this,tl.Na,n),this.size=e}function ip(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}tl.Ma="serverreachability",Lr(Kw,Jr),tl.STAT_EVENT="statevent",Lr(rp,Jr),tl.Na="timingevent",Lr(XD,Jr);var hc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fm(){}function pm(){}fm.prototype.h=null;var mm,eh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gm(){Jr.call(this,"d")}function op(){Jr.call(this,"c")}function ym(){}function th(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yd(this),this.P=Cv,this.W=new dm(n=Yi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tv}function Tv(){this.i=null,this.g="",this.h=!1}Lr(gm,Jr),Lr(op,Jr),Lr(ym,fm),ym.prototype.g=function(){return new XMLHttpRequest},ym.prototype.i=function(){return{}},mm=new ym;var Cv=45e3,_m={},vm={};function Av(n,e,t){n.K=1,n.v=yu(mu(e)),n.s=t,n.U=!0,Zw(n,null)}function Zw(n,e){n.F=Date.now(),nh(n),n.A=mu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Pv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Tv,n.g=hT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new JD(Fr(n.Ia,n,n.g),n.O)),wv(n.V,n.g,"readystatechange",n.gb),e=n.H?Nw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),nl(1),function AS(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var c="",m=u.split("&"),v=0;v<m.length;v++){var b=m[v].split("=");if(1<b.length){var S=b[0];b=b[1];var O=S.split("_");c=2<=O.length&&"type"==O[1]?c+(S+"=")+b+"&":c+(S+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Sv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Em(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Yw(n,t),o==vm){4==e&&(n.o=4,ei(14),r=!1),Jd(n.j,n.m,null,"[Incomplete Response]");break}if(o==_m){n.o=4,ei(15),Jd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Jd(n.j,n.m,o,null),wm(n,o)}Sv(n)&&o!=vm&&o!=_m&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nm(e),e.L=!0,ei(11))):(Jd(n.j,n.m,t,"[Invalid Chunked Response]"),rl(n),rh(n))}function Yw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?vm:(t=Number(e.substring(t,r)),isNaN(t)?_m:(r+=1)+t>e.length?vm:(e=e.substr(r,t),n.C=r+t,e))}function nh(n){n.Y=Date.now()+n.P,Mv(n,n.P)}function Mv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ip(Fr(n.eb,n),e)}function ap(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function rh(n){0==n.l.G||n.I||Rm(n.l,n)}function rl(n){ap(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,vv(n.W),Iv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function wm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kv(t.i,n)))if(t.I=n.N,!n.J&&kv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=ip(Fr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;fp(t),xm(t)}Om(t),ei(18)}if(1>=ah(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else mc(t,11)}else if((n.J||t.g==n)&&fp(t),!sm(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const S=b[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const O=b[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const Z=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.i;!u.g&&(Bi(Z,"spdy")||Bi(Z,"quic")||Bi(Z,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Tm(u,u.h),u.h=null))}if(r.D){const Ee=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(r.sa=Ee,vn(r.F,r.D,Ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=yc(r,r.H?r.la:null,r.W),c.J){nI(r.i,c);var m=c,v=r.K;v&&m.setTimeout(v),m.B&&(ap(m),nh(m)),r.g=c}else Gv(r);0<t.l.length&&hp(t)}else"stop"!=b[0]&&"close"!=b[0]||mc(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?mc(t,7):Bv(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}nl(4)}catch(b){}}function Jw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(iv(n)||"string"==typeof n)Sw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(iv(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Qw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(iv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function ih(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ih)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function xv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];il(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)il(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function il(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=th.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==_u(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const S=_u(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>S)&&(3!=S||Yi||this.g&&(this.h.h||this.g.ga()||cI(this.g)))){this.I||4!=S||7==e||nl(8==e||0>=O?3:2),ap(this);var t=this.g.ba();this.N=t;t:if(Sv(this)){var r=cI(this.g);n="";var o=r.length,u=4==_u(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){rl(this),rh(this);var c="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function bv(n,e,t,r,o,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sm(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,ei(12),rl(this),rh(this);break e}Jd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wm(this,t)}this.U?(Em(this,S,c),Yi&&this.i&&3==S&&(wv(this.V,this.W,"tick",this.fb),this.W.start())):(Jd(this.j,this.m,c,null),wm(this,c)),4==S&&rl(this),this.i&&!this.I&&(4==S?Rm(this.l,this):(this.i=!1,nh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ei(12)):(this.o=0,ei(13)),rl(this),rh(this)}}}catch(S){}},Ye.fb=function(){if(this.g){var n=_u(this.g),e=this.g.ga();this.C<e.length&&(ap(this),Em(this,n,e),this.i&&4!=n&&nh(this))}},Ye.cancel=function(){this.I=!0,rl(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nl(3),ei(17)),rl(this),this.o=2,rh(this)):Mv(this,this.Y-n)},(Ye=ih.prototype).R=function(){xv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return xv(this),this.g.concat()},Ye.get=function(n,e){return il(this.h,n)?this.h[n]:e},Ye.set=function(n,e){il(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var Xw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof sl){this.g=void 0!==e?e:n.g,Im(this,n.j),this.s=n.s,up(this,n.i),bm(this,n.m),this.l=n.l,e=n.h;var t=new oh;t.i=e.i,e.g&&(t.g=new ih(e.g),t.h=e.h),Ov(this,t),this.o=n.o}else n&&(t=String(n).match(Xw))?(this.g=!!e,Im(this,t[1]||"",!0),this.s=sh(t[2]||""),up(this,t[3]||"",!0),bm(this,t[4]),this.l=sh(t[5]||"",!0),Ov(this,t[6]||"",!0),this.o=sh(t[7]||"")):(this.g=!!e,this.h=new oh(null,this.g))}function mu(n){return new sl(n)}function Im(n,e,t){n.j=t?sh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function up(n,e,t){n.i=t?sh(e,!0):e}function bm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ov(n,e,t){e instanceof oh?(n.h=e,function iT(n,e){e&&!n.j&&(ti(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(ro(this,r),Pv(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=lp(e,ma)),n.h=new oh(e,n.g))}function vn(n,e,t){n.h.set(e,t)}function yu(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,eI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function eI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lp(e,nT,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lp(e,nT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(lp(t,"/"==t.charAt(0)?Rv:Nv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lp(t,rT)),n.join("")};var nT=/[#\/\?@]/g,Nv=/[#\?:]/g,Rv=/[#\?]/g,ma=/[#\?@]/g,rT=/#/g;function oh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ti(n){n.g||(n.g=new ih,n.h=0,n.i&&function br(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ro(n,e){ti(n),e=fc(n,e),il(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,il((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&xv(n)))}function io(n,e){return ti(n),e=fc(n,e),il(n.g.h,e)}function Pv(n,e,t){ro(n,e),0<t.length&&(n.i=null,n.g.set(fc(n,e),ov(t)),n.h+=t.length)}function fc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function tI(n){this.l=n||oT,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ea&&Dt.g.Ea()&&Dt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=oh.prototype).add=function(n,e){ti(this),this.i=null,n=fc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){ti(this),this.g.forEach(function(t,r){Sw(t,function(o){n.call(e,o,r,this)},this)},this)},Ye.T=function(){ti(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Ye.R=function(n){ti(this);var e=[];if("string"==typeof n)io(this,n)&&(e=Mw(e,this.g.get(fc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Mw(e,n[t])}return e},Ye.set=function(n,e){return ti(this),this.i=null,io(this,n=fc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=o;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var oT=10;function Dm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ah(n){return n.h?1:n.g?n.g.size:0}function kv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Tm(n,e){n.g?n.g.add(e):n.h=e}function nI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Fv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ov(n.i)}function Cm(){}function Am(){this.g=new Cm}function aT(n,e,t){const r=t||"";try{Jw(n,function(o,u){let c=o;Hd(o)&&(c=yv(o)),e.push(r+u+"="+encodeURIComponent(c))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function cp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function pc(n){this.l=n.$b||null,this.j=n.ib||!1}function gc(n,e){Xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Sm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tI.prototype.cancel=function(){if(this.i=Fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Cm.prototype.stringify=function(n){return Dt.JSON.stringify(n,void 0)},Cm.prototype.parse=function(n){return Dt.JSON.parse(n,void 0)},Lr(pc,fm),pc.prototype.g=function(){return new gc(this.l,this.j)},pc.prototype.i=function(n){return function(){return n}}({}),Lr(gc,Xr);var Sm=0;function Lv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function uh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lh(n)}function lh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=gc.prototype).open=function(n,e){if(this.readyState!=Sm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lh(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uh(this)),this.readyState=Sm},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?uh(this):lh(this),3==this.readyState&&Lv(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,uh(this))},Ye.Ta=function(n){this.g&&(this.response=n,uh(this))},Ye.ha=function(){this.g&&uh(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iI=Dt.JSON.parse;function nr(n){Xr.call(this),this.headers=new ih,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vv,this.K=this.L=!1}Lr(nr,Xr);var Vv="",sI=/^https?$/i,uT=["POST","PUT"];function cT(n){return"content-type"==n.toLowerCase()}function oI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,aI(n),Mm(n)}function aI(n){n.D||(n.D=!0,Di(n,"complete"),Di(n,"error"))}function uI(n){if(n.h&&void 0!==Dw&&(!n.C[1]||4!=_u(n)||2!=n.ba()))if(n.v&&4==_u(n))Ev(n.Fa,0,n);else if(Di(n,"readystatechange"),4==_u(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(Xw)[1]||null;if(!o&&Dt.self&&Dt.self.location){var u=Dt.self.location.protocol;o=u.substr(0,u.length-1)}r=!sI.test(o?o.toLowerCase():"")}t=r}if(t)Di(n,"complete"),Di(n,"success");else{n.m=6;try{var c=2<_u(n)?n.g.statusText:""}catch(v){c=""}n.j=c+" ["+n.ba()+"]",aI(n)}}finally{Mm(n)}}}function Mm(n,e){if(n.g){lI(n);const t=n.g,r=n.C[0]?jd:null;n.g=null,n.C=null,e||Di(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function lI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function _u(n){return n.g?n.g.readyState:0}function cI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Vv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Uv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function dT(n){let e="";return cc(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function dp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function dI(n){this.za=0,this.l=[],this.h=new Qd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dp("baseRetryDelayMs",5e3,n),this.$a=dp("retryDelaySeedMs",1e4,n),this.Ya=dp("forwardChannelMaxRetries",2,n),this.ra=dp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new tI(n&&n.concurrentRequestLimit),this.Ca=new Am,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Bv(n){if(hI(n),3==n.G){var e=n.V++,t=mu(n.F);vn(t,"SID",n.J),vn(t,"RID",e),vn(t,"TYPE","terminate"),ch(n,t),(e=new th(n,n.h,e,void 0)).K=2,e.v=yu(mu(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(t=Dt.navigator.sendBeacon(e.v.toString(),"")),!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nh(e)}pI(n)}function xm(n){n.g&&(Nm(n),n.g.cancel(),n.g=null)}function hI(n){xm(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),fp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function jv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hp(n)}function hp(n){Dm(n.i)||n.m||(n.m=!0,cm(n.Ha,n),n.C=0)}function Hv(n,e){var t;t=e?e.m:n.V++;const r=mu(n.F);vn(r,"SID",n.J),vn(r,"RID",t),vn(r,"AID",n.U),ch(n,r),n.o&&n.s&&Uv(r,n.o,n.s),t=new th(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=$v(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Tm(n.i,t),Av(t,r,e)}function ch(n,e){n.j&&Jw({},function(t,r){vn(e,r,t)})}function $v(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Fr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=o[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let b=o[v].h;const S=o[v].g;if(b-=u,0>b)u=Math.max(0,o[v].h-100),m=!1;else try{aT(S,c,"req"+b+"_")}catch(O){r&&r(S)}}if(m){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Gv(n){n.g||n.u||(n.Y=1,cm(n.Ga,n),n.A=0)}function Om(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ip(Fr(n.Ga,n),ol(n,n.A)),n.A++,0))}function Nm(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function qv(n){n.g=new th(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=mu(n.oa);vn(e,"RID","rpc"),vn(e,"SID",n.J),vn(e,"CI",n.N?"0":"1"),vn(e,"AID",n.U),ch(n,e),vn(e,"TYPE","xmlhttp"),n.o&&n.s&&Uv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=yu(mu(e)),t.s=null,t.U=!0,Zw(t,n)}function fp(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function Rm(n,e){var t=null;if(n.g==e){fp(n),Nm(n),n.g=null;var r=2}else{if(!kv(n.i,e))return;t=e.D,nI(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Di(r=Xd(),new XD(r,t,e,o)),hp(n)}else Gv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function fI(n,e){return!(ah(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ip(Fr(n.Ha,n,e),ol(n,n.C)),n.C++,0)))}(n,e)||2==r&&Om(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:mc(n,5);break;case 4:mc(n,10);break;case 3:mc(n,6);break;default:mc(n,2)}}function ol(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function mc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Fr(n.jb,n);t||(t=new sl("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Im(t,"https"),yu(t)),function rI(n,e){const t=new Qd;if(Dt.Image){const r=new Image;r.onload=Yf(cp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yf(cp,t,r,"TestLoadImage: error",!1,e),r.onabort=Yf(cp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yf(cp,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ei(2);n.G=0,n.j&&n.j.va(e),pI(n),hI(n)}function pI(n){n.G=0,n.I=-1,n.j&&((0!=Fv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ov(n.l),n.l.length=0),n.j.ua())}function yc(n,e,t){let r=function eT(n){return n instanceof sl?mu(n):new sl(n,void 0)}(t);if(""!=r.i)e&&up(r,e+"."+r.i),bm(r,r.m);else{const o=Dt.location;r=function tT(n,e,t,r){var o=new sl(null,void 0);return n&&Im(o,n),e&&up(o,e),t&&bm(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&cc(n.aa,function(o,u){vn(r,u,o)}),t=n.sa,(e=n.D)&&t&&vn(r,e,t),vn(r,"VER",n.ma),ch(n,r),r}function hT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&n.Ba&&!n.qa?new pc({ib:!0}):n.qa)).L=n.H,e}function Pm(){}function zv(){if(no&&!(10<=Number(Pw)))throw Error("Environmental error: no available transport.")}function Qi(n,e){Xr.call(this),this.g=new dI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!sm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lt(this)}function Wv(n){gm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fT(){op.call(this),this.status=1}function lt(n){this.g=n}(Ye=nr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mm.g(),this.C=function Dv(n){return n.h||(n.h=n.i())}(this.u?this.u:mm),this.g.onreadystatechange=Fr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void oI(this,u)}n=t||"";const o=new ih(this.headers);r&&Jw(r,function(u,c){o.set(c,u)}),r=function sv(n){e:{var e=cT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Dt.FormData&&n instanceof Dt.FormData,!(0<=im(uT,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lI(this),0<this.B&&((this.K=function lT(n){return no&&function qd(){return function Qf(n){var e=Gd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=xw(String(gu)).split("."),t=xw("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var o=e[c]||"",u=t[c]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=av(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||av(0==o[2].length,0==u[2].length)||av(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.pa,this)):this.A=Ev(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){oI(this,u)}},Ye.pa=function(){void 0!==Dw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Di(this,"complete"),Di(this,"abort"),Mm(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mm(this,!0)),nr.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?uI(this):this.cb())},Ye.cb=function(){uI(this)},Ye.ba=function(){try{return 2<_u(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iI(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=dI.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new th(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Nw(u),om(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$v(this,o,e),vn(t=mu(this.F),"RID",n),vn(t,"CVER",22),this.D&&vn(t,"X-HTTP-Session-Id",this.D),ch(this,t),this.o&&u&&Uv(t,this.o,u),Tm(this.i,o),this.Ra&&vn(t,"TYPE","init"),this.ja?(vn(t,"$req",e),vn(t,"SID","null"),o.$=!0,Av(o,t,null)):Av(o,t,e),this.G=2}}else 3==this.G&&(n?Hv(this,n):0==this.l.length||Dm(this.i)||Hv(this))},Ye.Ga=function(){if(this.u=null,qv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ip(Fr(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ei(10),xm(this),qv(this))},Ye.ab=function(){null!=this.v&&(this.v=null,xm(this),Om(this),ei(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ei(2)):(this.h.info("Failed to ping google.com"),ei(1))},(Ye=Pm.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},zv.prototype.g=function(n,e){return new Qi(n,e)},Lr(Qi,Xr),Qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),cm(Fr(n.hb,n,e))),ei(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=yc(n,null,n.W),hp(n)},Qi.prototype.close=function(){Bv(this.g)},Qi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,jv(this.g,e)}else this.v?((e={}).__data__=yv(n),jv(this.g,e)):jv(this.g,n)},Qi.prototype.M=function(){this.g.j=null,delete this.j,Bv(this.g),delete this.g,Qi.Z.M.call(this)},Lr(Wv,gm),Lr(fT,op),Lr(lt,Pm),lt.prototype.xa=function(){Di(this.g,"a")},lt.prototype.wa=function(n){Di(this.g,new Wv(n))},lt.prototype.va=function(n){Di(this.g,new fT(n))},lt.prototype.ua=function(){Di(this.g,"b")},zv.prototype.createWebChannel=zv.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,sp.COMPLETE="complete",pm.EventType=eh,eh.OPEN="a",eh.CLOSE="b",eh.ERROR="c",eh.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,nr.prototype.listenOnce=nr.prototype.O,nr.prototype.getLastError=nr.prototype.La,nr.prototype.getLastErrorCode=nr.prototype.Da,nr.prototype.getStatus=nr.prototype.ba,nr.prototype.getResponseJson=nr.prototype.Qa,nr.prototype.getResponseText=nr.prototype.ga,nr.prototype.send=nr.prototype.ea;var pT=pu.createWebChannelTransport=function(){return new zv},gT=pu.getStatEventTarget=function(){return Xd()},Kv=pu.ErrorCode=hc,km=pu.EventType=sp,mT=pu.Event=tl,pp=pu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fm=pu.FetchXmlHttpFactory=pc,En=pu.WebChannel=pm,MS=pu.XhrIo=nr;const Zv="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let dh="9.6.7";const vu=new fu.Yd("@firebase/firestore");function Lm(){return vu.logLevel}function Le(n,...e){if(vu.logLevel<=fu.in.DEBUG){const t=e.map(Yv);vu.debug(`Firestore (${dh}): ${n}`,...t)}}function dr(n,...e){if(vu.logLevel<=fu.in.ERROR){const t=e.map(Yv);vu.error(`Firestore (${dh}): ${n}`,...t)}}function gp(n,...e){if(vu.logLevel<=fu.in.WARN){const t=e.map(Yv);vu.warn(`Firestore (${dh}): ${n}`,...t)}}function Yv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function wt(n,e){n||Xe()}function Ge(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Lt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Qv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class mp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yp{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=c;e.enqueueRetryable((0,Ie.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},v=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>v(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?v(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new Qv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new ni(e)}}class vT{constructor(e,t,r){this.type="FirstParty",this.user=ni.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class ET{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new vT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.p=t.token,new mI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function IT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ji.A=-1;class Jv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=IT(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function hh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function bT(n){return n+"\0"}class ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ri(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new ri(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function DT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function al(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _p(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),c=t.get(o);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends vp{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const _I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends vp{construct(e,t,r){return new qn(e,t,r)}static isValidIdentifier(e){return _I.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===m?(c=!c,o++):"."!==m||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new Me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(t)}static emptyPath(){return new qn([])}}class fh{constructor(e){this.fields=e,e.sort(qn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Tr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const CT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(n){if(wt(!!n),"string"==typeof n){let e=0;const t=CT.exec(n);if(wt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(n.seconds),nanos:Rn(n.nanos)}}function Rn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _c(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function Xv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vc(n){const e=n.mapValue.fields.__previous_value__;return Xv(e)?vc(e):e}function Ep(n){const e=ul(n.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}class vI{constructor(e,t,r,o,u,c,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class Ec{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}function ll(n){return null==n}function wp(n){return 0===n&&1/n==-1/0}function eE(n){return"number"==typeof n&&Number.isInteger(n)&&!wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Yt.fromString(e))}static fromName(e){return new Ke(Yt.fromString(e).popFirst(5))}static empty(){return new Ke(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Yt(e.slice()))}}const tE={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xv(n)?4:10:Xe()}function so(n,e){if(n===e)return!0;const t=wc(n);if(t!==wc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ep(n).isEqual(Ep(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=ul(r.timestampValue),c=ul(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,_c(n.bytesValue).isEqual(_c(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Rn(r.geoPointValue.latitude)===Rn(o.geoPointValue.latitude)&&Rn(r.geoPointValue.longitude)===Rn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Rn(r.integerValue)===Rn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Rn(r.doubleValue),c=Rn(o.doubleValue);return u===c?wp(u)===wp(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return hh(n.arrayValue.values||[],e.arrayValue.values||[],so);case 10:return function(r,o){const u=r.mapValue.fields||{},c=o.mapValue.fields||{};if(DT(u)!==DT(c))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===c[m]||!so(u[m],c[m])))return!1;return!0}(n,e);default:return Xe()}var o}function ph(n,e){return void 0!==(n.values||[]).find(t=>so(t,e))}function gh(n,e){if(n===e)return 0;const t=wc(n),r=wc(e);if(t!==r)return Vt(t,r);switch(t){case 0:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const c=Rn(o.integerValue||o.doubleValue),m=Rn(u.integerValue||u.doubleValue);return c<m?-1:c>m?1:c===m?0:isNaN(c)?isNaN(m)?0:-1:1}(n,e);case 3:return EI(n.timestampValue,e.timestampValue);case 4:return EI(Ep(n),Ep(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(o,u){const c=_c(o),m=_c(u);return c.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),m=u.split("/");for(let v=0;v<c.length&&v<m.length;v++){const b=Vt(c[v],m[v]);if(0!==b)return b}return Vt(c.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const c=Vt(Rn(o.latitude),Rn(u.latitude));return 0!==c?c:Vt(Rn(o.longitude),Rn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const c=o.values||[],m=u.values||[];for(let v=0;v<c.length&&v<m.length;++v){const b=gh(c[v],m[v]);if(b)return b}return Vt(c.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const c=o.fields||{},m=Object.keys(c),v=u.fields||{},b=Object.keys(v);m.sort(),b.sort();for(let S=0;S<m.length&&S<b.length;++S){const O=Vt(m[S],b[S]);if(0!==O)return O;const L=gh(c[m[S]],v[b[S]]);if(0!==L)return L}return Vt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function EI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=ul(n),r=ul(e),o=Vt(t.seconds,r.seconds);return 0!==o?o:Vt(t.nanos,r.nanos)}function mh(n){return Ip(n)}function Ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ul(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_c(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const c of r.values||[])u?u=!1:o+=",",o+=Ip(c);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const m of o)c?c=!1:u+=",",u+=`${m}:${Ip(r.fields[m])}`;return u+"}"}(n.mapValue):Xe();var e}function Vm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Um(n){return!!n&&"integerValue"in n}function Bm(n){return!!n&&"arrayValue"in n}function wI(n){return!!n&&"nullValue"in n}function II(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function bp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return al(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bp(t)}setAll(e){let t=qn.emptyPath(),r={},o=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=bp(c):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];jm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){al(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ti(bp(this.value))}}function bI(n){const e=[];return al(n.fields,(t,r)=>{const o=new qn([t]);if(jm(r)){const u=bI(r.mapValue).fields;if(0===u.length)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)}),new fh(e)}class Pn{constructor(e,t,r,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Pn(e,0,vt.min(),vt.min(),Ti.empty(),0)}static newFoundDocument(e,t,r){return new Pn(e,1,t,vt.min(),r,0)}static newNoDocument(e,t){return new Pn(e,2,t,vt.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,vt.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Hm=(()=>{class n{constructor(t,r,o,u){this.indexId=t,this.collectionGroup=r,this.fields=o,this.indexState=u}}return n.UNKNOWN_ID=-1,n})();class Dp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tp(0,$m.min())}}class $m{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $m(vt.min(),Ke.empty(),-1)}}class DI{constructor(e,t=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.P=null}}function TI(n,e=null,t=[],r=[],o=null,u=null,c=null){return new DI(n,e,t,r,o,u,c)}function Cp(n){const e=Ge(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+mh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),ll(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mh(r)).join(",")),e.P=t}return e.P}function yh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!xS(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!so(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Eh(n.startAt,e.startAt)&&Eh(n.endAt,e.endAt)}function _h(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ci extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new nE(e,t,r):"array-contains"===t?new xT(e,r):"in"===t?new CI(e,r):"not-in"===t?new OT(e,r):"array-contains-any"===t?new AI(e,r):new Ci(e,t,r)}static v(e,t,r){return"in"===t?new ST(e,r):new MT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(gh(t,this.value)):null!==t&&wc(this.value)===wc(t)&&this.V(gh(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nE extends Ci{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.V(t)}}class ST extends Ci{constructor(e,t){super(e,"in",t),this.keys=Gm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MT extends Ci{constructor(e,t){super(e,"not-in",t),this.keys=Gm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class xT extends Ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bm(t)&&ph(t.arrayValue,this.value)}}class CI extends Ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ph(this.value.arrayValue,t)}}class OT extends Ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ph(this.value.arrayValue,t)}}class AI extends Ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class vh{constructor(e,t){this.position=e,this.inclusive=t}}class Ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function xS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function SI(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],c=n.position[o];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(c.referenceValue),t.key):gh(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Eh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!so(n.position[t],e.position[t]))return!1;return!0}class Eu{constructor(e,t=null,r=[],o=[],u=null,c="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=v,this.D=null,this.C=null}}function bc(n,e,t,r,o,u,c,m){return new Eu(n,e,t,r,o,u,c,m)}function ya(n){return new Eu(n)}function qm(n){return!ll(n.limit)&&"F"===n.limitType}function rE(n){return!ll(n.limit)&&"L"===n.limitType}function zm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iE(n){for(const e of n.filters)if(e.S())return e.field;return null}function sE(n){return null!==n.collectionGroup}function wh(n){const e=Ge(n);if(null===e.D){e.D=[];const t=iE(e),r=zm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Ic(t)),e.D.push(new Ic(qn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ic(qn.keyField(),u))}}}return e.D}function oo(n){const e=Ge(n);if(!e.C)if("F"===e.limitType)e.C=TI(e.path,e.collectionGroup,wh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of wh(e))t.push(new Ic(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new vh(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new vh(e.startAt.position,!e.startAt.inclusive):null;e.C=TI(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function oE(n,e,t){return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return yh(oo(n),oo(e))&&n.limitType===e.limitType}function Wm(n){return`${Cp(oo(n))}|lt:${n.limitType}`}function bh(n){return`Query(target=${function AT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${mh(r.value)}`;var r}).join(", ")}]`),ll(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>mh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>mh(t)).join(",")),`Target(${e})`}(oo(n))}; limitType=${n.limitType})`}function Dc(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,c){const m=SI(o,u,c);return o.inclusive?m<=0:m<0}(t.startAt,wh(t),r)||t.endAt&&!function(o,u,c){const m=SI(o,u,c);return o.inclusive?m>=0:m>0}(t.endAt,wh(t),r)));var t,r}function MI(n){return(e,t)=>{let r=!1;for(const o of wh(n)){const u=xI(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function xI(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,u,c){const m=u.data.field(o),v=c.data.field(o);return null!==m&&null!==v?gh(m,v):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function aE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}function OI(n){return{integerValue:""+n}}function NI(n,e){return eE(e)?OI(e):aE(n,e)}class Km{constructor(){this._=void 0}}function uE(n,e,t){return n instanceof Dh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Tc?Cc(n,e):n instanceof cl?Ac(n,e):function(r,o){const u=RT(r,o),c=lE(u)+lE(r.k);return Um(u)&&Um(r.k)?OI(c):aE(r.O,c)}(n,e)}function NT(n,e,t){return n instanceof Tc?Cc(n,e):n instanceof cl?Ac(n,e):t}function RT(n,e){return n instanceof Ap?Um(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Dh extends Km{}class Tc extends Km{constructor(e){super(),this.elements=e}}function Cc(n,e){const t=RI(e);for(const r of n.elements)t.some(o=>so(o,r))||t.push(r);return{arrayValue:{values:t}}}class cl extends Km{constructor(e){super(),this.elements=e}}function Ac(n,e){let t=RI(e);for(const r of n.elements)t=t.filter(o=>!so(o,r));return{arrayValue:{values:t}}}class Ap extends Km{constructor(e,t){super(),this.O=e,this.k=t}}function lE(n){return Rn(n.integerValue||n.doubleValue)}function RI(n){return Bm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zm{constructor(e,t){this.field=e,this.transform=t}}class OS{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ym{}function kI(n,e,t){n instanceof Sp?function(r,o,u){const c=r.value.clone(),m=UI(r.fieldTransforms,o,u.transformResults);c.setAll(m),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Sc?function(r,o,u){if(!Th(r.precondition,o))return void o.convertToUnknownDocument(u.version);const c=UI(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(VI(r)),m.setAll(c),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cE(n,e,t){var o;n instanceof Sp?function(r,o,u){if(!Th(r.precondition,o))return;const c=r.value.clone(),m=Ch(r.fieldTransforms,u,o);c.setAll(m),o.convertToFoundDocument(LI(o),c).setHasLocalMutations()}(n,e,t):n instanceof Sc?function(r,o,u){if(!Th(r.precondition,o))return;const c=Ch(r.fieldTransforms,u,o),m=o.data;m.setAll(VI(r)),m.setAll(c),o.convertToFoundDocument(LI(o),m).setHasLocalMutations()}(n,e,t):Th(n.precondition,o=e)&&o.convertToNoDocument(vt.min())}function PT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=RT(r.transform,o||null);null!=u&&(null==t&&(t=Ti.empty()),t.set(r.field,u))}return t||null}function FI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&hh(t,r,(o,u)=>function PI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Tc&&r instanceof Tc||t instanceof cl&&r instanceof cl?hh(t.elements,r.elements,so):t instanceof Ap&&r instanceof Ap?so(t.k,r.k):t instanceof Dh&&r instanceof Dh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function LI(n){return n.isFoundDocument()?n.version:vt.min()}class Sp extends Ym{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Sc extends Ym{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function VI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UI(n,e,t){const r=new Map;wt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,NT(c,m,t[o]))}return r}function Ch(n,e,t){const r=new Map;for(const o of n){const u=o.transform,c=t.data.field(o.field);r.set(o.field,uE(u,c,e))}return r}class Ah extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Qm extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class BI{constructor(e){this.count=e}}var ir,Ut;function dE(n){switch(n){default:return Xe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function jI(n){if(void 0===n)return dr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case ir.OK:return ue.OK;case ir.CANCELLED:return ue.CANCELLED;case ir.UNKNOWN:return ue.UNKNOWN;case ir.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case ir.INTERNAL:return ue.INTERNAL;case ir.UNAVAILABLE:return ue.UNAVAILABLE;case ir.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case ir.NOT_FOUND:return ue.NOT_FOUND;case ir.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case ir.ABORTED:return ue.ABORTED;case ir.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case ir.DATA_LOSS:return ue.DATA_LOSS;default:return Xe()}}(Ut=ir||(ir={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class sr{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}}class Jm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Ur.RED,this.left=null!=o?o:Ur.EMPTY,this.right=null!=u?u:Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ur(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ur.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HI(this.data.getIterator())}getIteratorFrom(e){return new HI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new An(this.comparator);return t.data=e,t}}class HI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _a(n){return n.hasNext()?n.getNext():void 0}const kT=new sr(Ke.comparator);function Xi(){return kT}const va=new sr(Ke.comparator);function hE(){return va}const fE=new sr(Ke.comparator),Mp=new An(Ke.comparator);function nn(...n){let e=Mp;for(const t of n)e=e.add(t);return e}const FT=new An(Vt);function Xm(){return FT}class dl{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t)),new dl(vt.min(),r,Xm(),Xi(),nn())}}class hl{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new hl(Tr.EMPTY_BYTE_STRING,t,nn(),nn(),nn())}}class ey{constructor(e,t,r,o){this.M=e,this.removedTargetIds=t,this.key=r,this.$=o}}class $I{constructor(e,t){this.targetId=e,this.F=t}}class pE{constructor(e,t,r=Tr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class gE{constructor(){this.B=0,this.L=GI(),this.U=Tr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=nn(),t=nn(),r=nn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new hl(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=GI()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class mE{constructor(e){this.nt=e,this.st=new Map,this.it=Xi(),this.rt=yE(),this.ot=new An(Vt)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.F.count,o=this.wt(t);if(o){const u=o.target;if(_h(u))if(0===r){const c=new Ke(u.path);this.at(t,c,Pn.newNoDocument(c,vt.min()))}else wt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const m=this.wt(c);if(m){if(u.current&&_h(m.target)){const v=new Ke(m.target.path);null!==this.it.get(v)||this.It(c,v)||this.at(c,v,Pn.newNoDocument(v,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=nn();this.rt.forEach((u,c)=>{let m=!0;c.forEachWhile(v=>{const b=this.wt(v);return!b||2===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const o=new dl(e,t,this.ot,this.it,r);return this.it=Xi(),this.rt=yE(),this.ot=new An(Vt),o}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new gE,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new An(Vt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new gE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function yE(){return new sr(Ke.comparator)}function GI(){return new sr(Ke.comparator)}const LT={asc:"ASCENDING",desc:"DESCENDING"},NS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _E{constructor(e,t){this.databaseId=e,this.N=t}}function Mc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vE(n,e){return n.N?e.toBase64():e.toUint8Array()}function EE(n,e){return Mc(n,e.toTimestamp())}function hr(n){return wt(!!n),vt.fromTimestamp(function(e){const t=ul(e);return new ri(t.seconds,t.nanos)}(n))}function wE(n,e){return(t=n,new Yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qI(n){const e=Yt.fromString(n);return wt(JI(e)),e}function xp(n,e){return wE(n.databaseId,e.path)}function Ea(n,e){const t=qI(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(zI(t))}function ty(n,e){return wE(n.databaseId,e)}function ny(n){const e=qI(n);return 4===e.length?Yt.emptyPath():zI(e)}function Sh(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zI(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function IE(n,e,t){return{name:xp(n,e),fields:t.value.mapValue.fields}}function bE(n,e,t){const r=Ea(n,e.name),o=hr(e.updateTime),u=new Ti({mapValue:{fields:e.fields}}),c=Pn.newFoundDocument(r,o,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Mh(n,e){let t;if(e instanceof Sp)t={update:IE(n,e.key,e.value)};else if(e instanceof Ah)t={delete:xp(n,e.key)};else if(e instanceof Sc)t={update:IE(n,e.key,e.data),updateMask:jT(e.fieldMask)};else{if(!(e instanceof Qm))return Xe();t={verify:xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof Dh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Tc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof cl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ap)return{fieldPath:u.field.canonicalString(),increment:c.k};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:EE(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function DE(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?rr.updateTime(hr(o.updateTime)):void 0!==o.exists?rr.exists(o.exists):rr.none():rr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,c){let m=null;"setToServerValue"in c?(wt("REQUEST_TIME"===c.setToServerValue),m=new Dh):"appendMissingElements"in c?m=new Tc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?m=new cl(c.removeAllFromArray.values||[]):"increment"in c?m=new Ap(u,c.increment):Xe();const v=qn.fromServerFormat(c.fieldPath);return new Zm(v,m)}(n,o)):[];var o;if(e.update){const o=Ea(n,e.update.name),u=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new fh((e.updateMask.fieldPaths||[]).map(b=>qn.fromServerFormat(b)));return new Sc(o,u,c,t,r)}return new Sp(o,u,t,r)}if(e.delete){const o=Ea(n,e.delete);return new Ah(o,t)}if(e.verify){const o=Ea(n,e.verify);return new Qm(o,t)}return Xe()}function ZI(n,e){return{documents:[ty(n,e.path)]}}function Ai(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ty(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ty(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const b=v.map(S=>function(O){if("=="===O.op){if(II(O.value))return{unaryFilter:{field:xh(O.field),op:"IS_NAN"}};if(wI(O.value))return{unaryFilter:{field:xh(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(II(O.value))return{unaryFilter:{field:xh(O.field),op:"IS_NOT_NAN"}};if(wI(O.value))return{unaryFilter:{field:xh(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(O.field),op:Op(O.op),value:O.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(b=>{return{field:xh((S=b).field),direction:RS(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||ll(b)?b:{value:b});var b,m,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function xc(n){let e=ny(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){wt(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=YI(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new Ic(fl((O=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(S){let O;return O="object"==typeof S?S.value:S,ll(O)?null:O}(t.limit));let v=null;var S;t.startAt&&(v=new vh((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new vh(S.values||[],!S.before)}(t.endAt)),bc(e,o,c,u,m,"F",v,b)}function YI(n){return n?void 0!==n.unaryFilter?[QI(n)]:void 0!==n.fieldFilter?[BT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>YI(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function RS(n){return LT[n]}function Op(n){return NS[n]}function xh(n){return{fieldPath:n.canonicalString()}}function fl(n){return qn.fromServerFormat(n.fieldPath)}function BT(n){return Ci.create(fl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function QI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=fl(n.unaryFilter.field);return Ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=fl(n.unaryFilter.field);return Ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fl(n.unaryFilter.field);return Ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fl(n.unaryFilter.field);return Ci.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function jT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function fr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TE(e)),e=XI(n.get(t),e);return TE(e)}function XI(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function TE(n){return n+"\x01\x01"}function bs(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&Xe(),n.charAt(c+1)){case"\x01":const m=n.substring(u,c);let v;0===o.length?v=m:(o+=m,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(u,c),o+="\0";break;case"\x11":o+=n.substring(u,c+1);break;default:Xe()}u=c+2}return new Yt(r)}class CE{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ao{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}ao.store="owner",ao.key="owner";class wu{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}wu.store="mutationQueues",wu.keyPath="userId";class wn{constructor(e,t,r,o,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=u}}wn.store="mutations",wn.keyPath="batchId",wn.userMutationsIndex="userMutationsIndex",wn.userMutationsKeyPath=["userId","batchId"];class ii{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,fr(t)]}static key(e,t,r){return[e,fr(t),r]}}ii.store="documentMutations",ii.PLACEHOLDER=new ii;class ry{constructor(e,t){this.path=e,this.readTime=t}}class eb{constructor(e,t){this.path=e,this.version=t}}class zn{constructor(e,t,r,o,u,c){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=c}}zn.store="remoteDocuments",zn.readTimeIndex="readTimeIndex",zn.readTimeIndexPath="readTime",zn.collectionReadTimeIndex="collectionReadTimeIndex",zn.collectionReadTimeIndexPath=["parentPath","readTime"];class uo{constructor(e){this.byteSize=e}}uo.store="remoteDocumentGlobal",uo.key="remoteDocumentGlobalKey";class Si{constructor(e,t,r,o,u,c,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=c,this.query=m}}Si.store="targets",Si.keyPath="targetId",Si.queryTargetsIndexName="queryTargetsIndex",Si.queryTargetsKeyPath=["canonicalId","targetId"];class Mi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Mi.store="targetDocuments",Mi.keyPath=["targetId","path"],Mi.documentTargetsIndex="documentTargetsIndex",Mi.documentTargetsKeyPath=["path","targetId"];class Ds{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Ds.key="targetGlobalKey",Ds.store="targetGlobal";class Oc{constructor(e,t){this.collectionId=e,this.parent=t}}Oc.store="collectionParents",Oc.keyPath=["collectionId","parent"];class wa{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}wa.store="clientMetadata",wa.keyPath="clientId";class Nc{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Nc.store="bundles",Nc.keyPath="bundleId";class Oh{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Oh.store="namedQueries",Oh.keyPath="name";class es{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}es.store="indexConfiguration",es.keyPath="indexId",es.collectionGroupIndex="collectionGroupIndex",es.collectionGroupIndexPath="collectionGroup";class Ts{constructor(e,t,r,o,u,c){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=o,this.documentKey=u,this.largestBatchId=c}}Ts.store="indexState",Ts.keyPath=["indexId","uid"],Ts.sequenceNumberIndex="sequenceNumberIndex",Ts.sequenceNumberIndexPath=["uid","sequenceNumber"];class lo{constructor(e,t,r,o,u){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=o,this.documentKey=u}}lo.store="indexEntries",lo.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],lo.documentKeyIndex="documentKeyIndex",lo.documentKeyIndexPath=["indexId","uid","documentKey"];class Br{constructor(e,t,r,o,u,c){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=o,this.largestBatchId=u,this.overlayMutation=c}}Br.store="documentOverlays",Br.keyPath=["userId","collectionPath","documentId"],Br.collectionPathOverlayIndex="collectionPathOverlayIndex",Br.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Br.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Br.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const AE=[wu.store,wn.store,ii.store,zn.store,Si.store,ao.store,Ds.store,Mi.store,wa.store,uo.store,Oc.store,Nc.store,Oh.store],tb=[...AE,Br.store],nb=[...tb,es.store,Ts.store,lo.store],SE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ME{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let o=0,u=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++u,c&&u===o&&t()},v=>r(v))}),c=!0,u===o&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(o=>o?ye.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class iy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Dr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Nh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=rb(r.target.error);this.At.reject(new Nh(e,o))}}static open(e,t,r,o){try{return new iy(t,e.transaction(o,r))}catch(u){throw new Nh(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new kS(t)}}class Vo{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Vo.vt((0,Lt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Ph(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Lt.hl)())return!1;if(Vo.St())return!0;const e=(0,Lt.z$)(),t=Vo.vt(e),r=0<t&&t<10,o=Vo.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{o(new Nh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const m=c.target.error;o("VersionError"===m.name?new Me(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Nh(e,m))},u.onupgradeneeded=c=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Ie.Z)(function*(){const c="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.xt(e);const v=iy.open(u.db,e,c?"readonly":"readwrite",r),b=o(v).next(S=>(v.Pt(),S)).catch(S=>(v.abort(S),ye.reject(S))).toPromise();return b.catch(()=>{}),yield v.Rt,b}catch(v){const b="FirebaseError"!==v.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",v.message,"Retrying:",b),u.close(),!b)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PS{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Ph(this.$t.delete())}}class Nh extends Me{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rh(n){return"IndexedDbTransactionError"===n.name}class kS{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ph(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Ph(this.store.add(e))}get(e){return Ph(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Ph(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Ph(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(c,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ye((u,c)=>{o.onerror=m=>{c(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,c,m)=>m.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}Wt(e){const t=this.cursor({});return new ye((r,o)=>{t.onerror=u=>{const c=rb(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(m=>{m?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new ye((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const v=new PS(m),b=t(m.primaryKey,m.value,v);if(b instanceof ye){const S=b.catch(O=>(v.done(),ye.reject(O)));r.push(S)}v.isDone?o():null===v.Lt?m.continue():m.continue(v.Lt)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ph(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=rb(r.target.error);t(o)}})}let HT=!1;function rb(n){const e=Vo.vt((0,Lt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HT||(HT=!0,setTimeout(()=>{throw r},0)),r}}return n}class $T extends ME{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function si(n,e){const t=Ge(n);return Vo.Nt(t.zt,e)}class ib{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kI(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&cE(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&cE(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(vt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&hh(this.mutations,e.mutations,(t,r)=>FI(t,r))&&hh(this.baseMutations,e.baseMutations,(t,r)=>FI(t,r))}}class kh{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){wt(e.mutations.length===r.length);let o=fE;const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new kh(e,t,r,o)}}class sb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ia{constructor(e,t,r,o,u=vt.min(),c=vt.min(),m=Tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Rc{constructor(e){this.Ht=e}}function xE(n,e){let t;if(e.document)t=bE(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),o=gl(e.noDocument.readTime);t=Pn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ke.fromSegments(e.unknownDocument.path),o=gl(e.unknownDocument.version);t=Pn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(Np(e.readTime)),t}function ob(n,e){const t=OE(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const o={name:xp(c=n.Ht,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Mc(c,m.version.toTimestamp())};return new zn(null,null,o,e.hasCommittedMutations,t,r)}var c,m;if(e.isNoDocument()){const o=e.key.path.toArray(),u=pl(e.version),c=e.hasCommittedMutations;return new zn(null,new ry(o,u),null,c,t,r)}if(e.isUnknownDocument()){const o=e.key.path.toArray(),u=pl(e.version);return new zn(new eb(o,u),null,null,!0,t,r)}return Xe()}function OE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Np(n){const e=new ri(n[0],n[1]);return vt.fromTimestamp(e)}function pl(n){const e=n.toTimestamp();return new CE(e.seconds,e.nanoseconds)}function gl(n){const e=new ri(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function Pc(n,e){const t=(e.baseMutations||[]).map(u=>DE(n.Ht,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>DE(n.Ht,u)),o=ri.fromMillis(e.localWriteTimeMs);return new ib(e.batchId,o,t,r)}function sy(n){const e=gl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?gl(n.lastLimboFreeSnapshotVersion):vt.min();let r;var o;return void 0!==n.query.documents?(wt(1===(o=n.query).documents.length),r=oo(ya(ny(o.documents[0])))):r=oo(xc(n.query)),new Ia(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Tr.fromBase64String(n.resumeToken))}function NE(n,e){const t=pl(e.snapshotVersion),r=pl(e.lastLimboFreeSnapshotVersion);let o;o=_h(e.target)?ZI(n.Ht,e.target):Ai(n.Ht,e.target);const u=e.resumeToken.toBase64();return new Si(e.targetId,Cp(e.target),t,u,e.sequenceNumber,r,o)}function Fh(n){const e=xc({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oE(e,e.limit,"L"):e}function oy(n,e){return new sb(e.largestBatchId,DE(n.Ht,e.overlayMutation))}function GT(n,e){const t=e.path.lastSegment();return[n,fr(e.path.popLast()),t]}class FS{getBundleMetadata(e,t){return qT(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:gl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return qT(e).put({bundleId:(r=t).id,createTime:pl(hr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ab(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Fh(o.bundledQuery),readTime:gl(o.readTime)};var o})}saveNamedQuery(e,t){return ab(e).put({name:(r=t).name,readTime:pl(hr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qT(n){return si(n,Nc.store)}function ab(n){return si(n,Oh.store)}class Rp{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new Rp(e,t.uid||"")}getOverlay(e,t){return Pp(e).get(GT(this.userId,t)).next(r=>r?oy(this.O,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach(u=>{const c=new sb(t,u);o.push(this.Yt(e,c))}),ye.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(c=>o.add(fr(c.getCollectionPath())));const u=[];return o.forEach(c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(Pp(e).Gt(Br.collectionPathOverlayIndex,m))}),ye.waitFor(u)}getOverlaysForCollection(e,t,r){const o=new Map,u=fr(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Pp(e).qt(Br.collectionPathOverlayIndex,c).next(m=>{for(const v of m){const b=oy(this.O,v);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=new Map;let c;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pp(e).Qt({index:Br.collectionGroupOverlayIndex,range:m},(v,b,S)=>{const O=oy(this.O,b);u.size<o||O.largestBatchId===c?(u.set(O.getKey(),O),c=O.largestBatchId):S.done()}).next(()=>u)}Yt(e,t){return Pp(e).put(function(r,o,u){const[c,m,v]=GT(o,u.mutation.key);return new Br(o,m,v,u.mutation.key.getCollectionGroup(),u.largestBatchId,Mh(r.Ht,u.mutation))}(this.O,this.userId,t))}}function Pp(n){return si(n,Br.store)}class RE{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Rn(e.integerValue));else if("doubleValue"in e){const r=Rn(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),wp(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(_c(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?so(e,tE)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Xe()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const o of Object.keys(r))this.ie(o,t),this.Zt(r[o],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const o of r)this.Zt(o,t)}ce(e,t){this.ee(t,37),Ke.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function zT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function ay(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=zT(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}RE.le=new RE;class WT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const o=t.codePointAt(0);this.de(240|o>>>18),this.de(128|63&o>>>12),this.de(128|63&o>>>6),this.de(128|63&o)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const o=t.codePointAt(0);this.me(240|o>>>18),this.me(128|63&o>>>12),this.me(128|63&o>>>6),this.me(128|63&o)}}this.ge()}Ie(e){const t=this.Ee(e),r=ay(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ae(e){const t=this.Ee(e),r=ay(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Cs{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class KT{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class uy{constructor(){this.Se=new WT,this.De=new Cs(this.Se),this.Ce=new KT(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class PE{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}}function kE(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:(t=ly(n.arrayValue,e.arrayValue),0!==t?t:ly(n.directionalValue,e.directionalValue)))}function ly(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class ub{constructor(){this.xe=new cy}addToCollectionParentIndex(e,t){return this.xe.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t,r){return ye.resolve(nn())}getFieldIndex(e,t){return ye.resolve(null)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class cy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new An(Yt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new An(Yt.comparator)).toArray()}}class ZT{constructor(e){this.user=e,this.ke=new cy,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const u={collectionId:r,parent:fr(o)};return FE(e).put(u)}return ye.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[bT(t),""],!1,!0);return FE(e).qt(o).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(bs(c.parent))}return r})}addFieldIndex(e,t){const r=dy(e),o=new es((u=t).indexId,u.collectionGroup,u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind]));var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=dy(e),o=hy(e),u=kp(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return ye.resolve(nn())}getFieldIndex(e,t){return ye.resolve(null)}Oe(e,t){const r=new uy;for(const o of e.fields.filter(c=>2!==c.kind)){const u=t.data.field(o.fieldPath);if(null==u)return null;const c=r.Ne(o.kind);RE.le.Xt(u,c)}return r.Ve()}Me(e){const t=new uy;return RE.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=dy(e),o=hy(e);return(t?r.qt(es.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return ye.forEach(u,m=>o.get([m.indexId,this.uid]).next(v=>{c.push(function(b,S){const O=S?new Tp(S.sequenceNumber,new $m(gl(S.readTime),new Ke(bs(S.documentKey)),S.largestBatchId)):Tp.empty(),L=b.fields.map(([$,Z])=>new Dp(qn.fromServerFormat($),Z));return new Hm(b.indexId,b.collectionGroup,L,O)}(m,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>r.indexState.sequenceNumber-o.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=dy(e),u=hy(e);return this.$e(e).next(c=>o.qt(es.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(m=>ye.forEach(m,v=>{return u.put(new Ts(v.indexId,this.user.uid||"",c,pl((L=r).readTime),fr(L.documentKey.path),L.largestBatchId));var L})))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(o,u)=>{const c=r.get(o.collectionGroup);return(c?ye.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ye.forEach(m,v=>this.Fe(e,o,v).next(b=>{const S=this.Be(u,v);return b.isEqual(S)?ye.resolve():this.Le(e,u,b,S)}))))})}Ue(e,t,r){return kp(e).put(new lo(r.indexId,this.uid,r.arrayValue,r.directionalValue,fr(t.key.path)))}qe(e,t,r){return kp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,fr(t.key.path)])}Fe(e,t,r){const o=kp(e);let u=new An(kE);return o.Qt({index:lo.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,fr(t.path)])},(c,m)=>{u=u.add(new PE(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}Be(e,t){let r=new An(kE);const o=this.Oe(t,e);if(null==o)return r;const u=t.fields.find(m=>2===m.kind);if(null!=u){const c=e.data.field(u.fieldPath);if(Bm(c))for(const m of c.arrayValue.values||[])r=r.add(new PE(t.indexId,e.key,this.Me(m),o))}else r=r.add(new PE(t.indexId,e.key,new Uint8Array,o));return r}Le(e,t,r,o){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(c,m,v,b,S){const O=c.getIterator(),L=m.getIterator();let $=_a(O),Z=_a(L);for(;$||Z;){let Ee=!1,Re=!1;if($&&Z){const st=v($,Z);st<0?Re=!0:st>0&&(Ee=!0)}else null!=$?Re=!0:Ee=!0;Ee?(b(Z),Z=_a(L)):Re?(S($),$=_a(O)):($=_a(O),Z=_a(L))}}(r,o,kE,c=>{u.push(this.Ue(e,t,c))},c=>{u.push(this.qe(e,t,c))}),ye.waitFor(u)}$e(e){let t=1;return hy(e).Qt({index:Ts.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}}function FE(n){return si(n,Oc.store)}function kp(n){return si(n,lo.store)}function dy(n){return si(n,es.store)}function hy(n){return si(n,Ts.store)}const fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lb(n,e,t){const r=n.store(wn.store),o=n.store(ii.store),u=[],c=IDBKeyRange.only(t.batchId);let m=0;const v=r.Qt({range:c},(S,O,L)=>(m++,L.delete()));u.push(v.next(()=>{wt(1===m)}));const b=[];for(const S of t.mutations){const O=ii.key(e,S.key.path,t.batchId);u.push(o.delete(O)),b.push(S.key)}return ye.waitFor(u).next(()=>b)}function LE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class VE{constructor(e,t,r,o){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=o,this.Ke={}}static Jt(e,t,r,o){wt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new VE(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ml(e).Qt({index:wn.userMutationsIndex,range:r},(o,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Lh(e),c=ml(e);return c.add({}).next(m=>{wt("number"==typeof m);const v=new ib(m,t,r,o),b=function(L,$,Z){const Ee=Z.baseMutations.map(st=>Mh(L.Ht,st)),Re=Z.mutations.map(st=>Mh(L.Ht,st));return new wn($,Z.batchId,Z.localWriteTime.toMillis(),Ee,Re)}(this.O,this.userId,v),S=[];let O=new An((L,$)=>Vt(L.canonicalString(),$.canonicalString()));for(const L of o){const $=ii.key(this.userId,L.key.path,m);O=O.add(L.key.path.popLast()),S.push(c.put(b)),S.push(u.put($,ii.PLACEHOLDER))}return O.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Ke[m]=v.keys()}),ye.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return ml(e).get(t).next(r=>r?(wt(r.userId===this.userId),Pc(this.O,r)):null)}Ge(e,t){return this.Ke[t]?ye.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Ke[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ml(e).Qt({index:wn.userMutationsIndex,range:o},(c,m,v)=>{m.userId===this.userId&&(wt(m.batchId>=r),u=Pc(this.O,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ml(e).Qt({index:wn.userMutationsIndex,range:t,reverse:!0},(o,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ml(e).qt(wn.userMutationsIndex,t).next(r=>r.map(o=>Pc(this.O,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ii.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Lh(e).Qt({range:o},(c,m,v)=>{const[b,S,O]=c,L=bs(S);if(b===this.userId&&t.path.isEqual(L))return ml(e).get(O).next($=>{if(!$)throw Xe();wt($.userId===this.userId),u.push(Pc(this.O,$))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Vt);const o=[];return t.forEach(u=>{const c=ii.prefixForPath(this.userId,u.path),m=IDBKeyRange.lowerBound(c),v=Lh(e).Qt({range:m},(b,S,O)=>{const[L,$,Z]=b,Ee=bs($);L===this.userId&&u.path.isEqual(Ee)?r=r.add(Z):O.done()});o.push(v)}),ye.waitFor(o).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=ii.prefixForPath(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new An(Vt);return Lh(e).Qt({range:c},(v,b,S)=>{const[O,L,$]=v,Z=bs(L);O===this.userId&&r.isPrefixOf(Z)?Z.length===o&&(m=m.add($)):S.done()}).next(()=>this.je(e,m))}je(e,t){const r=[],o=[];return t.forEach(u=>{o.push(ml(e).get(u).next(c=>{if(null===c)throw Xe();wt(c.userId===this.userId),r.push(Pc(this.O,c))}))}),ye.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return lb(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),ye.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound(ii.prefixForUser(this.userId)),o=[];return Lh(e).Qt({range:r},(u,c,m)=>{if(u[0]===this.userId){const v=bs(u[1]);o.push(v)}else m.done()}).next(()=>{wt(0===o.length)})})}containsKey(e,t){return UE(e,this.userId,t)}We(e){return BE(e).get(this.userId).next(t=>t||new wu(this.userId,-1,""))}}function UE(n,e,t){const r=ii.prefixForPath(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Lh(n).Qt({range:u,jt:!0},(m,v,b)=>{const[S,O,L]=m;S===e&&O===o&&(c=!0),b.done()}).next(()=>c)}function ml(n){return si(n,wn.store)}function Lh(n){return si(n,ii.store)}function BE(n){return si(n,wu.store)}class kc{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new kc(0)}static Je(){return new kc(-1)}}class LS{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new kc(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>vt.fromTimestamp(new ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Xe(e,o)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fc(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Fc(e).Qt((c,m)=>{const v=sy(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,u.push(this.removeTargetData(e,v)))}).next(()=>ye.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Fc(e).Qt((r,o)=>{const u=sy(o);t(u)})}Ye(e){return jE(e).get(Ds.key).next(t=>(wt(null!==t),t))}Xe(e,t){return jE(e).put(Ds.key,t)}Ze(e,t){return Fc(e).put(NE(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Cp(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Fc(e).Qt({range:o,index:Si.queryTargetsIndexName},(c,m,v)=>{const b=sy(m);yh(t,b.target)&&(u=b,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=yl(e);return t.forEach(c=>{const m=fr(c.path);o.push(u.put(new Mi(r,m))),o.push(this.referenceDelegate.addReference(e,r,c))}),ye.waitFor(o)}removeMatchingKeys(e,t,r){const o=yl(e);return ye.forEach(t,u=>{const c=fr(u.path);return ye.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=yl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=yl(e);let u=nn();return o.Qt({range:r,jt:!0},(c,m,v)=>{const b=bs(c[1]),S=new Ke(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=fr(t.path),o=IDBKeyRange.bound([r],[bT(r)],!1,!0);let u=0;return yl(e).Qt({index:Mi.documentTargetsIndex,jt:!0,range:o},([c,m],v,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Tt(e,t){return Fc(e).get(t).next(r=>r?sy(r):null)}}function Fc(n){return si(n,Si.store)}function jE(n){return si(n,Ds.store)}function yl(n){return si(n,Mi.store)}function Lc(n){return py.apply(this,arguments)}function py(){return py=(0,Ie.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==SE)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),py.apply(this,arguments)}function Vh([n,e],[t,r]){const o=Vt(n,t);return 0===o?Vt(e,r):o}class HE{constructor(e){this.en=e,this.buffer=new An(Vh),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Vh(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ie.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Rh(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Lc(o)}yield t.un(e)}))}}class YT{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(Ji.A);const r=new HE(t);return this.an.forEachTarget(e,o=>r.rn(o.sequenceNumber)).next(()=>this.an.ln(e,o=>r.rn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(fy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fy):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,o,u,c,m,v,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,c=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(b=Date.now(),Lm()<=fu.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${o} in `+(m-c)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${O} documents in `+(b-v)+`ms\nTotal Duration: ${b-S}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class db{constructor(e,t){this.db=e,this.garbageCollector=new YT(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,o)=>t(o))}addReference(e,t,r){return Fp(e,r)}removeReference(e,t,r){return Fp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Fp(e,t)}wn(e,t){return function(r,o){let u=!1;return BE(r).Wt(c=>UE(r,c,o).next(m=>(m&&(u=!0),ye.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this._n(e,(c,m)=>{if(m<=t){const v=this.wn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,vt.min()),yl(e).delete([0,fr(c.path)])))});o.push(v)}}).next(()=>ye.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Fp(e,t)}_n(e,t){const r=yl(e);let o,u=Ji.A;return r.Qt({index:Mi.documentTargetsIndex},([c,m],{path:v,sequenceNumber:b})=>{0===c?(u!==Ji.A&&t(new Ke(bs(o)),u),u=b,o=v):u=Ji.A}).next(()=>{u!==Ji.A&&t(new Ke(bs(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fp(n,e){return yl(n).put((r=n.currentSequenceNumber,new Mi(0,fr(e.path),r)));var r}class Uh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){al(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return _p(this.inner)}}class hb{constructor(){this.changes=new Uh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VS{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return _l(e).put(gy(t),r)}removeEntry(e,t){const r=_l(e),o=gy(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return _l(e).get(gy(t)).next(r=>this.gn(t,r))}yn(e,t){return _l(e).get(gy(t)).next(r=>({document:this.gn(t,r),size:LE(r)}))}getEntries(e,t){let r=Xi();return this.pn(e,t,(o,u)=>{const c=this.gn(o,u);r=r.insert(o,c)}).next(()=>r)}In(e,t){let r=Xi(),o=new sr(Ke.comparator);return this.pn(e,t,(u,c)=>{const m=this.gn(u,c);r=r.insert(u,m),o=o.insert(u,LE(c))}).next(()=>({documents:r,En:o}))}pn(e,t,r){if(t.isEmpty())return ye.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let c=u.getNext();return _l(e).Qt({range:o},(m,v,b)=>{const S=Ke.fromSegments(m);for(;c&&Ke.comparator(c,S)<0;)r(c,null),c=u.getNext();c&&c.isEqual(S)&&(r(c,v),c=u.hasNext()?u.getNext():null),c?b.Ut(c.path.toArray()):b.done()}).next(()=>{for(;c;)r(c,null),c=u.hasNext()?u.getNext():null})}getAll(e,t,r){let o=Xi();const u=t.length+1,c={};if(r.isEqual(vt.min())){const m=t.toArray();c.range=IDBKeyRange.lowerBound(m)}else{const m=t.toArray(),v=OE(r);c.range=IDBKeyRange.lowerBound([m,v],!0),c.index=zn.collectionReadTimeIndex}return _l(e).Qt(c,(m,v,b)=>{if(m.length!==u)return;const S=this.gn(Ke.fromSegments(m),v);t.isPrefixOf(S.key.path)?o=o.insert(S.key,S):b.done()}).next(()=>o)}newChangeBuffer(e){return new US(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $E(e).get(uo.key).next(t=>(wt(!!t),t))}mn(e,t){return $E(e).put(uo.key,t)}gn(e,t){if(t){const r=xE(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return Pn.newInvalidDocument(e)}}class US extends hb{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Uh(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new An((u,c)=>Vt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const m=this.An.get(u);if(c.isValidDocument()){const v=ob(this.Tn.O,c);o=o.add(u.path.popLast()),r+=LE(v)-m,t.push(this.Tn.addEntry(e,u,v))}else if(r-=m,this.trackRemovals){const v=ob(this.Tn.O,c.convertToNoDocument(vt.min()));t.push(this.Tn.addEntry(e,u,v))}else t.push(this.Tn.removeEntry(e,u))}),o.forEach(u=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Tn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:o})=>(o.forEach((u,c)=>{this.An.set(u,c)}),r))}}function $E(n){return si(n,uo.store)}function _l(n){return si(n,zn.store)}function gy(n){return n.path.toArray()}class QT{constructor(e){this.O=e}kt(e,t,r,o){const u=new iy("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(ao.store),(m=e).createObjectStore(wu.store,{keyPath:wu.keyPath}),m.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ii.store),JT(e),function(m){m.createObjectStore(zn.store)}(e));let c=ye.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Mi.store),m.deleteObjectStore(Si.store),m.deleteObjectStore(Ds.store)}(e),JT(e)),c=c.next(()=>function(m){const v=m.store(Ds.store),b=new Ds(0,0,vt.min().toTimestamp(),0);return v.put(Ds.key,b)}(u))),r<4&&o>=4&&(0!==r&&(c=c.next(()=>function(m,v){return v.store(wn.store).qt().next(b=>{m.deleteObjectStore(wn.store),m.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0});const S=v.store(wn.store),O=b.map(L=>S.put(L));return ye.waitFor(O)})}(e,u))),c=c.next(()=>{!function(m){m.createObjectStore(wa.store,{keyPath:wa.keyPath})}(e)})),r<5&&o>=5&&(c=c.next(()=>this.Rn(u))),r<6&&o>=6&&(c=c.next(()=>(function(m){m.createObjectStore(uo.store)}(e),this.Pn(u)))),r<7&&o>=7&&(c=c.next(()=>this.bn(u))),r<8&&o>=8&&(c=c.next(()=>this.vn(e,u))),r<9&&o>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const v=m.objectStore(zn.store);v.createIndex(zn.readTimeIndex,zn.readTimeIndexPath,{unique:!1}),v.createIndex(zn.collectionReadTimeIndex,zn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(c=c.next(()=>this.Vn(u))),r<11&&o>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(Nc.store,{keyPath:Nc.keyPath})})(e),function(m){m.createObjectStore(Oh.store,{keyPath:Oh.keyPath})}(e)})),r<12&&o>=12&&(c=c.next(()=>{!function(m){const v=m.createObjectStore(Br.store,{keyPath:Br.keyPath});v.createIndex(Br.collectionPathOverlayIndex,Br.collectionPathOverlayIndexPath,{unique:!1}),v.createIndex(Br.collectionGroupOverlayIndex,Br.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&o>=13&&(c=c.next(()=>{!function(m){m.createObjectStore(es.store,{keyPath:es.keyPath,autoIncrement:!0}).createIndex(es.collectionGroupIndex,es.collectionGroupIndexPath,{unique:!1}),m.createObjectStore(Ts.store,{keyPath:Ts.keyPath}).createIndex(Ts.sequenceNumberIndex,Ts.sequenceNumberIndexPath,{unique:!1}),m.createObjectStore(lo.store,{keyPath:lo.keyPath}).createIndex(lo.documentKeyIndex,lo.documentKeyIndexPath,{unique:!1})}(e)})),c}Pn(e){let t=0;return e.store(zn.store).Qt((r,o)=>{t+=LE(o)}).next(()=>{const r=new uo(t);return e.store(uo.store).put(uo.key,r)})}Rn(e){const t=e.store(wu.store),r=e.store(wn.store);return t.qt().next(o=>ye.forEach(o,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt(wn.userMutationsIndex,c).next(m=>ye.forEach(m,v=>{wt(v.userId===u.userId);const b=Pc(this.O,v);return lb(e,u.userId,b).next(()=>{})}))}))}bn(e){const t=e.store(Mi.store),r=e.store(zn.store);return e.store(Ds.store).get(Ds.key).next(o=>{const u=[];return r.Qt((c,m)=>{const v=new Yt(c),b=[0,fr(v)];u.push(t.get(b).next(S=>S?ye.resolve():t.put(new Mi(0,fr(v),o.highestListenSequenceNumber))))}).next(()=>ye.waitFor(u))})}vn(e,t){e.createObjectStore(Oc.store,{keyPath:Oc.keyPath});const r=t.store(Oc.store),o=new cy,u=c=>{if(o.add(c)){const m=c.lastSegment(),v=c.popLast();return r.put({collectionId:m,parent:fr(v)})}};return t.store(zn.store).Qt({jt:!0},(c,m)=>{const v=new Yt(c);return u(v.popLast())}).next(()=>t.store(ii.store).Qt({jt:!0},([c,m,v],b)=>{const S=bs(m);return u(S.popLast())}))}Vn(e){const t=e.store(Si.store);return t.Qt((r,o)=>{const u=sy(o),c=NE(this.O,u);return t.put(c)})}}function JT(n){n.createObjectStore(Mi.store,{keyPath:Mi.keyPath}).createIndex(Mi.documentTargetsIndex,Mi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Si.store,{keyPath:Si.keyPath}).createIndex(Si.queryTargetsIndexName,Si.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ds.store)}const fb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pb{constructor(e,t,r,o,u,c,m,v,b,S,O=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=u,this.window=c,this.document=m,this.Dn=b,this.Cn=S,this.schemaVersion=O,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=L=>Promise.resolve(),!pb.Vt())throw new Me(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new db(this,o),this.Bn=t+"main",this.O=new Rc(v),this.Ln=new Vo(this.Bn,this.schemaVersion,new QT(this.O)),this.Un=new LS(this.referenceDelegate,this.O),this.qn=new VS(this.O),this.Kn=new FS,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===S&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,fb);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Ji(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,Ie.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,Ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GE(e).put(new wa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Rh(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return my(e).get(ao.key).next(t=>ye.resolve(this.ts(t)))}es(e){return GE(e).delete(this.clientId)}ns(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=si(r,wa.store);return o.qt().next(u=>{const c=e.rs(u,18e5),m=u.filter(v=>-1===c.indexOf(v));return ye.forEach(m,v=>o.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?ye.resolve(!0):my(e).get(ao.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,fb);return!1}}return!(!this.networkEnabled||!this.inForeground)||GE(e).qt().next(r=>void 0===this.rs(r,5e3).find(o=>{if(this.clientId!==o.clientId){const c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||c&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[ao.store,wa.store],t=>{const r=new $T(t,Ji.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>GE(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return VE.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new ZT(e)}getDocumentOverlayCache(e){return Rp.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=13===(c=this.schemaVersion)?nb:12===c?tb:11===c?AE:void Xe();var c;let m;return this.Ln.runTransaction(e,o,u,v=>(m=new $T(v,this.Nn?this.Nn.next():Ji.A),"readwrite-primary"===t?this.Jn(m).next(b=>!!b||this.Yn(m)).next(b=>{if(!b)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Me(ue.FAILED_PRECONDITION,SE);return r(m)}).next(b=>this.Zn(m).next(()=>b)):this._s(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}_s(e){return my(e).get(ao.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ue.FAILED_PRECONDITION,fb)})}Zn(e){const t=new ao(this.clientId,this.allowTabSynchronization,Date.now());return my(e).put(ao.key,t)}static Vt(){return Vo.Vt()}Xn(e){const t=my(e);return t.get(ao.key).next(r=>this.ts(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete(ao.key)):ye.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function my(n){return si(n,ao.store)}function GE(n){return si(n,wa.store)}function qE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class yy{constructor(e,t){this.progress=e,this.ws=t}}class XT{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}Is(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return Ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Rs(e,t.path):sE(t)?this.Ps(e,t,r):this.bs(e,t,r);var o}Rs(e,t){return this.ys(e,new Ke(t)).next(r=>{let o=hE();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ps(e,t,r){const o=t.collectionGroup;let u=hE();return this.indexManager.getCollectionParents(e,o).next(c=>ye.forEach(c,m=>{const v=(b=t,S=m.child(o),new Eu(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.bs(e,v,r).next(b=>{b.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}bs(e,t,r){let o;return this.qn.getAll(e,t.path,r).next(u=>(o=u,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const m of c.mutations){const v=m.key;let b=o.get(v);null==b&&(b=Pn.newInvalidDocument(v),o=o.insert(v,b)),cE(m,b,c.localWriteTime),b.isFoundDocument()||(o=o.remove(v))}}).next(()=>(o.forEach((u,c)=>{Dc(t,c)||(o=o.remove(u))}),o))}}class zE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=o}static Ss(e,t){let r=nn(),o=nn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zE(e,t.fromCache,r,o)}}class WE{Ds(e){this.Cs=e}As(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(vt.min())?this.Ns(e,t):this.Cs.Es(e,o).next(u=>{const c=this.xs(t,u);return(qm(t)||rE(t))&&this.ks(t.limitType,c,o,r)?this.Ns(e,t):(Lm()<=fu.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bh(t)),this.Cs.As(e,t,r).next(m=>(c.forEach(v=>{m=m.insert(v.key,v)}),m)))});var u}xs(e,t){let r=new An(MI(e));return t.forEach((o,u)=>{Dc(e,u)&&(r=r.add(u))}),r}ks(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ns(e,t){return Lm()<=fu.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",bh(t)),this.Cs.As(e,t,vt.min())}}class Vc{constructor(e,t,r,o){this.persistence=e,this.Os=t,this.O=o,this.Ms=new sr(Vt),this.$s=new Uh(u=>Cp(u),yh),this.Fs=vt.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new XT(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function KE(n,e,t,r){return new Vc(n,e,t,r)}function _y(n,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Ie.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.gs.getAllMutationBatches(r).next(u=>(o=u,t.Ls(e),t.gs.getAllMutationBatches(r))).next(u=>{const c=[],m=[];let v=nn();for(const b of o){c.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}for(const b of u){m.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}return t.Us.Es(r,v).next(b=>({qs:b,removedBatchIds:c,addedBatchIds:m}))})})}),Lp.apply(this,arguments)}function eC(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,m,v,b){const S=v.batch,O=S.keys();let L=ye.resolve();return O.forEach($=>{L=L.next(()=>b.getEntry(m,$)).next(Z=>{const Ee=v.docVersions.get($);wt(null!==Ee),Z.version.compareTo(Ee)<0&&(S.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),b.addEntry(Z)))})}),L.next(()=>c.gs.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,o))})}function vy(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function ZE(n,e){const t=Ge(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((b,S)=>{const O=o.get(S);if(!O)return;m.push(t.Un.removeMatchingKeys(u,b.removedDocuments,S).next(()=>t.Un.addMatchingKeys(u,b.addedDocuments,S)));let L=O.withSequenceNumber(u.currentSequenceNumber);var $,Z,Ee;e.targetMismatches.has(S)?L=L.withResumeToken(Tr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(b.resumeToken,r)),o=o.insert(S,L),Z=L,Ee=b,(0===($=O).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0)&&m.push(t.Un.updateTargetData(u,L))});let v=Xi();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(Vp(u,c,e.documentUpdates).next(b=>{v=b})),!r.isEqual(vt.min())){const b=t.Un.getLastRemoteSnapshotVersion(u).next(S=>t.Un.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(b)}return ye.waitFor(m).next(()=>c.apply(u)).next(()=>t.Us.Ts(u,v)).next(()=>v)}).then(u=>(t.Ms=o,u))}function Vp(n,e,t){let r=nn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Xi();return t.forEach((c,m)=>{const v=o.get(c);m.isNoDocument()&&m.version.isEqual(vt.min())?(e.removeEntry(c,m.readTime),u=u.insert(c,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),u=u.insert(c,m)):Le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",v.version," Watch version:",m.version)}),u})}function BS(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function Up(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Un.getTargetData(r,e).next(u=>u?(o=u,ye.resolve(o)):t.Un.allocateTargetId(r).next(c=>(o=new Ia(e,c,0,r.currentSequenceNumber),t.Un.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function Bp(n,e,t){return gb.apply(this,arguments)}function gb(){return gb=(0,Ie.Z)(function*(n,e,t){const r=Ge(n),o=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Rh(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.$s.delete(o.target)}),gb.apply(this,arguments)}function jp(n,e,t){const r=Ge(n);let o=vt.min(),u=nn();return r.persistence.runTransaction("Execute query","readonly",c=>function(m,v,b){const S=Ge(m),O=S.$s.get(b);return void 0!==O?ye.resolve(S.Ms.get(O)):S.Un.getTargetData(v,b)}(r,c,oo(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(c,m.targetId).next(v=>{u=v})}).next(()=>r.Os.As(c,e,t?o:vt.min(),t?u:nn())).next(m=>({documents:m,Ks:u})))}function mb(n,e){const t=Ge(n),r=Ge(t.Un),o=t.Ms.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Tt(u,e).next(c=>c?c.target:null))}function yb(n){const e=Ge(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,u){const c=Ge(r);let m=Xi(),v=OE(u);const b=_l(o),S=IDBKeyRange.lowerBound(v,!0);return b.Qt({index:zn.readTimeIndex,range:S},(O,L)=>{const $=xE(c.O,L);m=m.insert($.key,$),v=L.readTime}).next(()=>({ws:m,readTime:Np(v)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function YE(){return YE=(0,Ie.Z)(function*(n){const e=Ge(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=_l(r);let u=vt.min();return o.Qt({index:zn.readTimeIndex,reverse:!0},(c,m,v)=>{m.readTime&&(u=Np(m.readTime)),v.done()}).next(()=>u)}(t)).then(t=>{e.Fs=t})}),YE.apply(this,arguments)}function Ey(){return Ey=(0,Ie.Z)(function*(n,e,t,r){const o=Ge(n);let u=nn(),c=Xi();for(const b of t){const S=e.Gs(b.metadata.name);b.document&&(u=u.add(S));const O=e.js(b);O.setReadTime(e.Qs(b.metadata.readTime)),c=c.insert(S,O)}const m=o.Bs.newChangeBuffer({trackRemovals:!0}),v=yield Up(o,(b=r,oo(ya(Yt.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>Vp(b,m,c).next(S=>(m.apply(b),S)).next(S=>o.Un.removeMatchingKeysForTargetId(b,v.targetId).next(()=>o.Un.addMatchingKeys(b,u,v.targetId)).next(()=>o.Us.Ts(b,S)).next(()=>S)))}),Ey.apply(this,arguments)}function vb(n,e){return QE.apply(this,arguments)}function QE(){return QE=(0,Ie.Z)(function*(n,e,t=nn()){const r=yield Up(n,oo(Fh(e.bundledQuery))),o=Ge(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const c=hr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return o.Kn.saveNamedQuery(u,e);const m=r.withResumeToken(Tr.EMPTY_BYTE_STRING,c);return o.Ms=o.Ms.insert(m.targetId,m),o.Un.updateTargetData(u,m).next(()=>o.Un.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Un.addMatchingKeys(u,t,r.targetId)).next(()=>o.Kn.saveNamedQuery(u,e))})}),QE.apply(this,arguments)}class nC{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return ye.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:hr(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:Fh(r.bundledQuery),readTime:hr(r.readTime)}),ye.resolve();var r}}class Eb{constructor(){this.overlays=new sr(Ke.comparator),this.Hs=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(o=>{this.Yt(e,t,o)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Hs.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Hs.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const o=new Map,u=t.length+1,c=new Ke(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const v=m.getNext().value,b=v.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new sr((b,S)=>b-S);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=new Map,u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const m=new Map,v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((b,S)=>m.set(S,b)),!(m.size>=o)););return ye.resolve(m)}Yt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);null!==o&&this.Hs.get(o.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new sb(t,r));let u=this.Hs.get(t);void 0===u&&(u=new Set,this.Hs.set(t,u)),u.add(r.key)}}class Bh{constructor(){this.Js=new An(oi.Ys),this.Xs=new An(oi.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new oi(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new oi(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new Ke(new Yt([])),r=new oi(t,e),o=new oi(t,e+1),u=[];return this.Xs.forEachInRange([r,o],c=>{this.ei(c),u.push(c.key)}),u}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new Ke(new Yt([])),r=new oi(t,e),o=new oi(t,e+1);let u=nn();return this.Xs.forEachInRange([r,o],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new oi(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oi{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return Ke.comparator(e.key,t.key)||Vt(e.oi,t.oi)}static Zs(e,t){return Vt(e.oi,t.oi)||Ke.comparator(e.key,t.key)}}class wb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new An(oi.Ys)}checkEmpty(e){return ye.resolve(0===this.gs.length)}addMutationBatch(e,t,r,o){const u=this.ci;this.ci++;const c=new ib(u,t,r,o);this.gs.push(c);for(const m of o)this.ui=this.ui.add(new oi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.hi(t+1),u=o<0?0:o;return ye.resolve(this.gs.length>u?this.gs[u]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return ye.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oi(t,0),o=new oi(t,Number.POSITIVE_INFINITY),u=[];return this.ui.forEachInRange([r,o],c=>{const m=this.ai(c.oi);u.push(m)}),ye.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Vt);return t.forEach(o=>{const u=new oi(o,0),c=new oi(o,Number.POSITIVE_INFINITY);this.ui.forEachInRange([u,c],m=>{r=r.add(m.oi)})}),ye.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const c=new oi(new Ke(u),0);let m=new An(Vt);return this.ui.forEachWhile(v=>{const b=v.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(v.oi)),!0)},c),ye.resolve(this.li(m))}li(e){const t=[];return e.forEach(r=>{const o=this.ai(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){wt(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return ye.forEach(t.mutations,o=>{const u=new oi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new oi(t,0),o=this.ui.firstAfterOrEqual(r);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ye.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class wy{constructor(e){this.di=e,this.docs=new sr(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,c=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Xi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Pn.newInvalidDocument(o))}),ye.resolve(r)}getAll(e,t,r){let o=Xi();const u=new Ke(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:m,value:{document:v}}=c.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||v.readTime.compareTo(r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return ye.resolve(o)}_i(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rC(this)}getSize(e){return ye.resolve(this.size)}}class rC extends hb{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Tn.addEntry(e,o)):this.Tn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class iC{constructor(e){this.persistence=e,this.wi=new Uh(t=>Cp(t),yh),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.mi=0,this.gi=new Bh,this.targetCount=0,this.yi=kc.He()}forEachTarget(e,t){return this.wi.forEach((r,o)=>t(o)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),ye.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new kc(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Ze(t),ye.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.wi.forEach((c,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.wi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ye.waitFor(u).next(()=>o)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(c=>{u.push(o.markPotentiallyOrphaned(e,c))}),ye.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.gi.containsKey(t))}}class sC{constructor(e,t){this.pi={},this.overlays={},this.Nn=new Ji(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new iC(this),this.indexManager=new ub,this.qn=new wy(r=>this.referenceDelegate.Ii(r)),this.O=new Rc(t),this.Kn=new nC(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Eb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new wb(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const o=new oC(this.Nn.next());return this.referenceDelegate.Ei(),r(o).next(u=>this.referenceDelegate.Ti(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return ye.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class oC extends ME{constructor(e){super(),this.currentSequenceNumber=e}}class Ib{constructor(e){this.persistence=e,this.Ri=new Bh,this.Pi=null}static bi(e){return new Ib(e)}get vi(){if(this.Pi)return this.Pi;throw Xe()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(o=>this.vi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.vi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.vi,r=>{const o=Ke.fromPath(r);return this.Vi(e,o).next(u=>{u||t.removeEntry(o,vt.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function bb(n,e){return`firestore_clients_${n}_${e}`}function Db(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function JE(n,e){return`firestore_targets_${n}_${e}`}class Iy{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Si(e,t,r){const o=JSON.parse(r);let u,c="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(u=new Me(o.error.code,o.error.message))),c?new Iy(e,t,o.state,u):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Me(r.error.code,r.error.message))),u?new Hp(e,r.state,o):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class by{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Xm();for(let c=0;o&&c<r.activeTargetIds.length;++c)o=eE(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return o?new by(e,u):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XE{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XE(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class e0{constructor(){this.activeTargetIds=Xm()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tb{constructor(e,t,r,o,u){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new sr(Vt),this.started=!1,this.$i=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Fi=bb(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new e0),this.Li=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.ds();for(const o of t){if(o===e.xi)continue;const u=e.getItem(bb(e.persistenceKey,o));if(u){const c=by.Si(o,u);c&&(e.Mi=e.Mi.insert(c.clientId,c))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const o=e.Qi(r);o&&e.Wi(o)}for(const o of e.$i)e.Oi(o);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(JE(this.persistenceKey,e));if(r){const o=Hp.Si(e,r);o&&(t=o.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ji(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const o=t.er(r.key);return t.nr(o,null)}{const o=t.sr(r.key,r.newValue);if(o)return t.nr(o.clientId,o)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const o=t.ir(r.key,r.newValue);if(o)return t.rr(o)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const o=t.cr(r.key,r.newValue);if(o)return t.ur(o)}}else if(r.key===t.Ki){if(null!==r.newValue){const o=t.Qi(r.newValue);if(o)return t.Wi(o)}}else if(r.key===t.Bi){const o=function(u){let c=Ji.A;if(null!=u)try{const m=JSON.parse(u);wt("number"==typeof m),c=m}catch(m){dr("SharedClientState","Failed to read sequence number from WebStorage",m)}return c}(r.newValue);o!==Ji.A&&t.sequenceNumberHandler(o)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const o=new Iy(this.currentUser,e,t,r),u=Db(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Di())}Ji(e){const t=Db(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const o=JE(this.persistenceKey,e),u=new Hp(e,t,r);this.setItem(o,u.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return by.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),o=Number(r[1]);return Iy.Si(new ni(void 0!==r[2]?r[2]:null),o,t)}cr(e,t){const r=this.qi.exec(e),o=Number(r[1]);return Hp.Si(o,t)}Qi(e){return XE.Si(e)}rr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),o=this.zi(this.Mi),u=this.zi(r),c=[],m=[];return u.forEach(v=>{o.has(v)||c.push(v)}),o.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.dr(c,m).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Xm();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class aC{constructor(){this._r=new e0,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new e0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class jS{mr(e){}shutdown(){}}class uC{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class lC{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class $S extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,o,u){const c=this.$r(e,t);Le("RestConnection","Sending: ",c,r);const m={};return this.Fr(m,o,u),this.Br(e,c,m,r).then(v=>(Le("RestConnection","Received: ",v),v),v=>{throw gp("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",r),v})}Lr(e,t,r,o,u){return this.Mr(e,t,r,o,u)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+dh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}$r(e,t){return`${this.kr}/v1/${t}:${HS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,o){return new Promise((u,c)=>{const m=new MS;m.listenOnce(km.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Kv.NO_ERROR:const b=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Kv.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),c(new Me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Kv.HTTP_ERROR:const S=m.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const L=function($){const Z=$.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Z)>=0?Z:ue.UNKNOWN}(O.status);c(new Me(L,O.message))}else c(new Me(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else c(new Me(ue.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);m.send(t,"POST",v,r,15)})}Ur(e,t,r){const o=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pT(),c=gT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Fm({})),this.Fr(m.initMessageHeaders,t,r),(0,Lt.uI)()||(0,Lt.b$)()||(0,Lt.d)()||(0,Lt.w1)()||(0,Lt.Mn)()||(0,Lt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Le("Connection","Creating WebChannel: "+v,m);const b=u.createWebChannel(v,m);let S=!1,O=!1;const L=new lC({Ar:Z=>{O?Le("Connection","Not sending because WebChannel is closed:",Z):(S||(Le("Connection","Opening WebChannel transport."),b.open(),S=!0),Le("Connection","WebChannel sending:",Z),b.send(Z))},Rr:()=>b.close()}),$=(Z,Ee,Re)=>{Z.listen(Ee,st=>{try{Re(st)}catch(_t){setTimeout(()=>{throw _t},0)}})};return $(b,En.EventType.OPEN,()=>{O||Le("Connection","WebChannel transport opened.")}),$(b,En.EventType.CLOSE,()=>{O||(O=!0,Le("Connection","WebChannel transport closed"),L.Cr())}),$(b,En.EventType.ERROR,Z=>{O||(O=!0,gp("Connection","WebChannel transport errored:",Z),L.Cr(new Me(ue.UNAVAILABLE,"The operation could not be completed")))}),$(b,En.EventType.MESSAGE,Z=>{var Ee;if(!O){const Re=Z.data[0];wt(!!Re);const st=Re,_t=st.error||(null===(Ee=st[0])||void 0===Ee?void 0:Ee.error);if(_t){Le("Connection","WebChannel received error:",_t);const Pt=_t.status;let ct=function(pr){const Hr=ir[pr];if(void 0!==Hr)return jI(Hr)}(Pt),sn=_t.message;void 0===ct&&(ct=ue.INTERNAL,sn="Unknown error status: "+Pt+" with message "+_t.message),O=!0,L.Cr(new Me(ct,sn)),b.close()}else Le("Connection","WebChannel received:",Re),L.Nr(Re)}}),$(c,mT.STAT_EVENT,Z=>{Z.stat===pp.PROXY?Le("Connection","Detected buffering proxy"):Z.stat===pp.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Dr()},0),L}}function cC(){return"undefined"!=typeof window?window:null}function t0(){return"undefined"!=typeof document?document:null}function Dy(n){return new _E(n,!0)}class i{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=o,this.Gr=u,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),o=Math.max(0,t-r);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,o,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class s{constructor(e,t,r,o,u,c,m,v){this.Sn=e,this.Xr=r,this.Zr=o,this.eo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new i(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,Ie.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,Ie.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.no===t&&this.po(r,o)},r=>{e(()=>{const o=new Me(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(o)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(o=>{r(()=>this.Io(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}uo(){var e=this;this.state=5,this.ro.Hr((0,Ie.Z)(function*(){e.state=0,e.start()}))}Io(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a extends s{constructor(e,t,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.O=u}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function WI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Xe(),o=e.targetChange.targetIds||[],u=function(v,b){return v.N?(wt(void 0===b||"string"==typeof b),Tr.fromBase64String(b||"")):(wt(void 0===b||b instanceof Uint8Array),Tr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(v){const b=void 0===v.code?ue.UNKNOWN:jI(v.code);return new Me(b,v.message||"")}(c);t=new pE(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ea(n,r.document.name),u=hr(r.document.updateTime),c=new Ti({mapValue:{fields:r.document.fields}}),m=Pn.newFoundDocument(o,u,c);t=new ey(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ea(n,r.document),u=r.readTime?hr(r.readTime):vt.min(),c=Pn.newNoDocument(o,u);t=new ey([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,o=Ea(n,r.document);t=new ey([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,u=new BI(r.count||0);t=new $I(r.targetId,u)}}var v;return t}(this.O,e),r=function(o){if(!("targetChange"in o))return vt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?vt.min():u.readTime?hr(u.readTime):vt.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=Sh(this.O),t.addTarget=function(o,u){let c;const m=u.target;return c=_h(m)?{documents:ZI(o,m)}:{query:Ai(o,m)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=vE(o,u.resumeToken):u.snapshotVersion.compareTo(vt.min())>0&&(c.readTime=Mc(o,u.snapshotVersion.toTimestamp())),c}(this.O,e);const r=function UT(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=Sh(this.O),t.removeTarget=e,this.fo(t)}}class l extends s{constructor(e,t,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.O=u,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function KI(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,o){let u=hr(r.updateTime?r.updateTime:o);return u.isEqual(vt.min())&&(u=hr(o)),new OS(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.Vo(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Sh(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mh(this.O,r))};this.fo(t)}}class d extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=o,this.Co=!1}No(){if(this.Co)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.eo.Mr(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ue.UNKNOWN,o.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.eo.Lr(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ue.UNKNOWN,o.toString())})}terminate(){this.Co=!0}}class p{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(dr(t),this.Oo=!1):Le("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class _{constructor(e,t,r,o,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=u,this.jo.mr(m=>{r.enqueueAndForget((0,Ie.Z)(function*(){var v;ze(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ie.Z)(function*(b){const S=Ge(b);S.Ko.add(4),yield C(S),S.Qo.set("Unknown"),S.Ko.delete(4),yield w(S)}),function(b){return v.apply(this,arguments)})(c))}))}),this.Qo=new p(r,o)}}function w(n){return I.apply(this,arguments)}function I(){return I=(0,Ie.Z)(function*(n){if(ze(n))for(const e of n.Go)yield e(!0)}),I.apply(this,arguments)}function C(n){return M.apply(this,arguments)}function M(){return M=(0,Ie.Z)(function*(n){for(const e of n.Go)yield e(!1)}),M.apply(this,arguments)}function k(n,e){const t=Ge(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),je(t)?ke(t):Ay(t).co()&&Y(t,e))}function B(n,e){const t=Ge(n),r=Ay(t);t.qo.delete(e),r.co()&&ve(t,e),0===t.qo.size&&(r.co()?r.ho():ze(t)&&t.Qo.set("Unknown"))}function Y(n,e){n.Wo.Z(e.targetId),Ay(n).Ao(e)}function ve(n,e){n.Wo.Z(e),Ay(n).Ro(e)}function ke(n){n.Wo=new mE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Ay(n).start(),n.Qo.Mo()}function je(n){return ze(n)&&!Ay(n).oo()&&n.qo.size>0}function ze(n){return 0===Ge(n).Ko.size}function Te(n){n.Wo=void 0}function dt(n){return kt.apply(this,arguments)}function kt(){return kt=(0,Ie.Z)(function*(n){n.qo.forEach((e,t)=>{Y(n,e)})}),kt.apply(this,arguments)}function rn(n,e){return ji.apply(this,arguments)}function ji(){return ji=(0,Ie.Z)(function*(n,e){Te(n),je(n)?(n.Qo.Bo(e),ke(n)):n.Qo.set("Unknown")}),ji.apply(this,arguments)}function Uc(n,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,Ie.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof pE&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(o,u){const c=u.cause;for(const m of u.targetIds)o.qo.has(m)&&(yield o.remoteSyncer.rejectListen(m,c),o.qo.delete(m),o.Wo.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jh(n,r)}else if(e instanceof ey?n.Wo.ct(e):e instanceof $I?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(vt.min()))try{const r=yield vy(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const c=o.Wo.yt(u);return c.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.qo.get(v);b&&o.qo.set(v,b.withResumeToken(m.resumeToken,u))}}),c.targetMismatches.forEach(m=>{const v=o.qo.get(m);if(!v)return;o.qo.set(m,v.withResumeToken(Tr.EMPTY_BYTE_STRING,v.snapshotVersion)),ve(o,m);const b=new Ia(v.target,m,1,v.sequenceNumber);Y(o,b)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield jh(n,r)}var r}),$p.apply(this,arguments)}function jh(n,e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Ie.Z)(function*(n,e,t){if(!Rh(e))throw e;n.Ko.add(1),yield C(n),n.Qo.set("Offline"),t||(t=()=>vy(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield w(n)}))}),Gp.apply(this,arguments)}function Ty(n,e){return e().catch(t=>jh(n,t,e))}function vl(n){return qp.apply(this,arguments)}function qp(){return qp=(0,Ie.Z)(function*(n){const e=Ge(n),t=Hh(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;n0(e);)try{const o=yield BS(e.localStore,r);if(null===o){0===e.Uo.length&&t.ho();break}r=o.batchId,r0(e,o)}catch(o){yield jh(e,o)}Cy(e)&&GS(e)}),qp.apply(this,arguments)}function n0(n){return ze(n)&&n.Uo.length<10}function r0(n,e){n.Uo.push(e);const t=Hh(n);t.co()&&t.bo&&t.vo(e.mutations)}function Cy(n){return ze(n)&&!Hh(n).oo()&&n.Uo.length>0}function GS(n){Hh(n).start()}function $O(n){return dC.apply(this,arguments)}function dC(){return dC=(0,Ie.Z)(function*(n){Hh(n).Do()}),dC.apply(this,arguments)}function GO(n){return hC.apply(this,arguments)}function hC(){return hC=(0,Ie.Z)(function*(n){const e=Hh(n);for(const t of n.Uo)e.vo(t.mutations)}),hC.apply(this,arguments)}function qO(n,e,t){return fC.apply(this,arguments)}function fC(){return fC=(0,Ie.Z)(function*(n,e,t){const r=n.Uo.shift(),o=kh.from(r,e,t);yield Ty(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield vl(n)}),fC.apply(this,arguments)}function zO(n,e){return pC.apply(this,arguments)}function pC(){return pC=(0,Ie.Z)(function*(n,e){var t;e&&Hh(n).bo&&(yield(t=(0,Ie.Z)(function*(r,o){if(dE(u=o.code)&&u!==ue.ABORTED){const c=r.Uo.shift();Hh(r).ao(),yield Ty(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),yield vl(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Cy(n)&&GS(n)}),pC.apply(this,arguments)}function qS(n,e){return gC.apply(this,arguments)}function gC(){return gC=(0,Ie.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=ze(t);t.Ko.add(3),yield C(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield w(t)}),gC.apply(this,arguments)}function mC(n,e){return yC.apply(this,arguments)}function yC(){return yC=(0,Ie.Z)(function*(n,e){const t=Ge(n);e?(t.Ko.delete(2),yield w(t)):e||(t.Ko.add(2),yield C(t),t.Qo.set("Unknown"))}),yC.apply(this,arguments)}function Ay(n){return n.zo||(n.zo=function(e,t,r){const o=Ge(e);return o.No(),new a(t,o.eo,o.authCredentials,o.appCheckCredentials,o.O,r)}(n.datastore,n.asyncQueue,{Pr:dt.bind(null,n),vr:rn.bind(null,n),To:Uc.bind(null,n)}),n.Go.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.zo.ao(),je(n)?ke(n):n.Qo.set("Unknown")):(yield n.zo.stop(),Te(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function Hh(n){return n.Ho||(n.Ho=function(e,t,r){const o=Ge(e);return o.No(),new l(t,o.eo,o.authCredentials,o.appCheckCredentials,o.O,r)}(n.datastore,n.asyncQueue,{Pr:$O.bind(null,n),vr:zO.bind(null,n),So:GO.bind(null,n),Vo:qO.bind(null,n)}),n.Go.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Ho.ao(),yield vl(n)):(yield n.Ho.stop(),n.Uo.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class _C{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,o,u){const c=Date.now()+r,m=new _C(e,t,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(n,e){if(dr("AsyncQueue",`${e}: ${n}`),Rh(n))return new Me(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class My{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=hE(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new My(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof My)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new My;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zS{constructor(){this.Jo=new sr(Ke.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Xe():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class xy{constructor(e,t,r,o,u,c,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new xy(e,t,My.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class WO{constructor(){this.Xo=void 0,this.listeners=[]}}class KO{constructor(){this.queries=new Uh(e=>Wm(e),Ih),this.onlineState="Unknown",this.Zo=new Set}}function vC(n,e){return EC.apply(this,arguments)}function EC(){return EC=(0,Ie.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new WO),o)try{u.Xo=yield t.onListen(r)}catch(c){const m=Sy(c,`Initialization of query '${bh(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.tc(t.onlineState),u.Xo&&e.ec(u.Xo)&&bC(t)}),EC.apply(this,arguments)}function wC(n,e){return IC.apply(this,arguments)}function IC(){return IC=(0,Ie.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),IC.apply(this,arguments)}function ZO(n,e){const t=Ge(n);let r=!1;for(const o of e){const c=t.queries.get(o.query);if(c){for(const m of c.listeners)m.ec(o)&&(r=!0);c.Xo=o}}r&&bC(t)}function YO(n,e,t){const r=Ge(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function bC(n){n.Zo.forEach(e=>{e.next()})}class DC{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new xy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=xy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class QO{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class WS{constructor(e){this.O=e}Gs(e){return Ea(this.O,e)}js(e){return e.metadata.exists?bE(this.O,e.document,!1):Pn.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return hr(e)}}class JO{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=KS(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new WS(this.O);for(const o of e)if(o.metadata.queries){const u=r.Gs(o.metadata.name);for(const c of o.metadata.queries){const m=(t.get(c)||nn()).add(u);t.set(c,m)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function _b(n,e,t,r){return Ey.apply(this,arguments)}(e.localStore,new WS(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const o of e.queries)yield vb(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new yy(Object.assign({},e.progress),t)})()}}function KS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class QS{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=nn(),this.mutatedKeys=nn(),this.mc=MI(e),this.gc=new My(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new zS,o=t?t.gc:this.gc;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const v=qm(this.query)&&o.size===this.query.limit?o.last():null,b=rE(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,O)=>{const L=o.get(S),$=Dc(this.query,O)?O:null,Z=!!L&&this.mutatedKeys.has(L.key),Ee=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Re=!1;L&&$?L.data.isEqual($.data)?Z!==Ee&&(r.track({type:3,doc:$}),Re=!0):this.Tc(L,$)||(r.track({type:2,doc:$}),Re=!0,(v&&this.mc($,v)>0||b&&this.mc($,b)<0)&&(m=!0)):!L&&$?(r.track({type:0,doc:$}),Re=!0):L&&!$&&(r.track({type:1,doc:L}),Re=!0,(v||b)&&(m=!0)),Re&&($?(c=c.add($),u=Ee?u.add(S):u.delete(S)):(c=c.delete(S),u=u.delete(S)))}),qm(this.query)||rE(this.query))for(;c.size>this.query.limit;){const S=qm(this.query)?c.last():c.first();c=c.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{gc:c,Ec:r,ks:m,mutatedKeys:u}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const u=e.Ec.Yo();u.sort((b,S)=>function(O,L){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return $(O)-$(L)}(b.type,S.type)||this.mc(b.doc,S.doc)),this.Ac(r);const c=t?this.Rc():[],m=0===this.wc.size&&this.current?1:0,v=m!==this._c;return this._c=m,0!==u.length||v?{snapshot:new xy(this.query,e.gc,o,u,e.mutatedKeys,0===m,v,!1),Pc:c}:{Pc:c}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new zS,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=nn(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new YS(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new ZS(r))}),t}vc(e){this.dc=e.Ks,this.wc=nn();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return xy.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class XO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eN{constructor(e){this.key=e,this.Sc=!1}}class tN{constructor(e,t,r,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Dc={},this.Cc=new Uh(m=>Wm(m),Ih),this.Nc=new Map,this.xc=new Set,this.kc=new sr(Ke.comparator),this.Oc=new Map,this.Mc=new Bh,this.$c={},this.Fc=new Map,this.Bc=kc.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function nN(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,Ie.Z)(function*(n,e){const t=KC(n);let r,o;const u=t.Cc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Vc();else{const c=yield Up(t.localStore,oo(e));t.isPrimaryClient&&k(t.remoteStore,c);const m=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,o=yield CC(t,e,r,"current"===m)}return o}),TC.apply(this,arguments)}function CC(n,e,t,r){return AC.apply(this,arguments)}function AC(){return AC=(0,Ie.Z)(function*(n,e,t,r){n.Uc=(S,O,L)=>{return($=(0,Ie.Z)(function*(Z,Ee,Re,st){let _t=Ee.view.Ic(Re);_t.ks&&(_t=yield jp(Z.localStore,Ee.query,!1).then(({documents:sn})=>Ee.view.Ic(sn,_t)));const Pt=st&&st.targetChanges.get(Ee.targetId),ct=Ee.view.applyChanges(_t,Z.isPrimaryClient,Pt);return LC(Z,Ee.targetId,ct.Pc),ct.snapshot}),function(Z,Ee,Re,st){return $.apply(this,arguments)})(n,S,O,L);var $};const o=yield jp(n.localStore,e,!0),u=new QS(e,o.Ks),c=u.Ic(o.documents),m=hl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(c,n.isPrimaryClient,m);LC(n,t,v.Pc);const b=new XO(e,t,u);return n.Cc.set(e,b),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),v.snapshot}),AC.apply(this,arguments)}function rN(n,e){return SC.apply(this,arguments)}function SC(){return SC=(0,Ie.Z)(function*(n,e){const t=Ge(n),r=t.Cc.get(e),o=t.Nc.get(r.targetId);if(o.length>1)return t.Nc.set(r.targetId,o.filter(u=>!Ih(u,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),B(t.remoteStore,r.targetId),Oy(t,r.targetId)}).catch(Lc))):(Oy(t,r.targetId),yield Bp(t.localStore,r.targetId,!0))}),SC.apply(this,arguments)}function MC(){return MC=(0,Ie.Z)(function*(n,e,t){const r=ZC(n);try{const o=yield function(u,c){const m=Ge(u),v=ri.now(),b=c.reduce((O,L)=>O.add(L.key),nn());let S;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Us.Es(O,b).next(L=>{S=L;const $=[];for(const Z of c){const Ee=PT(Z,S.get(Z.key));null!=Ee&&$.push(new Sc(Z.key,Ee,bI(Ee.value.mapValue),rr.exists(!0)))}return m.gs.addMutationBatch(O,v,$,c)})).then(O=>(O.applyToLocalDocumentSet(S),{batchId:O.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,c,m){let v=u.$c[u.currentUser.toKey()];v||(v=new sr(Vt)),v=v.insert(c,m),u.$c[u.currentUser.toKey()]=v}(r,o.batchId,t),yield Bc(r,o.changes),yield vl(r.remoteStore)}catch(o){const u=Sy(o,"Failed to persist write");t.reject(u)}}),MC.apply(this,arguments)}function JS(n,e){return xC.apply(this,arguments)}function xC(){return xC=(0,Ie.Z)(function*(n,e){const t=Ge(n);try{const r=yield ZE(t.localStore,e);e.targetChanges.forEach((o,u)=>{const c=t.Oc.get(u);c&&(wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Sc=!0:o.modifiedDocuments.size>0?wt(c.Sc):o.removedDocuments.size>0&&(wt(c.Sc),c.Sc=!1))}),yield Bc(t,r,e)}catch(r){yield Lc(r)}}),xC.apply(this,arguments)}function XS(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Cc.forEach((u,c)=>{const m=c.view.tc(e);m.snapshot&&o.push(m.snapshot)}),function(u,c){const m=Ge(u);m.onlineState=c;let v=!1;m.queries.forEach((b,S)=>{for(const O of S.listeners)O.tc(c)&&(v=!0)}),v&&bC(m)}(r.eventManager,e),o.length&&r.Dc.To(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sN(n,e,t){return OC.apply(this,arguments)}function OC(){return OC=(0,Ie.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Oc.get(e),u=o&&o.key;if(u){let c=new sr(Ke.comparator);c=c.insert(u,Pn.newNoDocument(u,vt.min()));const m=nn().add(u),v=new dl(vt.min(),new Map,new An(Vt),c,m);yield JS(r,v),r.kc=r.kc.remove(u),r.Oc.delete(e),VC(r)}else yield Bp(r.localStore,e,!1).then(()=>Oy(r,e,t)).catch(Lc)}),OC.apply(this,arguments)}function oN(n,e){return NC.apply(this,arguments)}function NC(){return NC=(0,Ie.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const o=yield eC(t.localStore,e);FC(t,r,null),kC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bc(t,o)}catch(o){yield Lc(o)}}),NC.apply(this,arguments)}function aN(n,e,t){return RC.apply(this,arguments)}function RC(){return RC=(0,Ie.Z)(function*(n,e,t){const r=Ge(n);try{const o=yield function(u,c){const m=Ge(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return m.gs.lookupMutationBatch(v,c).next(S=>(wt(null!==S),b=S.keys(),m.gs.removeMutationBatch(v,S))).next(()=>m.gs.performConsistencyCheck(v)).next(()=>m.Us.Es(v,b))})}(r.localStore,e);FC(r,e,t),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bc(r,o)}catch(o){yield Lc(o)}}),RC.apply(this,arguments)}function PC(){return PC=(0,Ie.Z)(function*(n,e){const t=Ge(n);ze(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Ge(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>c.gs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Fc.get(r)||[];o.push(e),t.Fc.set(r,o)}catch(r){const o=Sy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),PC.apply(this,arguments)}function kC(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function FC(n,e,t){const r=Ge(n);let o=r.$c[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.$c[r.currentUser.toKey()]=o}}function Oy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||eM(n,r)})}function eM(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(B(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),VC(n))}function LC(n,e,t){for(const r of t)r instanceof ZS?(n.Mc.addReference(r.key,e),lN(n,r)):r instanceof YS?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||eM(n,r.key)):Xe()}function lN(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.xc.add(r),VC(n))}function VC(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new Ke(Yt.fromString(e)),r=n.Bc.next();n.Oc.set(r,new eN(t)),n.kc=n.kc.insert(t,r),k(n.remoteStore,new Ia(oo(ya(t.path)),r,2,Ji.A))}}function Bc(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=(0,Ie.Z)(function*(n,e,t){const r=Ge(n),o=[],u=[],c=[];var m;r.Cc.isEmpty()||(r.Cc.forEach((m,v)=>{c.push(r.Uc(v,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,b.fromCache?"not-current":"current"),o.push(b);const S=zE.Ss(v.targetId,b);u.push(S)}}))}),yield Promise.all(c),r.Dc.To(o),yield(m=(0,Ie.Z)(function*(v,b){const S=Ge(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ye.forEach(b,L=>ye.forEach(L.vs,$=>S.persistence.referenceDelegate.addReference(O,L.targetId,$)).next(()=>ye.forEach(L.Vs,$=>S.persistence.referenceDelegate.removeReference(O,L.targetId,$)))))}catch(O){if(!Rh(O))throw O;Le("LocalStore","Failed to update sequence numbers: "+O)}for(const O of b){const L=O.targetId;if(!O.fromCache){const $=S.Ms.get(L),Ee=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);S.Ms=S.Ms.insert(L,Ee)}}}),function(v,b){return m.apply(this,arguments)})(r.localStore,u))}),UC.apply(this,arguments)}function cN(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,Ie.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield _y(t.localStore,e);t.currentUser=e,(o=t).Fc.forEach(c=>{c.forEach(m=>{m.reject(new Me(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bc(t,r.qs)}var o}),BC.apply(this,arguments)}function dN(n,e){const t=Ge(n),r=t.Oc.get(e);if(r&&r.Sc)return nn().add(r.key);{let o=nn();const u=t.Nc.get(e);if(!u)return o;for(const c of u){const m=t.Cc.get(c);o=o.unionWith(m.view.yc)}return o}}function hN(n,e){return jC.apply(this,arguments)}function jC(){return jC=(0,Ie.Z)(function*(n,e){const t=Ge(n),r=yield jp(t.localStore,e.query,!0),o=e.view.vc(r);return t.isPrimaryClient&&LC(t,e.targetId,o.Pc),o}),jC.apply(this,arguments)}function fN(n){return HC.apply(this,arguments)}function HC(){return HC=(0,Ie.Z)(function*(n){const e=Ge(n);return yb(e.localStore).then(t=>Bc(e,t))}),HC.apply(this,arguments)}function pN(n,e,t,r){return $C.apply(this,arguments)}function $C(){return $C=(0,Ie.Z)(function*(n,e,t,r){const o=Ge(n),u=yield function(c,m){const v=Ge(c),b=Ge(v.gs);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.Ge(S,m).next(O=>O?v.Us.Es(S,O):ye.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield vl(o.remoteStore):"acknowledged"===t||"rejected"===t?(FC(o,e,r||null),kC(o,e),m=e,Ge(Ge(o.localStore).gs).Qe(m)):Xe(),yield Bc(o,u)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),$C.apply(this,arguments)}function GC(){return GC=(0,Ie.Z)(function*(n,e){const t=Ge(n);if(KC(t),ZC(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield tM(t,r.toArray());t.Lc=!0,yield mC(t.remoteStore,!0);for(const u of o)k(t.remoteStore,u)}else if(!1===e&&!1!==t.Lc){const r=[];let o=Promise.resolve();t.Nc.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):o=o.then(()=>(Oy(t,c),Bp(t.localStore,c,!0))),B(t.remoteStore,c)}),yield o,yield tM(t,r),function(u){const c=Ge(u);c.Oc.forEach((m,v)=>{B(c.remoteStore,v)}),c.Mc.ii(),c.Oc=new Map,c.kc=new sr(Ke.comparator)}(t),t.Lc=!1,yield mC(t.remoteStore,!1)}}),GC.apply(this,arguments)}function tM(n,e,t){return qC.apply(this,arguments)}function qC(){return qC=(0,Ie.Z)(function*(n,e,t){const r=Ge(n),o=[],u=[];for(const c of e){let m;const v=r.Nc.get(c);if(v&&0!==v.length){m=yield Up(r.localStore,oo(v[0]));for(const b of v){const S=r.Cc.get(b),O=yield hN(r,S);O.snapshot&&u.push(O.snapshot)}}else{const b=yield mb(r.localStore,c);m=yield Up(r.localStore,b),yield CC(r,nM(b),c,!1)}o.push(m)}return r.Dc.To(u),o}),qC.apply(this,arguments)}function nM(n){return bc(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mN(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).ds()}function yN(n,e,t,r){return zC.apply(this,arguments)}function zC(){return zC=(0,Ie.Z)(function*(n,e,t,r){const o=Ge(n);if(o.Lc)Le("SyncEngine","Ignoring unexpected query state notification.");else if(o.Nc.has(e))switch(t){case"current":case"not-current":{const u=yield yb(o.localStore),c=dl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Bc(o,u,c);break}case"rejected":yield Bp(o.localStore,e,!0),Oy(o,e,r);break;default:Xe()}}),zC.apply(this,arguments)}function _N(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=(0,Ie.Z)(function*(n,e,t){const r=KC(n);if(r.Lc){for(const o of e){if(r.Nc.has(o)){Le("SyncEngine","Adding an already active target "+o);continue}const u=yield mb(r.localStore,o),c=yield Up(r.localStore,u);yield CC(r,nM(u),c.targetId,!1),k(r.remoteStore,c)}for(const o of t)r.Nc.has(o)&&(yield Bp(r.localStore,o,!1).then(()=>{B(r.remoteStore,o),Oy(r,o)}).catch(Lc))}}),WC.apply(this,arguments)}function KC(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Dc.To=ZO.bind(null,e.eventManager),e.Dc.qc=YO.bind(null,e.eventManager),e}function ZC(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class rM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.O=Dy(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return KE(this.persistence,new WE,e.initialUser,this.O)}jc(e){return new sC(Ib.bi,this.O)}Gc(e){return new aC}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iM extends rM{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e),yield function tC(n){return YE.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield ZC(r.zc.syncEngine),yield vl(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return KE(this.persistence,new WE,e.initialUser,this.O)}Qc(e){return new cb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=qE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new pb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cC(),t0(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new aC}}class EN extends iM{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ie.Z)(function*(){yield t().call(r,e);const o=r.zc.syncEngine;r.sharedClientState instanceof Tb&&(r.sharedClientState.syncEngine={hr:pN.bind(null,o),lr:yN.bind(null,o),dr:_N.bind(null,o),ds:mN.bind(null,o),ar:fN.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var u=(0,Ie.Z)(function*(c){yield function gN(n,e){return GC.apply(this,arguments)}(r.zc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}Gc(e){const t=cC();if(!Tb.Vt(t))throw new Me(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=qE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class YC{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>XS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,r.syncEngine),yield mC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KO}createDatastore(e){const t=Dy(e.databaseInfo.databaseId),r=new $S(e.databaseInfo);return new d(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>XS(this.syncEngine,m,0),c=uC.Vt()?new uC:new jS,new _(t,r,o,u,c);var t,r,o,u,c}createSyncEngine(e,t){return function(r,o,u,c,m,v,b){const S=new tN(r,o,u,c,m,v);return b&&(S.Lc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=Ge(t);Le("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield C(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sM(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wN{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Dr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),o=Number(r);isNaN(o)&&e.eu(`length string (${r}) is not valid number`);const u=yield e.nu(o);return new QO(JSON.parse(u),t.length+o)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,Ie.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class IN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ie.Z)(function*(u,c){const m=Ge(u),v=Sh(m.O)+"/documents",b={documents:c.map($=>xp(m.O,$))},S=yield m.Lr("BatchGetDocuments",v,b),O=new Map;S.forEach($=>{const Z=function VT(n,e){return"found"in e?function(t,r){wt(!!r.found);const o=Ea(t,r.found.name),u=hr(r.found.updateTime),c=new Ti({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(o,u,c)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const o=Ea(t,r.missing),u=hr(r.readTime);return Pn.newNoDocument(o,u)}(n,e):Xe()}(m.O,$);O.set(Z.key.toString(),Z)});const L=[];return c.forEach($=>{const Z=O.get($.toString());wt(!!Z),L.push(Z)}),L}),function(u,c){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Ke.fromPath(o);e.mutations.push(new Qm(u,e.precondition(u)))}),yield(r=(0,Ie.Z)(function*(o,u){const c=Ge(o),m=Sh(c.O)+"/documents",v={writes:u.map(b=>Mh(c.O,b))};yield c.Mr("Commit",m,v)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rr.updateTime(t):rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Me(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(t)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bN{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.ru=5,this.ro=new i(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,Ie.Z)(function*(){const t=new IN(e.datastore),r=e.cu(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.uu(u)}))}).catch(o=>{e.uu(o)})}))}cu(e){try{const t=this.updateFunction(e);return!ll(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!dE(t)}return!1}}class DN{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ni.UNAUTHENTICATED,this.clientId=Jv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ie.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Sy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function oM(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ie.Z)(function*(u){r.isEqual(u)||(yield _y(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),QC.apply(this,arguments)}function aM(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield XC(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>qS(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>qS(e.remoteStore,u)),n.onlineComponents=e}),JC.apply(this,arguments)}function XC(n){return eA.apply(this,arguments)}function eA(){return eA=(0,Ie.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield oM(n,new rM)),n.offlineComponents}),eA.apply(this,arguments)}function Ab(n){return tA.apply(this,arguments)}function tA(){return tA=(0,Ie.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield aM(n,new YC)),n.onlineComponents}),tA.apply(this,arguments)}function uM(n){return XC(n).then(e=>e.persistence)}function nA(n){return XC(n).then(e=>e.localStore)}function lM(n){return Ab(n).then(e=>e.remoteStore)}function rA(n){return Ab(n).then(e=>e.syncEngine)}function Ny(n){return iA.apply(this,arguments)}function iA(){return iA=(0,Ie.Z)(function*(n){const e=yield Ab(n),t=e.eventManager;return t.onListen=nN.bind(null,e.syncEngine),t.onUnlisten=rN.bind(null,e.syncEngine),t}),iA.apply(this,arguments)}function cM(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(o,u,c,m,v){const b=new Cb({next:O=>{u.enqueueAndForget(()=>wC(o,S));const L=O.docs.has(c);!L&&O.fromCache?v.reject(new Me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&O.fromCache&&m&&"server"===m.source?v.reject(new Me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),S=new DC(ya(c.path),b,{includeMetadataChanges:!0,uc:!0});return vC(o,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function dM(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(o,u,c,m,v){const b=new Cb({next:O=>{u.enqueueAndForget(()=>wC(o,S)),O.fromCache&&"server"===m.source?v.reject(new Me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),S=new DC(c,b,{includeMetadataChanges:!0,uc:!0});return vC(o,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}const hM=new Map;function sA(n,e,t){if(!t)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fM(n,e,t,r){if(!0===e&&!0===r)throw new Me(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pM(n){if(!Ke.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gM(n){if(Ke.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sb(n);throw new Me(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mM(n,e){if(e<=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,fM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yM({}),this._settingsFrozen=!1,e instanceof Ec?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(o.options.projectId)}(e))}get app(){if(!this._app)throw new Me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _T;switch(t.type){case"gapi":const r=t.client;return wt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ET(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hM.get(e);t&&(Le("ComponentProvider","Removing Datastore"),hM.delete(e),t.terminate())}(this),Promise.resolve()}}class kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class El extends ts{constructor(e,t,r){super(e,t,ya(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Ke(e))}withConverter(e){return new El(this.firestore,e,this._path)}}function _M(n,e,...t){if(n=(0,Lt.m9)(n),sA("collection","path",e),n instanceof s0){const r=Yt.fromString(e,...t);return gM(r),new El(n,null,r)}{if(!(n instanceof kn||n instanceof El))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return gM(r),new El(n.firestore,null,r)}}function Mb(n,e,...t){if(n=(0,Lt.m9)(n),1===arguments.length&&(e=Jv.R()),sA("doc","path",e),n instanceof s0){const r=Yt.fromString(e,...t);return pM(r),new kn(n,null,new Ke(r))}{if(!(n instanceof kn||n instanceof El))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return pM(r),new kn(n.firestore,n instanceof El?n.converter:null,new Ke(r))}}function vM(n,e){return n=(0,Lt.m9)(n),e=(0,Lt.m9)(e),(n instanceof kn||n instanceof El)&&(e instanceof kn||e instanceof El)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function EM(n,e){return n=(0,Lt.m9)(n),e=(0,Lt.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&Ih(n._query,e._query)&&n.converter===e.converter}class kN{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new i(this,"async_queue_retry"),this.yu=()=>{const t=t0();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=t0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=t0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Dr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Rh(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,dr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const o=_C.createAndSchedule(this,e,t,r,u=>this.Tu(u));return this.du.push(o),o}pu(){this._u&&Xe()}verifyOperationInProgress(){}Au(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function oA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class FN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends s0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new kN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||wM(this),this._firestoreClient.terminate()}}function jr(n){return n._firestoreClient||wM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vI(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new DN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function IM(n,e,t){const r=new Dr;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield oM(n,t),yield aM(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===ue.FAILED_PRECONDITION||u.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function bM(n){if(n._initialized||n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(Tr.fromBase64String(e))}catch(t){throw new Me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wl(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zp{constructor(e){this._methodName=e}}class xb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const zN=/^__.*__$/;class WN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sp(e,this.data,t,this.fieldTransforms)}}class DM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Ob{constructor(e,t,r,o,u,c){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=o,void 0===u&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Ob(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Su({path:r,Cu:!1});return o.Nu(e),o}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Su({path:r,Cu:!1});return o.vu(),o}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Pb(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(TM(this.Vu)&&zN.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class KN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Dy(e)}Fu(e,t,r,o=!1){return new Ob({Vu:e,methodName:t,$u:r,path:qn.emptyPath(),Cu:!1,Mu:o},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Wp(n){const e=n._freezeSettings(),t=Dy(n._databaseId);return new KN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Nb(n,e,t,r,o,u={}){const c=n.Fu(u.merge||u.mergeFields?2:0,e,t,o);cA("Data must be an object, but it was:",c,r);const m=SM(r,c);let v,b;if(u.merge)v=new fh(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const S=[];for(const O of u.mergeFields){const L=dA(e,O,t);if(!c.contains(L))throw new Me(ue.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);xM(S,L)||S.push(L)}v=new fh(S),b=c.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,b=c.fieldTransforms;return new WN(new Ti(m),v,b)}class o0 extends zp{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof o0}}function CM(n,e,t){return new Ob({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class aA extends zp{_toFieldTransform(e){return new Zm(e.path,new Dh)}isEqual(e){return e instanceof aA}}class ZN extends zp{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=CM(this,e,!0),r=this.Bu.map(u=>Kp(u,t)),o=new Tc(r);return new Zm(e.path,o)}isEqual(e){return this===e}}class YN extends zp{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=CM(this,e,!0),r=this.Bu.map(u=>Kp(u,t)),o=new cl(r);return new Zm(e.path,o)}isEqual(e){return this===e}}class QN extends zp{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Ap(e.O,NI(e.O,this.Lu));return new Zm(e.path,t)}isEqual(e){return this===e}}function uA(n,e,t,r){const o=n.Fu(1,e,t);cA("Data must be an object, but it was:",o,r);const u=[],c=Ti.empty();al(r,(v,b)=>{const S=Rb(e,v,t);b=(0,Lt.m9)(b);const O=o.xu(S);if(b instanceof o0)u.push(S);else{const L=Kp(b,O);null!=L&&(u.push(S),c.set(S,L))}});const m=new fh(u);return new DM(c,m,o.fieldTransforms)}function lA(n,e,t,r,o,u){const c=n.Fu(1,e,t),m=[dA(e,r,t)],v=[o];if(u.length%2!=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)m.push(dA(e,u[L])),v.push(u[L+1]);const b=[],S=Ti.empty();for(let L=m.length-1;L>=0;--L)if(!xM(b,m[L])){const $=m[L];let Z=v[L];Z=(0,Lt.m9)(Z);const Ee=c.xu($);if(Z instanceof o0)b.push($);else{const Re=Kp(Z,Ee);null!=Re&&(b.push($),S.set($,Re))}}const O=new fh(b);return new DM(S,O,c.fieldTransforms)}function AM(n,e,t,r=!1){return Kp(t,n.Fu(r?4:3,e))}function Kp(n,e){if(MM(n=(0,Lt.m9)(n)))return cA("Unsupported field value:",e,n),SM(n,e);if(n instanceof zp)return function(t,r){if(!TM(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const c of t){let m=Kp(c,r.ku(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Lt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return NI(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ri.fromDate(t);return{timestampValue:Mc(r.O,o)}}if(t instanceof ri){const o=new ri(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mc(r.O,o)}}if(t instanceof xb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wl)return{bytesValue:vE(r.O,t._byteString)};if(t instanceof kn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.Ou(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${Sb(t)}`)}(n,e)}function SM(n,e){const t={};return _p(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(n,(r,o)=>{const u=Kp(o,e.Du(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function MM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ri||n instanceof xb||n instanceof wl||n instanceof kn||n instanceof zp)}function cA(n,e,t){if(!MM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sb(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function dA(n,e,t){if((e=(0,Lt.m9)(e))instanceof jc)return e._internalPath;if("string"==typeof e)return Rb(n,e);throw Pb("Field path arguments must be of type string or ",n,!1,void 0,t)}const JN=new RegExp("[~\\*/\\[\\]]");function Rb(n,e,t){if(e.search(JN)>=0)throw Pb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jc(...e.split("."))._internalPath}catch(r){throw Pb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pb(n,e,t,r,o){const u=r&&!r.isEmpty(),c=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||c)&&(v+=" (found",u&&(v+=` in field ${r}`),c&&(v+=` in document ${o}`),v+=")"),new Me(ue.INVALID_ARGUMENT,m+n+v)}function xM(n,e){return n.some(t=>t.isEqual(e))}class a0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XN extends a0{data(){return super.data()}}function kb(n,e){return"string"==typeof e?Rb(n,e):e instanceof jc?e._internalPath:e._delegate._internalPath}class Zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hc extends a0{constructor(e,t,r,o,u,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new u0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class u0 extends Hc{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new u0(this._firestore,this._userDataWriter,r.key,r,new Zp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new u0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||3!==c.type).map(c=>{const m=new u0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,b=-1;return 0!==c.type&&(v=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:eR(c.type),doc:m,oldIndex:v,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function OM(n,e){return n instanceof Hc&&e instanceof Hc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&EM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function NM(n){if(rE(n)&&0===n.explicitOrderBy.length)throw new Me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l0{}function Gh(n,...e){for(const t of e)n=t._apply(n);return n}class tR extends l0{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=Wp(e.firestore),r=function(o,u,c,m,v,b,S){let O;if(v.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){VM(S,b);const $=[];for(const Z of S)$.push(LM(m,o,Z));O={arrayValue:{values:$}}}else O=LM(m,o,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||VM(S,b),O=AM(c,"where",S,"in"===b||"not-in"===b);const L=Ci.create(v,b,O);return function($,Z){if(Z.S()){const Re=iE($);if(null!==Re&&!Re.isEqual(Z.field))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${Z.field.toString()}'`);const st=zm($);null!==st&&UM(0,Z.field,st)}const Ee=function(Re,st){for(const _t of Re.filters)if(st.indexOf(_t.op)>=0)return _t.op;return null}($,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==Ee)throw new Me(ue.INVALID_ARGUMENT,Ee===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${Ee.toString()}' filters.`)}(o,L),L}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new ts(e.firestore,e.converter,function(o,u){const c=o.filters.concat([u]);return new Eu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),c,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class rR extends l0{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ic(o,u);return function(m,v){if(null===zm(m)){const b=iE(m);null!==b&&UM(0,b,v.field)}}(r,c),c}(e._query,this.Uu,this.Gu);return new ts(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Eu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class RM extends l0{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new ts(e.firestore,e.converter,oE(e._query,this.ju,this.Qu))}}class PM extends l0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=FM(e,this.type,this.Wu,this.zu);return new ts(e.firestore,e.converter,(o=t,new Eu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class kM extends l0{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=FM(e,this.type,this.Wu,this.zu);return new ts(e.firestore,e.converter,(o=t,new Eu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function FM(n,e,t,r){if(t[0]=(0,Lt.m9)(t[0]),t[0]instanceof a0)return function(o,u,c,m,v){if(!m)throw new Me(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const S of wh(o))if(S.field.isKeyField())b.push(Vm(u,m.key));else{const O=m.data.field(S.field);if(Xv(O))throw new Me(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const L=S.field.canonicalString();throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(O)}return new vh(b,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Wp(n.firestore);return function(u,c,m,v,b,S){const O=u.explicitOrderBy;if(b.length>O.length)throw new Me(ue.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let $=0;$<b.length;$++){const Z=b[$];if(O[$].field.isKeyField()){if("string"!=typeof Z)throw new Me(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Z}`);if(!sE(u)&&-1!==Z.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Z}' contains a slash.`);const Ee=u.path.child(Yt.fromString(Z));if(!Ke.isDocumentKey(Ee))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Ee}' is not because it contains an odd number of segments.`);const Re=new Ke(Ee);L.push(Vm(c,Re))}else{const Ee=AM(m,v,Z);L.push(Ee)}}return new vh(L,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function LM(n,e,t){if("string"==typeof(t=(0,Lt.m9)(t))){if(""===t)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sE(e)&&-1!==t.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Yt.fromString(t));if(!Ke.isDocumentKey(r))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vm(n,new Ke(r))}if(t instanceof kn)return Vm(n,t._key);throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sb(t)}.`)}function VM(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function UM(n,e,t){if(!t.isEqual(e))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hA{convertValue(e,t="none"){switch(wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return al(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new xb(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ep(e));default:return null}}convertTimestamp(e){const t=ul(e);return new ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);wt(JI(r));const o=new Ec(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return o.isEqual(t)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Fb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class dR extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}class BM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wp(e)}set(e,t,r){this._verifyNotCommitted();const o=qh(e,this._firestore),u=Fb(o.converter,t,r),c=Nb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(c.toMutation(o._key,rr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=qh(e,this._firestore);let c;return c="string"==typeof(t=(0,Lt.m9)(t))||t instanceof jc?lA(this._dataReader,"WriteBatch.update",u._key,t,r,o):uA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qh(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(t._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qh(n,e){if((n=(0,Lt.m9)(n)).firestore!==e)throw new Me(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yp extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function jM(n,e,t){n=Gt(n,kn);const r=Gt(n.firestore,Wn),o=Fb(n.converter,e,t);return Ry(r,[Nb(Wp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,rr.none())])}function HM(n,e,t,...r){n=Gt(n,kn);const o=Gt(n.firestore,Wn),u=Wp(o);let c;return c="string"==typeof(e=(0,Lt.m9)(e))||e instanceof jc?lA(u,"updateDoc",n._key,e,t,r):uA(u,"updateDoc",n._key,e),Ry(o,[c.toMutation(n._key,rr.exists(!0))])}function $M(n,...e){var t,r,o;n=(0,Lt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||oA(e[c])||(u=e[c],c++);const m={includeMetadataChanges:u.includeMetadataChanges};if(oA(e[c])){const O=e[c];e[c]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[c+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[c+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let v,b,S;if(n instanceof kn)b=Gt(n.firestore,Wn),S=ya(n._key.path),v={next:O=>{e[c]&&e[c](fA(b,n,O))},error:e[c+1],complete:e[c+2]};else{const O=Gt(n,ts);b=Gt(O.firestore,Wn),S=O._query;const L=new Yp(b);v={next:$=>{e[c]&&e[c](new $h(b,L,O,$))},error:e[c+1],complete:e[c+2]},NM(n._query)}return function(O,L,$,Z){const Ee=new Cb(Z),Re=new DC(L,Ee,$);return O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return vC(yield Ny(O),Re)})),()=>{Ee.Jc(),O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return wC(yield Ny(O),Re)}))}}(jr(b),S,m,v)}function Ry(n,e){return function(t,r){const o=new Dr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function iN(n,e,t){return MC.apply(this,arguments)}(yield rA(t),r,o)})),o.promise}(jr(n),e)}function fA(n,e,t){const r=t.docs.get(e._key),o=new Yp(n);return new Hc(n,o,e._key,r,new Zp(t.hasPendingWrites,t.fromCache),e.converter)}class wR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wp(e)}get(e){const t=qh(e,this._firestore),r=new dR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const u=o[0];if(u.isFoundDocument())return new a0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new a0(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=qh(e,this._firestore),u=Fb(o.converter,t,r),c=Nb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,c),this}update(e,t,r,...o){const u=qh(e,this._firestore);let c;return c="string"==typeof(t=(0,Lt.m9)(t))||t instanceof jc?lA(this._dataReader,"Transaction.update",u._key,t,r,o):uA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=qh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qh(e,this._firestore),r=new Yp(this._firestore);return super.get(e).then(o=>new Hc(this._firestore,r,t._key,o._document,new Zp(!1,!1),t.converter))}}function pA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function qM(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function zM(){if(!function TT(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){dh=uc.SDK_VERSION,(0,uc._registerComponent)(new rm.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Wn(o,new yp(t.getProvider("auth-internal")),new yI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,uc.registerVersion)(Zv,"3.4.5",n),(0,uc.registerVersion)(Zv,"3.4.5","esm2017")}();class c0{constructor(e){this._delegate=e}static fromBase64String(e){return zM(),new c0(wl.fromBase64String(e))}static fromUint8Array(e){return qM(),new c0(wl.fromUint8Array(e))}toBase64(){return zM(),this._delegate.toBase64()}toUint8Array(){return qM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gA(n){return function xR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class OR{enableIndexedDbPersistence(e,t){return function VN(n,e){bM(n=Gt(n,Wn));const t=jr(n),r=n._freezeSettings(),o=new YC;return IM(t,o,new iM(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UN(n){bM(n=Gt(n,Wn));const e=jr(n),t=n._freezeSettings(),r=new YC;return IM(e,r,new EN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BN(n){if(n._initialized&&!n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(r){if(!Vo.Vt())return Promise.resolve();const o=r+"main";yield Vo.delete(o)}),function(r){return t.apply(this,arguments)})(qE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class WM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ec||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function RN(n,e,t,r={}){var o;const u=(n=Gt(n,s0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,m;if("string"==typeof r.mockUserToken)c=r.mockUserToken,m=ni.MOCK_USER;else{c=(0,Lt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ni(v)}n._authCredentials=new mp(new Qv(c,m))}}(this._delegate,e,t,r)}enableNetwork(){return function HN(n){return function TN(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield uM(n),t=yield lM(n);return e.setNetworkEnabled(!0),function(r){const o=Ge(r);return o.Ko.delete(0),w(o)}(t)}))}(jr(n=Gt(n,Wn)))}(this._delegate)}disableNetwork(){return function $N(n){return function CN(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield uM(n),t=yield lM(n);return e.setNetworkEnabled(!1),(r=(0,Ie.Z)(function*(o){const u=Ge(o);u.Ko.add(0),yield C(u),u.Qo.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(jr(n=Gt(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,fM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jN(n){return function(e){const t=new Dr;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function uN(n,e){return PC.apply(this,arguments)}(yield rA(e),t)})),t.promise}(jr(n=Gt(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function ER(n,e){return function MN(n,e){const t=new Cb(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield Ny(n),o=t,Ge(r).Zo.add(o),void o.next();var r,o})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return r=yield Ny(n),o=t,void Ge(r).Zo.delete(o);var r,o}))}}(jr(n=Gt(n,Wn)),oA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Py(this,_M(this._delegate,e))}catch(t){throw As(t,"collection()","Firestore.collection()")}}doc(e){try{return new ba(this,Mb(this._delegate,e))}catch(t){throw As(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ss(this,function PN(n,e){if(n=Gt(n,s0),sA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new Eu(Yt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw As(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IR(n,e){return function xN(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const r=yield(o=n,Ab(o).then(u=>u.datastore));var o;new bN(n.asyncQueue,r,e,t).run()})),t.promise}(jr(n=Gt(n,Wn)),t=>e(new wR(n,t)))}(this._delegate,t=>e(new KM(this,t)))}batch(){return jr(this._delegate),new ZM(new BM(this._delegate,e=>Ry(this._delegate,e)))}loadBundle(e){return function GN(n,e){const t=jr(n=Gt(n,Wn)),r=new FN;return function ON(n,e,t,r){const o=function(u,c){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,b){if(v instanceof Uint8Array)return sM(v,b);if(v instanceof ArrayBuffer)return sM(new Uint8Array(v),b);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new wN(v,c);var v}(t,Dy(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function vN(n,e,t){const r=Ge(n);var o;(o=(0,Ie.Z)(function*(u,c,m){try{const v=yield c.getMetadata();if(yield function(L,$){const Z=Ge(L),Ee=hr($.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Re=>Z.Kn.getBundleMetadata(Re,$.id)).then(Re=>!!Re&&Re.createTime.compareTo(Ee)>=0)}(u.localStore,v))return yield c.close(),void m._completeWith((L=v,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));m._updateProgress(KS(v));const b=new JO(v,u.localStore,c.O);let S=yield c.Kc();for(;S;){const L=yield b.lc(S);L&&m._updateProgress(L),S=yield c.Kc()}const O=yield b.complete();yield Bc(u,O.ws,void 0),yield function(L,$){const Z=Ge(L);return Z.persistence.runTransaction("Save bundle","readwrite",Ee=>Z.Kn.saveBundleMetadata(Ee,$))}(u.localStore,v),m._completeWith(O.progress)}catch(v){gp("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v)}var L}),function(u,c,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield rA(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function qN(n,e){return function NN(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,r){const o=Ge(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Kn.getNamedQuery(u,r))}(yield nA(n),e)}))}(jr(n=Gt(n,Wn)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ss(this,t):null)}}class Lb extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new c0(new wl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ba.forKey(t,this.firestore,null)}}class KM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lb(e)}get(e){const t=Jp(e);return this._delegate.get(t).then(r=>new d0(this._firestore,new Hc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Jp(e);return r?(pA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Jp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}}class ZM{constructor(e){this._delegate=e}set(e,t,r){const o=Jp(e);return r?(pA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Jp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new u0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new h0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Qp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Qp(e,new Lb(e),t),o.set(t,u)),u}}Qp.INSTANCES=new WeakMap;class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ba(t,new kn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new ba(t,new kn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Py(this.firestore,_M(this._delegate,e))}catch(t){throw As(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Lt.m9)(e))instanceof kn&&vM(this._delegate,e)}set(e,t){t=pA("DocumentReference.set",t);try{return t?jM(this._delegate,e,t):jM(this._delegate,e)}catch(r){throw As(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?HM(this._delegate,e):HM(this._delegate,e,t,...r)}catch(o){throw As(o,"updateDoc()","DocumentReference.update()")}}delete(){return function _R(n){return Ry(Gt(n.firestore,Wn),[new Ah(n._key,rr.none())])}(this._delegate)}onSnapshot(...e){const t=YM(e),r=QM(e,o=>new d0(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return $M(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function fR(n){n=Gt(n,kn);const e=Gt(n.firestore,Wn),t=jr(e),r=new Yp(e);return function AN(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(o,u,c){try{const m=yield function(v,b){const S=Ge(v);return S.persistence.runTransaction("read document","readonly",O=>S.Us.ys(O,b))}(o,u);m.isFoundDocument()?c.resolve(m):m.isNoDocument()?c.resolve(null):c.reject(new Me(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Sy(m,`Failed to get document '${u} from cache`);c.reject(v)}}),function(o,u,c){return r.apply(this,arguments)})(yield nA(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Hc(e,r,n._key,o,new Zp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function pR(n){n=Gt(n,kn);const e=Gt(n.firestore,Wn);return cM(jr(e),n._key,{source:"server"}).then(t=>fA(e,n,t))}(this._delegate):function hR(n){n=Gt(n,kn);const e=Gt(n.firestore,Wn);return cM(jr(e),n._key).then(t=>fA(e,n,t))}(this._delegate),t.then(r=>new d0(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function As(n,e,t){return n.message=n.message.replace(e,t),n}function YM(n){for(const e of n)if("object"==typeof e&&!gA(e))return e;return{}}function QM(n,e){var t,r;let o;return o=gA(n[0])?n[0]:gA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class d0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return OM(this._delegate,e._delegate)}}class h0 extends d0{data(e){const t=this._delegate.data(e);return function yT(n,e){n||Xe()}(void 0!==t),t}}class Ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lb(e)}where(e,t,r){try{return new Ss(this.firestore,Gh(this._delegate,function nR(n,e,t){const r=e,o=kb("where",n);return new tR(o,r,t)}(e,t,r)))}catch(o){throw As(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ss(this.firestore,Gh(this._delegate,function iR(n,e="asc"){const t=e,r=kb("orderBy",n);return new rR(r,t)}(e,t)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ss(this.firestore,Gh(this._delegate,function sR(n){return mM("limit",n),new RM("limit",n,"F")}(e)))}catch(t){throw As(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ss(this.firestore,Gh(this._delegate,function oR(n){return mM("limitToLast",n),new RM("limitToLast",n,"L")}(e)))}catch(t){throw As(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ss(this.firestore,Gh(this._delegate,function aR(...n){return new PM("startAt",n,!0)}(...e)))}catch(t){throw As(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ss(this.firestore,Gh(this._delegate,function uR(...n){return new PM("startAfter",n,!1)}(...e)))}catch(t){throw As(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ss(this.firestore,Gh(this._delegate,function lR(...n){return new kM("endBefore",n,!1)}(...e)))}catch(t){throw As(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ss(this.firestore,Gh(this._delegate,function cR(...n){return new kM("endAt",n,!0)}(...e)))}catch(t){throw As(t,"endAt()","Query.endAt()")}}isEqual(e){return EM(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function mR(n){n=Gt(n,ts);const e=Gt(n.firestore,Wn),t=jr(e),r=new Yp(e);return function SN(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(o,u,c){try{const m=yield jp(o,u,!0),v=new QS(u,m.Ks),b=v.Ic(m.documents),S=v.applyChanges(b,!1);c.resolve(S.snapshot)}catch(m){const v=Sy(m,`Failed to execute query '${u} against cache`);c.reject(v)}}),function(o,u,c){return r.apply(this,arguments)})(yield nA(n),e,t);var r})),t.promise}(t,n._query).then(o=>new $h(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function yR(n){n=Gt(n,ts);const e=Gt(n.firestore,Wn),t=jr(e),r=new Yp(e);return dM(t,n._query,{source:"server"}).then(o=>new $h(e,r,n,o))}(this._delegate):function gR(n){n=Gt(n,ts);const e=Gt(n.firestore,Wn),t=jr(e),r=new Yp(e);return NM(n._query),dM(t,n._query).then(o=>new $h(e,r,n,o))}(this._delegate),t.then(r=>new mA(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=YM(e),r=QM(e,o=>new mA(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return $M(this._delegate,t,r)}withConverter(e){return new Ss(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}class RR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new h0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new h0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new RR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new h0(this._firestore,r))})}isEqual(e){return OM(this._delegate,e._delegate)}}class Py extends Ss{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ba(this.firestore,e):null}doc(e){try{return new ba(this.firestore,void 0===e?Mb(this._delegate):Mb(this._delegate,e))}catch(t){throw As(t,"doc()","CollectionReference.doc()")}}add(e){return function vR(n,e){const t=Gt(n.firestore,Wn),r=Mb(n),o=Fb(n.converter,e);return Ry(t,[Nb(Wp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ba(this.firestore,t))}isEqual(e){return vM(this._delegate,e._delegate)}withConverter(e){return new Py(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function Jp(n){return Gt(n,kn)}class yA{constructor(...e){this._delegate=new jc(...e)}static documentId(){return new yA(qn.keyField().canonicalString())}isEqual(e){return(e=(0,Lt.m9)(e))instanceof jc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DR(){return new aA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xp(e)}static delete(){const e=function bR(){return new o0("deleteField")}();return e._methodName="FieldValue.delete",new Xp(e)}static arrayUnion(...e){const t=function TR(...n){return new ZN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xp(t)}static arrayRemove(...e){const t=function CR(...n){return new YN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xp(t)}static increment(e){const t=function AR(n){return new QN("increment",n)}(e);return t._methodName="FieldValue.increment",new Xp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const PR={Firestore:WM,GeoPoint:xb,Timestamp:ri,Blob:c0,Transaction:KM,WriteBatch:ZM,DocumentReference:ba,DocumentSnapshot:d0,Query:Ss,QueryDocumentSnapshot:h0,QuerySnapshot:mA,CollectionReference:Py,FieldPath:yA,FieldValue:Xp,setLogLevel:function NR(n){!function gI(n){vu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function FR(n){(function kR(n,e){n.INTERNAL.registerComponent(new rm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},PR)))})(n,(e,t)=>new WM(e,t,new OR)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(WD.Z);var LR=P(6451),Vb=P(5363),VR=P(6063);class UR extends Xn.x{constructor(e=1/0,t=1/0,r=VR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!o&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const c=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=c;v+=2)m=v;m&&r.splice(0,m+1)}}}var BR=P(3099);function JM(n,e,t){var r,o;let u,c=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,c=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,BR.B)({connector:()=>new UR(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function XM(n,e){return(0,bo.m)(e)?$n(()=>n,e):$n(()=>n)}var _A=P(9468);P(5867);const tx=new Map,qR={activated:!1,tokenObservers:[]},zR={initialized:!1,enabled:!1};function xi(n){return tx.get(n)||qR}function Iu(n,e){tx.set(n,e)}function Bb(){return zR}class QR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Lt.BH,yield function JR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Lt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ms=new Lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rx(n){if(!xi(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function IA(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Ie.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let c,m;try{c=yield fetch(n,u)}catch(O){throw Ms.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==c.status)throw Ms.create("fetch-status-error",{httpStatus:c.status});try{m=yield c.json()}catch(O){throw Ms.create("fetch-parse-error",{originalErrorMessage:O.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(v[1]),S=Date.now();return{token:m.attestationToken,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),bA.apply(this,arguments)}function rP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const f0="firebase-app-check-store";let $b=null;function sx(){return $b||($b=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Ms.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(f0,{keyPath:"compositeKey"})}}catch(t){e(Ms.create("storage-open",{originalErrorMessage:t.message}))}}),$b)}function DA(){return DA=(0,Ie.Z)(function*(n,e){const r=(yield sx()).transaction(f0,"readwrite"),u=r.objectStore(f0).put({compositeKey:n,value:e});return new Promise((c,m)=>{u.onsuccess=v=>{c()},r.onerror=v=>{var b;m(Ms.create("storage-set",{originalErrorMessage:null===(b=v.target.error)||void 0===b?void 0:b.message}))}})}),DA.apply(this,arguments)}const p0=new fu.Yd("@firebase/app-check");function lx(n,e){return(0,Lt.hl)()?function aP(n,e){return function ox(n,e){return DA.apply(this,arguments)}(function ux(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{p0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cx(){return Bb().enabled}function dx(){return SA.apply(this,arguments)}function SA(){return SA=(0,Ie.Z)(function*(){const n=Bb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SA.apply(this,arguments)}const fP={error:"UNKNOWN_ERROR"};function pP(n){return Lt.US.encodeString(JSON.stringify(n),!1)}function Gb(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Ie.Z)(function*(n,e=!1){const t=n.app;rx(t);const r=xi(t);let u,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&qb(v)&&(o=v)}if(!e&&o&&qb(o))return{token:o.token};let m,c=!1;if(cx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=IA(rP(t,yield dx()),n.platformLoggerProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const v=yield r.exchangeTokenPromise;return yield lx(t,v),Iu(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),c=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?p0.warn(v.message):p0.error(v),u=v}return o?(m={token:o.token},Iu(t,Object.assign(Object.assign({},r),{token:o})),yield lx(t,o)):m=mP(u),c&&fx(t,m),m}),MA.apply(this,arguments)}function OA(n,e){const t=xi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Iu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function hx(n){const{app:e}=n,t=xi(e);let r=t.tokenRefresher;r||(r=function gP(n){const{app:e}=n;return new QR((0,Ie.Z)(function*(){let r;if(r=xi(e).token?yield Gb(n,!0):yield Gb(n),r.error)throw r.error}),()=>!0,()=>{const t=xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Iu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fx(n,e){const t=xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function qb(n){return n.expireTimeMillis-Date.now()>0}function mP(n){return{token:pP(fP),error:n}}class yP{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=xi(this.app);for(const t of e)OA(this.app,t.next);return Promise.resolve()}}const wx="app-check-internal";!function OP(){(0,uc._registerComponent)(new rm.wA("app-check",n=>function _P(n,e){return new yP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wx).initialize()})),(0,uc._registerComponent)(new rm.wA(wx,n=>function vP(n){return{getToken:e=>Gb(n,e),addTokenListener:e=>function xA(n,e,t,r){const{app:o}=n,u=xi(o),c={next:t,error:r,type:e};if(Iu(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&qb(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),hx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>hx(n))}(n,"INTERNAL",e),removeTokenListener:e=>OA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,uc.registerVersion)("@firebase/app-check","0.5.3")}();class kA{constructor(){return(0,Ir.vb)("app-check")}}"undefined"!=typeof window&&window;var FP=P(127);const bx=new f.OlP("angularfire2.auth.use-emulator"),Dx=new f.OlP("angularfire2.auth.settings"),Tx=new f.OlP("angularfire2.auth.tenant-id"),Cx=new f.OlP("angularfire2.auth.langugage-code"),Ax=new f.OlP("angularfire2.auth.use-device-language"),Sx=new f.OlP("angularfire.auth.persistence"),Mx=(n,e,t,r,o,u,c,m)=>(0,ms.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,u&&v.useDeviceLanguage(),c)for(const[b,S]of Object.entries(c))v.settings[b]=S;return m&&v.setPersistence(m),v},[t,r,o,u,c,m]);let xx=(()=>{class n{constructor(t,r,o,u,c,m,v,b,S,O,L,$){const Z=new Xn.x,Ee=it(void 0).pipe((0,Vb.Q)(c.outsideAngular),$n(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3059)))),(0,Ct.U)(()=>(0,ms.on)(t,u,r)),(0,Ct.U)(Re=>Mx(Re,u,m,b,S,O,v,L)),JM({bufferSize:1,refCount:!1}));if(_r(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{Ee.pipe(Do()).subscribe();const st=Ee.pipe($n(ct=>ct.getRedirectResult().then(sn=>sn,()=>null)),Ir.iC,JM({bufferSize:1,refCount:!1})),_t=Ee.pipe($n(ct=>new Hn.y(sn=>({unsubscribe:u.runOutsideAngular(()=>ct.onAuthStateChanged(pr=>sn.next(pr),pr=>sn.error(pr),()=>sn.complete()))})))),Pt=Ee.pipe($n(ct=>new Hn.y(sn=>({unsubscribe:u.runOutsideAngular(()=>ct.onIdTokenChanged(pr=>sn.next(pr),pr=>sn.error(pr),()=>sn.complete()))}))));this.authState=st.pipe(XM(_t),(0,_A.R)(c.outsideAngular),(0,Vb.Q)(c.insideAngular)),this.user=st.pipe(XM(Pt),(0,_A.R)(c.outsideAngular),(0,Vb.Q)(c.insideAngular)),this.idToken=this.user.pipe($n(ct=>ct?(0,cn.D)(ct.getIdToken()):it(null))),this.idTokenResult=this.user.pipe($n(ct=>ct?(0,cn.D)(ct.getIdTokenResult()):it(null))),this.credential=(0,LR.T)(st,Z,this.authState.pipe(er(ct=>!ct))).pipe((0,Ct.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,_A.R)(c.outsideAngular),(0,Vb.Q)(c.insideAngular))}return(0,ms.pX)(this,Ee,u,{spy:{apply:(Re,st,_t)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&_t.then(Pt=>Z.next(Pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ms.Dh),f.LFG(ms.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ir.HU),f.LFG(bx,8),f.LFG(Dx,8),f.LFG(Tx,8),f.LFG(Cx,8),f.LFG(Ax,8),f.LFG(Sx,8),f.LFG(kA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ox(n,e){return function VP(n,e=eo.z){return new Hn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function LA(n,e){return Ox(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function Wb(n,e){return LA(n,e).pipe(_s(void 0),nm(),(0,Ct.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,m)=>{const v=o.find(S=>S.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:c}})}),u}))}function Nx(n,e,t){return Wb(n,t).pipe(fi((r,o)=>function BP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function jP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return VA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return VA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function ww(n,e=na.y){return n=null!=n?n:Iw,(0,Rr.e)((t,r)=>{let o,u=!0;t.subscribe((0,Tn.x)(r,c=>{const m=e(c);(u||!n(o,m))&&(u=!1,o=m,r.next(c))}))})}(),(0,Ct.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function VA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Rx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Px{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Wb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(_s(void 0),nm(),er(([r,o])=>o.length>0||!r),(0,Ct.U)(([r,o])=>o),Ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(fi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Rx(e);return Nx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ir.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Ir.iC)}add(e){return this.ref.add(e)}doc(e){return new kx(this.ref.doc(e),this.afs)}}class kx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Vx(r,t);return new Px(o,u,this.afs)}snapshotChanges(){return function UP(n,e){return Ox(n,e).pipe(_s(void 0),nm(),(0,Ct.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(Ir.iC)}}class HP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Wb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),er(t=>t.length>0),Ir.iC):Wb(this.query,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(fi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Rx(e);return Nx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ir.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Ir.iC)}}const Fx=new f.OlP("angularfire2.enableFirestorePersistence"),Lx=new f.OlP("angularfire2.firestore.persistenceSettings"),$P=new f.OlP("angularfire2.firestore.settings"),GP=new f.OlP("angularfire2.firestore.use-emulator");function Vx(n,e=(t=>t)){return{query:e(n),ref:n}}let Ux=(()=>{class n{constructor(t,r,o,u,c,m,v,b,S,O,L,$,Z,Ee,Re,st,_t){this.schedulers=v;const Pt=(0,ms.on)(t,m,r),ct=S;O&&Mx(Pt,m,L,Z,Ee,Re,$,st),[this.firestore,this.persistenceEnabled$]=(0,ms.cc)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const sn=m.runOutsideAngular(()=>Pt.firestore());if(u&&sn.settings(u),ct&&sn.useEmulator(...ct),o&&!_r(c)){const pr=()=>{try{return(0,cn.D)(sn.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Hr){return"undefined"!=typeof console&&console.warn(Hr),it(!1)}};return[sn,m.runOutsideAngular(pr)]}return[sn,it(!1)]},[u,ct,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=Vx(o,r),m=this.schedulers.ngZone.run(()=>u);return new Px(m,c,this)}collectionGroup(t,r){const o=r||(c=>c),u=this.firestore.collectionGroup(t);return new HP(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new kx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ms.Dh),f.LFG(ms.xv,8),f.LFG(Fx,8),f.LFG($P,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ir.HU),f.LFG(Lx,8),f.LFG(GP,8),f.LFG(xx,8),f.LFG(bx,8),f.LFG(Dx,8),f.LFG(Tx,8),f.LFG(Cx,8),f.LFG(Ax,8),f.LFG(Sx,8),f.LFG(kA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qP=(()=>{class n{constructor(){FP.Z.registerVersion("angularfire",Ir.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Fx,useValue:!0},{provide:Lx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Ux]}),n})(),Bx=(()=>{class n{constructor(t){this.firestore=t}anyadirEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,r){return this.firestore.collection("empleados").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ux))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jx{}const $c="*";function WP(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hx(n,e=null){return{type:4,styles:e,timings:n}}function $x(n,e=null){return{type:2,steps:n,options:e}}function g0(n){return{type:6,styles:n,offset:null}}function UA(n,e,t){return{type:0,name:n,styles:e,options:t}}function Gx(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function qx(n){Promise.resolve(null).then(n)}class m0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zx{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?qx(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,m)=>Math.max(c,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Wx=["toast-component",""];function KP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA()()}}function ZP(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function YP(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,ZP,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function QP(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function JP(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function XP(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}function ek(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA()()}}function tk(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function nk(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,tk,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function rk(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function ik(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function sk(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}class ok{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Kb{constructor(e,t,r,o,u,c){this.toastId=e,this.config=t,this.message=r,this.title=o,this.toastType=u,this.toastRef=c,this._onTap=new Xn.x,this._onAction=new Xn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Kx={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Zx=new f.OlP("ToastConfig");class uk{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Xn.x,this._activate=new Xn.x,this._manualClose=new Xn.x,this._resetTimeout=new Xn.x,this._countDuplicate=new Xn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class lk{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Kb?this._toastPackage:this._parentInjector.get(e,t,r)}}class ck extends class ak{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=r.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class dk{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let hk=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fk=(()=>{class n{constructor(t,r,o,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=o,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new ck(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new dk(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(hk),f.LFG(f._Vd),f.LFG(f.z2F),f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=(()=>{class n{constructor(t,r,o,u,c){this.overlay=r,this._injector=o,this.sanitizer=u,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,o={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(o))}success(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(o))}error(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(o))}info(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(o))}warning(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(o))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",r="",o,u){const{includeTitleDuplicates:c}=this.toastrConfig;for(const m of this.toasts){const v=c&&m.title===t;if((!c||v)&&m.message===r)return m.toastRef.onDuplicate(o,u),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,o,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,o,u)):this._buildNotification(t,r,o,u)}_buildNotification(t,r,o,u){if(!u.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const v=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&u.enableHtml&&(b=this.sanitizer.sanitize(f.q3G.HTML,r));const S=new uk(v),O=new Kb(this.index,u,b,o,t,S),L=new lk(O,this._injector),$=new ok(u.toastComponent,L),Z=v.attach($,this.toastrConfig.newestOnTop);S.componentInstance=Z.instance;const Ee={toastId:this.index,title:o||"",message:r||"",toastRef:S,onShown:S.afterActivate(),onHidden:S.afterClosed(),onTap:O.onTap(),onAction:O.onAction(),portal:Z};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ee.toastRef.activate()})),this.toasts.push(Ee),Ee}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zx),f.LFG(fk),f.LFG(f.zs3),f.LFG(Eo),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pk=(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Zb),f.Y36(Kb),f.Y36(f.R0b))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.d8E("@flyInOut",r.state),f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:Wx,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,KP,3,0,"button",0),f.YNc(1,YP,3,5,"div",1),f.YNc(2,QP,1,3,"div",2),f.YNc(3,JP,2,4,"div",3),f.YNc(4,XP,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[Kn],encapsulation:2,data:{animation:[WP("flyInOut",[UA("inactive",g0({opacity:0})),UA("active",g0({opacity:1})),UA("removed",g0({opacity:0})),Gx("inactive => active",Hx("{{ easeTime }}ms {{ easing }}")),Gx("active => removed",Hx("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const gk=Object.assign(Object.assign({},Kx),{toastComponent:pk});let mk=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Zx,useValue:{default:gk,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Vs]]}),n})(),yk=(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.appRef=o,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Zb),f.Y36(Kb),f.Y36(f.z2F))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:Wx,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,ek,3,0,"button",0),f.YNc(1,nk,3,5,"div",1),f.YNc(2,rk,1,3,"div",2),f.YNc(3,ik,2,4,"div",3),f.YNc(4,sk,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[Kn],encapsulation:2}),n})();function _k(n,e){1&n&&(f.TgZ(0,"div",16)(1,"span",17),f._uU(2,"Loading..."),f.qZA()())}function vk(n,e){1&n&&(f.TgZ(0,"span",18),f._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),f.qZA())}function Ek(n,e){1&n&&(f.TgZ(0,"button",19),f._uU(1,"A\xf1adir"),f.qZA())}function wk(n,e){1&n&&(f.TgZ(0,"button",19),f._uU(1,"Editar"),f.qZA())}Object.assign(Object.assign({},Kx),{toastComponent:yk});let Yx=(()=>{class n{constructor(t,r,o,u,c){this.fb=t,this._empleadoService=r,this.router=o,this.toastr=u,this.aRoute=c,this.submitted=!1,this.loading=!1,this.titulo="A\xf1adir Empleado",this.createEmpleado=this.fb.group({nombre:["",Lf.required],apellido:["",Lf.required],documento:["",Lf.required],salario:["",Lf.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.esEditar()}anyadirEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null==this.id?this.anyadirEmpleado():this.editarEmpleado(this.id))}anyadirEmpleado(){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.anyadirEmpleado(t).then(()=>{this.toastr.success("El empleado fue registrado con \xe9xito","Empleado Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])}).catch(r=>{console.log(r),this.loading=!1})}editarEmpleado(t){const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.actualizarEmpleado(t,r).then(()=>{this.loading=!1,this.toastr.info("El empleado fue modificado con \xe9xito","Empleado modificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}esEditar(){null!==this.id&&(this.titulo="Editar Empleado",this.loading=!0,this._empleadoService.getEmpleado(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(qD),f.Y36(Bx),f.Y36(Ei),f.Y36(Zb),f.Y36(xo))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-create-empleado"]],decls:22,vars:6,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border float-end","role","status",4,"ngIf"],["class","badge badge-danger","style","color: red;",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","text","formControlName","documento","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"class","mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","btn-lg","me-3"],["type","submit","class","btn btn-dark btn-lg",4,"ngIf"],["role","status",1,"spinner-border","float-end"],[1,"visually-hidden"],[1,"badge","badge-danger",2,"color","red"],["type","submit",1,"btn","btn-dark","btn-lg"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),f._uU(6),f.YNc(7,_k,3,0,"div",5),f.qZA(),f.YNc(8,vk,2,0,"span",6),f.TgZ(9,"form",7),f.NdJ("ngSubmit",function(){return r.anyadirEditarEmpleado()}),f.TgZ(10,"div",1)(11,"div",8),f._UZ(12,"input",9),f.qZA(),f.TgZ(13,"div",8),f._UZ(14,"input",10),f.qZA()(),f._UZ(15,"input",11)(16,"input",12),f.TgZ(17,"div",13)(18,"button",14),f._uU(19,"Volver"),f.qZA(),f.YNc(20,Ek,2,0,"button",15),f.YNc(21,wk,2,0,"button",15),f.qZA()()()()()()()),2&t&&(f.xp6(6),f.hij("",r.titulo," "),f.xp6(1),f.Q6J("ngIf",r.loading),f.xp6(1),f.Q6J("ngIf",r.submitted&&r.createEmpleado.invalid),f.xp6(1),f.Q6J("formGroup",r.createEmpleado),f.xp6(11),f.Q6J("ngIf",null==r.id),f.xp6(1),f.Q6J("ngIf",null!==r.id))},directives:[Kn,H_,q0,Jg,Vg,G0,qf,$_,kf],styles:[""]}),n})();function Ik(n,e){1&n&&(f.TgZ(0,"h5",7),f._uU(1,"No hay datos para mostrar"),f.qZA())}const bk=function(n){return["/editEmpleado/",n]};function Dk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td"),f._uU(8),f.ALo(9,"currency"),f.qZA(),f.TgZ(10,"td"),f._UZ(11,"i",10),f.qZA(),f.TgZ(12,"td")(13,"i",11),f.NdJ("click",function(){const u=f.CHM(t).$implicit;return f.oxw(2).eliminarEmpleado(u.id)}),f.qZA()()()}if(2&n){const t=e.$implicit;f.xp6(2),f.Oqu(t.nombre),f.xp6(2),f.Oqu(t.apellido),f.xp6(2),f.Oqu(t.documento),f.xp6(2),f.Oqu(f.Dn7(9,5,t.salario,"EUR","symbol")),f.xp6(3),f.Q6J("routerLink",f.VKq(9,bk,t.id))}}function Tk(n,e){if(1&n&&(f.TgZ(0,"table",8)(1,"thead")(2,"tr")(3,"th"),f._uU(4,"Nombre"),f.qZA(),f.TgZ(5,"th"),f._uU(6,"Apellido"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"Documento"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Salario"),f.qZA(),f._UZ(11,"th"),f.qZA()(),f.TgZ(12,"tbody"),f.YNc(13,Dk,14,11,"tr",9),f.qZA()()),2&n){const t=f.oxw();f.xp6(13),f.Q6J("ngForOf",t.empleados)}}const Ck=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class n{constructor(t,r){this._empleadoService=t,this.toastr=r,this.empleados=[]}ngOnInit(){this.getEmpelados()}getEmpelados(){this._empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(r=>{this.empleados.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}eliminarEmpleado(t){this._empleadoService.eliminarEmpleado(t).then(()=>{this.toastr.error("El empleado fue elimiando con \xe9xito.","Registro eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Bx),f.Y36(Zb))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-empleado",1,"btn","btn-dark","btn-lg","float-end"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-striped mt-5",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-striped","mt-5"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-lg","fa-pen-to-square","text-info",3,"routerLink"],[1,"fa-solid","fa-lg","fa-trash","text-danger",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),f._uU(4,"Lista de Empleados"),f.qZA(),f.TgZ(5,"button",4),f._uU(6,"A\xf1adir"),f.qZA(),f.YNc(7,Ik,2,0,"h5",5),f.YNc(8,Tk,14,1,"table",6),f.qZA()()()),2&t&&(f.xp6(7),f.Q6J("ngIf",0==r.empleados.length),f.xp6(1),f.Q6J("ngIf",r.empleados.length>0))},directives:[kf,Kn,xn],pipes:[Ls],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})()},{path:"create-empleado",component:Yx},{path:"editEmpleado/:id",component:Yx},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let Ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ff.forRoot(Ck)],Ff]}),n})();const $t=!1;function Qx(n){return new f.vHH(3e3,$t)}function u1(){return"undefined"!=typeof window&&void 0!==window.document}function jA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zh(n){switch(n.length){case 0:return new m0;case 1:return n[0];default:return new zx(n)}}function Jx(n,e,t,r,o={},u={}){const c=[],m=[];let v=-1,b=null;if(r.forEach(S=>{const O=S.offset,L=O==v,$=L&&b||{};Object.keys(S).forEach(Z=>{let Ee=Z,Re=S[Z];if("offset"!==Z)switch(Ee=e.normalizePropertyName(Ee,c),Re){case"!":Re=o[Z];break;case $c:Re=u[Z];break;default:Re=e.normalizeStyleValue(Z,Ee,Re,c)}$[Ee]=Re}),L||m.push($),b=$,v=O}),c.length)throw function Qk(n){return new f.vHH(3502,$t)}();return m}function HA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&$A(t,"start",n)));break;case"done":n.onDone(()=>r(t&&$A(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&$A(t,"destroy",n)))}}function $A(n,e,t){const r=t.totalTime,u=GA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function GA(n,e,t,r,o="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!c}}function Uo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Xx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let qA=(n,e)=>!1,eO=(n,e,t)=>[];(jA()||"undefined"!=typeof Element)&&(qA=u1()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),eO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let eg=null,tO=!1;function nO(n){eg||(eg=function c1(){return"undefined"!=typeof document?document.body:null}()||{},tO=!!eg.style&&"WebkitAppearance"in eg.style);let e=!0;return eg.style&&!function l1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in eg.style,!e&&tO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in eg.style)),e}const rO=qA,iO=eO;let sO=(()=>{class n{validateStyleProperty(t){return nO(t)}matchesElement(t,r){return!1}containsElement(t,r){return rO(t,r)}query(t,r,o){return iO(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,c,m=[],v){return new m0(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),zA=(()=>{class n{}return n.NOOP=new sO,n})();const WA="ng-enter",Qb="ng-leave",Jb="ng-trigger",Xb=".ng-trigger",aO="ng-animating",KA=".ng-animating";function tg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ZA(parseFloat(e[1]),e[2])}function ZA(n,e){return"s"===e?1e3*n:n}function eD(n,e,t){return n.hasOwnProperty("duration")?n:function f1(n,e,t){let o,u=0,c="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(Qx()),{duration:0,delay:0,easing:""};o=ZA(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(u=ZA(parseFloat(v),m[4]));const b=m[5];b&&(c=b)}else o=n;if(!t){let m=!1,v=e.length;o<0&&(e.push(function Sk(){return new f.vHH(3100,$t)}()),m=!0),u<0&&(e.push(function Mk(){return new f.vHH(3101,$t)}()),m=!0),m&&e.splice(v,0,Qx())}return{duration:o,delay:u,easing:c}}(n,e,t)}function ky(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Wh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ky(n,t);return t}function lO(n,e,t){return t?e+":"+t+";":""}function cO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=lO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=lO(0,m1(t),n.style[t]));n.setAttribute("style",e)}function Il(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=QA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),jA()&&cO(n))}function ng(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=QA(t);n.style[r]=""}),jA()&&cO(n))}function y0(n){return Array.isArray(n)?1==n.length?n[0]:$x(n):n}const YA=new RegExp("{{\\s*(.+?)\\s*}}","g");function dO(n){let e=[];if("string"==typeof n){let t;for(;t=YA.exec(n);)e.push(t[1]);YA.lastIndex=0}return e}function tD(n,e,t){const r=n.toString(),o=r.replace(YA,(u,c)=>{let m=e[c];return e.hasOwnProperty(c)||(t.push(function Ok(n){return new f.vHH(3003,$t)}()),m=""),m.toString()});return o==r?n:o}function nD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const g1=/-+([a-z0-9])/g;function QA(n){return n.replace(g1,(...e)=>e[1].toUpperCase())}function m1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Nk(n){return new f.vHH(3004,$t)}()}}function hO(n,e){return window.getComputedStyle(n)[e]}function v1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function E1(n,e,t){if(":"==n[0]){const v=function w1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Wk(n){return new f.vHH(3016,$t)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function zk(n){return new f.vHH(3015,$t)}()),e;const o=r[1],u=r[2],c=r[3];e.push(fO(o,c));"<"==u[0]&&!("*"==o&&"*"==c)&&e.push(fO(c,o))}(r,t,e)):t.push(n),t}const iD=new Set(["true","1"]),sD=new Set(["false","0"]);function fO(n,e){const t=iD.has(n)||sD.has(n),r=iD.has(e)||sD.has(e);return(o,u)=>{let c="*"==n||n==o,m="*"==e||e==u;return!c&&t&&"boolean"==typeof o&&(c=o?iD.has(n):sD.has(n)),!m&&r&&"boolean"==typeof u&&(m=u?iD.has(e):sD.has(e)),c&&m}}const I1=new RegExp("s*:selfs*,?","g");function JA(n,e,t){return new b1(n).build(e,t)}class b1{constructor(e){this._driver=e}build(e,t){const r=new C1(t);return this._resetContextStyleTimingState(r),Bo(this,y0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Pk(){return new f.vHH(3006,$t)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const v=m,b=v.name;b.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,u.push(this.visitState(v,t))}),v.name=b}else if(1==m.type){const v=this.visitTransition(m,t);r+=v.queryCount,o+=v.depCount,c.push(v)}else t.errors.push(function kk(){return new f.vHH(3007,$t)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=o||{};r.styles.forEach(m=>{if(oD(m)){const v=m;Object.keys(v).forEach(b=>{dO(v[b]).forEach(S=>{c.hasOwnProperty(S)||u.add(S)})})}}),u.size&&(nD(u.values()),t.errors.push(function Fk(n,e){return new f.vHH(3008,$t)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Bo(this,y0(e.animation),t);return{type:1,matchers:v1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Bo(this,r,t)),options:rg(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(c=>{t.currentTime=r;const m=Bo(this,c,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:u,options:rg(e.options)}}visitAnimate(e,t){const r=function S1(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return XA(eD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=XA(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||eD(r,e),XA(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:g0({});if(5==u.type)o=this.visitKeyframes(u,t);else{let c=e.styles,m=!1;if(!c){m=!0;const b={};r.easing&&(b.easing=r.easing),c=g0(b)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(c,t);v.isEmptyStep=m,o=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==$c?r.push(c):t.errors.push(function Lk(n){return new f.vHH(3002,$t)}()):r.push(c)}):r.push(e.styles);let o=!1,u=null;return r.forEach(c=>{if(oD(c)){const m=c,v=m.easing;if(v&&(u=v,delete m.easing),!o)for(let b in m)if(m[b].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(function Vk(n){return new f.vHH(3009,$t)}());const v=t.collectedStyles[t.currentQuerySelector],b=v[m];let S=!0;b&&(u!=o&&u>=b.startTime&&o<=b.endTime&&(t.errors.push(function Uk(n,e,t,r,o){return new f.vHH(3010,$t)}()),S=!1),u=b.startTime),S&&(v[m]={startTime:u,endTime:o}),t.options&&function p1(n,e,t){const r=e.params||{},o=dO(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(function xk(n){return new f.vHH(3001,$t)}())})}(c[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Bk(){return new f.vHH(3011,$t)}()),r;let u=0;const c=[];let m=!1,v=!1,b=0;const S=e.steps.map(st=>{const _t=this._makeStyleAst(st,t);let Pt=null!=_t.offset?_t.offset:function A1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(oD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(oD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),ct=0;return null!=Pt&&(u++,ct=_t.offset=Pt),v=v||ct<0||ct>1,m=m||ct<b,b=ct,c.push(ct),_t});v&&t.errors.push(function jk(){return new f.vHH(3012,$t)}()),m&&t.errors.push(function Hk(){return new f.vHH(3200,$t)}());const O=e.steps.length;let L=0;u>0&&u<O?t.errors.push(function $k(){return new f.vHH(3202,$t)}()):0==u&&(L=1/(O-1));const $=O-1,Z=t.currentTime,Ee=t.currentAnimateTimings,Re=Ee.duration;return S.forEach((st,_t)=>{const Pt=L>0?_t==$?1:L*_t:c[_t],ct=Pt*Re;t.currentTime=Z+Ee.delay+ct,Ee.duration=ct,this._validateStyleAst(st,t),st.offset=Pt,r.styles.push(st)}),r}visitReference(e,t){return{type:8,animation:Bo(this,y0(e.animation),t),options:rg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function D1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(I1,"")),n=n.replace(/@\*/g,Xb).replace(/@\w+/g,t=>Xb+"-"+t.substr(1)).replace(/:animating/g,KA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Uo(t.collectedStyles,t.currentQuerySelector,{});const m=Bo(this,y0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:c,animation:m,originalSelector:e.selector,options:rg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Gk(){return new f.vHH(3013,$t)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:eD(e.timings,t.errors,!0);return{type:12,animation:Bo(this,y0(e.animation),t),timings:r,options:null}}}class C1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oD(n){return!Array.isArray(n)&&"object"==typeof n}function rg(n){return n?(n=ky(n)).params&&(n.params=function T1(n){return n?ky(n):null}(n.params)):n={},n}function XA(n,e,t){return{duration:n,delay:e,easing:t}}function eS(n,e,t,r,o,u,c=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:c,subTimeline:m}}class aD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const O1=new RegExp(":enter","g"),R1=new RegExp(":leave","g");function tS(n,e,t,r,o,u={},c={},m,v,b=[]){return(new P1).buildKeyframes(n,e,t,r,o,u,c,m,v,b)}class P1{buildKeyframes(e,t,r,o,u,c,m,v,b,S=[]){b=b||new aD;const O=new nS(e,t,b,o,u,S,[]);O.options=v,O.currentTimeline.setStyles([c],null,O.errors,v),Bo(this,r,O);const L=O.timelines.filter($=>$.containsAnimation());if(Object.keys(m).length){let $;for(let Z=L.length-1;Z>=0;Z--){const Ee=L[Z];if(Ee.element===t){$=Ee;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([m],null,O.errors,v)}return L.length?L.map($=>$.buildKeyframes()):[eS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,o,o.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?tg(r.duration):null,m=null!=r.delay?tg(r.delay):null;return 0!==c&&e.forEach(v=>{const b=t.appendInstructionToTimeline(v,c,m);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Bo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=uD);const c=tg(u.delay);o.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Bo(this,c,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?tg(e.options.delay):0;e.steps.forEach(c=>{const m=t.createSubContext(e.options);u&&m.delayNextStep(u),Bo(this,c,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return eD(t.params?tD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(v=>{m.forwardTime((v.offset||0)*u),m.setStyles(v.styles,v.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?tg(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uD);let c=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let v=null;m.forEach((b,S)=>{t.currentQueryIndex=S;const O=t.createSubContext(e.options,b);u&&O.delayNextStep(u),b===t.element&&(v=O.currentTimeline),Bo(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),m=c*(t.currentQueryTotal-1);let v=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=m-v;break;case"full":v=r.currentStaggerTime}const S=t.currentTimeline;v&&S.delayNextStep(v);const O=S.currentTime;Bo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const uD={};class nS{constructor(e,t,r,o,u,c,m,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=c,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new lD(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=tg(r.duration)),null!=r.delay&&(o.delay=tg(r.delay));const u=r.params;if(u){let c=o.params;c||(c=this.options.params={}),Object.keys(u).forEach(m=>{(!t||!c.hasOwnProperty(m))&&(c[m]=tD(u[m],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new nS(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=uD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new k1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,c){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(O1,"."+this._enterClassName)).replace(R1,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),m.push(...b)}return!u&&0==m.length&&c.push(function qk(n){return new f.vHH(3014,$t)}()),m}}class lD{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||$c,this._currentKeyframe[t]=$c}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const u=o&&o.params||{},c=function F1(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(u=>{t[u]=$c})):Wh(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(m=>{const v=tD(c[m],u,r);this._pendingStyles[m]=v,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:$c),this._updateStyle(m,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,v)=>{const b=Wh(m,!0);Object.keys(b).forEach(S=>{const O=b[S];"!"==O?e.add(S):O==$c&&t.add(S)}),r||(b.offset=v/this.duration),o.push(b)});const u=e.size?nD(e.values()):[],c=t.size?nD(t.values()):[];if(r){const m=o[0],v=ky(m);m.offset=0,v.offset=1,o=[m,v]}return eS(this.element,o,u,c,this.duration,this.startTime,this.easing,!1)}}class k1 extends lD{constructor(e,t,r,o,u,c,m=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,m=t/c,v=Wh(e[0],!1);v.offset=0,u.push(v);const b=Wh(e[0],!1);b.offset=mO(m),u.push(b);const S=e.length-1;for(let O=1;O<=S;O++){let L=Wh(e[O],!1);L.offset=mO((t+L.offset*r)/c),u.push(L)}r=c,t=0,o="",e=u}return eS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function mO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class rS{}class L1 extends rS{normalizePropertyName(e,t){return QA(e)}normalizeStyleValue(e,t,r,o){let u="";const c=r.toString().trim();if(V1[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(function Rk(n,e){return new f.vHH(3005,$t)}())}return c+u}}const V1=(()=>function U1(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yO(n,e,t,r,o,u,c,m,v,b,S,O,L){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:m,queriedElements:v,preStyleProps:b,postStyleProps:S,totalTime:O,errors:L}}const iS={};class _O{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function B1(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],u=this._stateStyles[e],c=o?o.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,o,u,c,m,v,b,S){const O=[],L=this.ast.options&&this.ast.options.params||iS,Z=this.buildStyles(r,m&&m.params||iS,O),Ee=v&&v.params||iS,Re=this.buildStyles(o,Ee,O),st=new Set,_t=new Map,Pt=new Map,ct="void"===o,sn={params:Object.assign(Object.assign({},L),Ee)},pr=S?[]:tS(e,t,this.ast.animation,u,c,Z,Re,sn,b,O);let Hr=0;if(pr.forEach(qc=>{Hr=Math.max(qc.duration+qc.delay,Hr)}),O.length)return yO(t,this._triggerName,r,o,ct,Z,Re,[],[],_t,Pt,Hr,O);pr.forEach(qc=>{const zc=qc.element,kO=Uo(_t,zc,{});qc.preStyleProps.forEach(ig=>kO[ig]=!0);const v0=Uo(Pt,zc,{});qc.postStyleProps.forEach(ig=>v0[ig]=!0),zc!==t&&st.add(zc)});const Gc=nD(st.values());return yO(t,this._triggerName,r,o,ct,Z,Re,pr,Gc,_t,Pt,Hr)}}class j1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=ky(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(o[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(m=>{let v=c[m];v.length>1&&(v=tD(v,o,t));const b=this.normalizer.normalizePropertyName(m,t);v=this.normalizer.normalizeStyleValue(m,b,v,t),r[b]=v})}}),r}}class $1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new j1(o.style,o.options&&o.options.params||{},r)}),vO(this.states,"true","1"),vO(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new _O(e,o,this.states))}),this.fallbackTransition=function G1(n,e,t){return new _O(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(c=>c.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function vO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const q1=new aD;class z1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=JA(this._driver,t,r);if(r.length)throw function Jk(n){return new f.vHH(3503,$t)}();this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,u=Jx(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations[e];let c;const m=new Map;if(u?(c=tS(this._driver,t,u,WA,Qb,{},{},r,q1,o),c.forEach(S=>{const O=Uo(m,S.element,{});S.postStyleProps.forEach(L=>O[L]=null)})):(o.push(function Xk(){return new f.vHH(3300,$t)}()),c=[]),o.length)throw function e1(n){return new f.vHH(3504,$t)}();m.forEach((S,O)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(O,L,$c)})});const b=zh(c.map(S=>{const O=m.get(S.element);return this._buildPlayer(S,{},O)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function t1(n){return new f.vHH(3301,$t)}();return t}listen(e,t,r,o){const u=GA(t,"","","");return HA(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const EO="ng-animate-queued",sS="ng-animate-disabled",Q1=[],wO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Da="__ng_removed";class oS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function nF(n){return null!=n?n:null}(r?e.value:e),r){const u=ky(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const _0="void",aS=new oS(_0);class X1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ta(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw function n1(n,e){return new f.vHH(3302,$t)}();if(null==r||0==r.length)throw function r1(n){return new f.vHH(3303,$t)}();if(!function rF(n){return"start"==n||"done"==n}(r))throw function i1(n,e){return new f.vHH(3400,$t)}();const u=Uo(this._elementListeners,e,[]),c={name:t,phase:r,callback:o};u.push(c);const m=Uo(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Ta(e,Jb),Ta(e,Jb+"-"+t),m[t]=aS),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(c);v>=0&&u.splice(v,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function s1(n){return new f.vHH(3401,$t)}();return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),c=new uS(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Ta(e,Jb),Ta(e,Jb+"-"+t),this._engine.statesByElement.set(e,m={}));let v=m[t];const b=new oS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&b.absorbOptions(v.options),m[t]=b,v||(v=aS),b.value!==_0&&v.value===b.value){if(!function oF(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(v.params,b.params)){const Ee=[],Re=u.matchStyles(v.value,v.params,Ee),st=u.matchStyles(b.value,b.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{ng(e,Re),Il(e,st)})}return}const L=Uo(this._engine.playersByElement,e,[]);L.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==t&&Ee.queued&&Ee.destroy()});let $=u.matchTransition(v.value,b.value,e,b.params),Z=!1;if(!$){if(!o)return;$=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:v,toState:b,player:c,isFallbackTransition:Z}),Z||(Ta(e,EO),c.onStart(()=>{Fy(e,EO)})),c.onDone(()=>{let Ee=this.players.indexOf(c);Ee>=0&&this.players.splice(Ee,1);const Re=this._engine.playersByElement.get(e);if(Re){let st=Re.indexOf(c);st>=0&&Re.splice(st,1)}}),this.players.push(c),L.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Xb,!0);r.forEach(o=>{if(o[Da])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(c=>c.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const m=[];if(Object.keys(u).forEach(v=>{if(c.set(v,u[v].value),this._triggers[v]){const b=this.trigger(e,v,_0,o);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&zh(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const c=u.name;if(o.has(c))return;o.add(c);const v=this._triggers[c].fallbackTransition,b=r[c]||aS,S=new oS(_0),O=new uS(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:v,fromState:b,toState:S,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Da];(!u||u===wO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ta(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(m=>{if(m.name==r.triggerName){const v=GA(u,r.triggerName,r.fromState.value,r.toState.value);v._data=e,HA(r.player,m.phase,v,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,c=o.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class eF{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new X1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const c=r[o[u]].namespaceId;if(c){const m=this._fetchNamespace(c);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(cD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!cD(t))return;const u=t[Da];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ta(e,sS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fy(e,sS))}removeNode(e,t,r,o){if(cD(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o,u){this.collectedLeaveElements.push(t),t[Da]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,o,u){return cD(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Xb,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,KA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Da];if(r&&r.setForRemoval){if(e[Da]=wO,r.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(sS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ta(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?zh(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function o1(n){return new f.vHH(3402,$t)}()}_flushAnimations(e,t){const r=new aD,o=[],u=new Map,c=[],m=new Map,v=new Map,b=new Map,S=new Set;this.disabledNodes.forEach(nt=>{S.add(nt);const gt=this.driver.query(nt,".ng-animate-queued",!0);for(let It=0;It<gt.length;It++)S.add(gt[It])});const O=this.bodyNode,L=Array.from(this.statesByElement.keys()),$=DO(L,this.collectedEnterElements),Z=new Map;let Ee=0;$.forEach((nt,gt)=>{const It=WA+Ee++;Z.set(gt,It),nt.forEach(Xt=>Ta(Xt,It))});const Re=[],st=new Set,_t=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const gt=this.collectedLeaveElements[nt],It=gt[Da];It&&It.setForRemoval&&(Re.push(gt),st.add(gt),It.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Xt=>st.add(Xt)):_t.add(gt))}const Pt=new Map,ct=DO(L,Array.from(st));ct.forEach((nt,gt)=>{const It=Qb+Ee++;Pt.set(gt,It),nt.forEach(Xt=>Ta(Xt,It))}),e.push(()=>{$.forEach((nt,gt)=>{const It=Z.get(gt);nt.forEach(Xt=>Fy(Xt,It))}),ct.forEach((nt,gt)=>{const It=Pt.get(gt);nt.forEach(Xt=>Fy(Xt,It))}),Re.forEach(nt=>{this.processLeaveNode(nt)})});const sn=[],pr=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(It=>{const Xt=It.player,Oi=It.element;if(sn.push(Xt),this.collectedEnterElements.length){const xs=Oi[Da];if(xs&&xs.setForMove){if(xs.previousTriggersValues&&xs.previousTriggersValues.has(It.triggerName)){const sg=xs.previousTriggersValues.get(It.triggerName),Zh=this.statesByElement.get(It.element);Zh&&Zh[It.triggerName]&&(Zh[It.triggerName].value=sg)}return void Xt.destroy()}}const bl=!O||!this.driver.containsElement(O,Oi),jo=Pt.get(Oi),Kh=Z.get(Oi),or=this._buildInstruction(It,r,Kh,jo,bl);if(or.errors&&or.errors.length)return void pr.push(or);if(bl)return Xt.onStart(()=>ng(Oi,or.fromStyles)),Xt.onDestroy(()=>Il(Oi,or.toStyles)),void o.push(Xt);if(It.isFallbackTransition)return Xt.onStart(()=>ng(Oi,or.fromStyles)),Xt.onDestroy(()=>Il(Oi,or.toStyles)),void o.push(Xt);const VO=[];or.timelines.forEach(xs=>{xs.stretchStartingKeyframe=!0,this.disabledNodes.has(xs.element)||VO.push(xs)}),or.timelines=VO,r.append(Oi,or.timelines),c.push({instruction:or,player:Xt,element:Oi}),or.queriedElements.forEach(xs=>Uo(m,xs,[]).push(Xt)),or.preStyleProps.forEach((xs,sg)=>{const Zh=Object.keys(xs);if(Zh.length){let og=v.get(sg);og||v.set(sg,og=new Set),Zh.forEach(cS=>og.add(cS))}}),or.postStyleProps.forEach((xs,sg)=>{const Zh=Object.keys(xs);let og=b.get(sg);og||b.set(sg,og=new Set),Zh.forEach(cS=>og.add(cS))})});if(pr.length){const nt=[];pr.forEach(gt=>{nt.push(function a1(n,e){return new f.vHH(3505,$t)}())}),sn.forEach(gt=>gt.destroy()),this.reportError(nt)}const Hr=new Map,Gc=new Map;c.forEach(nt=>{const gt=nt.element;r.has(gt)&&(Gc.set(gt,gt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Hr))}),o.forEach(nt=>{const gt=nt.element;this._getPreviousPlayers(gt,!1,nt.namespaceId,nt.triggerName,null).forEach(Xt=>{Uo(Hr,gt,[]).push(Xt),Xt.destroy()})});const qc=Re.filter(nt=>CO(nt,v,b)),zc=new Map;bO(zc,this.driver,_t,b,$c).forEach(nt=>{CO(nt,v,b)&&qc.push(nt)});const v0=new Map;$.forEach((nt,gt)=>{bO(v0,this.driver,new Set(nt),v,"!")}),qc.forEach(nt=>{const gt=zc.get(nt),It=v0.get(nt);zc.set(nt,Object.assign(Object.assign({},gt),It))});const ig=[],FO=[],LO={};c.forEach(nt=>{const{element:gt,player:It,instruction:Xt}=nt;if(r.has(gt)){if(S.has(gt))return It.onDestroy(()=>Il(gt,Xt.toStyles)),It.disabled=!0,It.overrideTotalTime(Xt.totalTime),void o.push(It);let Oi=LO;if(Gc.size>1){let jo=gt;const Kh=[];for(;jo=jo.parentNode;){const or=Gc.get(jo);if(or){Oi=or;break}Kh.push(jo)}Kh.forEach(or=>Gc.set(or,Oi))}const bl=this._buildAnimation(It.namespaceId,Xt,Hr,u,v0,zc);if(It.setRealPlayer(bl),Oi===LO)ig.push(It);else{const jo=this.playersByElement.get(Oi);jo&&jo.length&&(It.parentPlayer=zh(jo)),o.push(It)}}else ng(gt,Xt.fromStyles),It.onDestroy(()=>Il(gt,Xt.toStyles)),FO.push(It),S.has(gt)&&o.push(It)}),FO.forEach(nt=>{const gt=u.get(nt.element);if(gt&&gt.length){const It=zh(gt);nt.setRealPlayer(It)}}),o.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<Re.length;nt++){const gt=Re[nt],It=gt[Da];if(Fy(gt,Qb),It&&It.hasAnimation)continue;let Xt=[];if(m.size){let bl=m.get(gt);bl&&bl.length&&Xt.push(...bl);let jo=this.driver.query(gt,KA,!0);for(let Kh=0;Kh<jo.length;Kh++){let or=m.get(jo[Kh]);or&&or.length&&Xt.push(...or)}}const Oi=Xt.filter(bl=>!bl.destroyed);Oi.length?iF(this,gt,Oi):this.processLeaveNode(gt)}return Re.length=0,ig.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const gt=this.players.indexOf(nt);this.players.splice(gt,1)}),nt.play()}),ig}elementContainsData(e,t){let r=!1;const o=t[Da];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let c=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(c=m)}else{const m=this.playersByElement.get(e);if(m){const v=!u||u==_0;m.forEach(b=>{b.queued||!v&&b.triggerName!=o||c.push(b)})}}return(r||o)&&(c=c.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const b=v.element,S=b!==u,O=Uo(r,b,[]);this._getPreviousPlayers(b,S,c,m,t.toState).forEach($=>{const Z=$.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),$.destroy(),O.push($)})}ng(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,c){const m=t.triggerName,v=t.element,b=[],S=new Set,O=new Set,L=t.timelines.map(Z=>{const Ee=Z.element;S.add(Ee);const Re=Ee[Da];if(Re&&Re.removedBeforeQueried)return new m0(Z.duration,Z.delay);const st=Ee!==v,_t=function sF(n){const e=[];return TO(n,e),e}((r.get(Ee)||Q1).map(Hr=>Hr.getRealPlayer())).filter(Hr=>!!Hr.element&&Hr.element===Ee),Pt=u.get(Ee),ct=c.get(Ee),sn=Jx(0,this._normalizer,0,Z.keyframes,Pt,ct),pr=this._buildPlayer(Z,sn,_t);if(Z.subTimeline&&o&&O.add(Ee),st){const Hr=new uS(e,m,Ee);Hr.setRealPlayer(pr),b.push(Hr)}return pr});b.forEach(Z=>{Uo(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function tF(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Z.element,Z))}),S.forEach(Z=>Ta(Z,aO));const $=zh(L);return $.onDestroy(()=>{S.forEach(Z=>Fy(Z,aO)),Il(v,t.toStyles)}),O.forEach(Z=>{Uo(o,Z,[]).push($)}),$}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new m0(e.duration,e.delay)}}class uS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new m0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>HA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cD(n){return n&&1===n.nodeType}function IO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function bO(n,e,t,r,o){const u=[];t.forEach(v=>u.push(IO(v)));const c=[];r.forEach((v,b)=>{const S={};v.forEach(O=>{const L=S[O]=e.computeStyle(b,O,o);(!L||0==L.length)&&(b[Da]=J1,c.push(b))}),n.set(b,S)});let m=0;return t.forEach(v=>IO(v,u[m++])),c}function DO(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),u=new Map;function c(m){if(!m)return 1;let v=u.get(m);if(v)return v;const b=m.parentNode;return v=t.has(b)?b:o.has(b)?1:c(b),u.set(m,v),v}return e.forEach(m=>{const v=c(m);1!==v&&t.get(v).push(m)}),t}function Ta(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Fy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function iF(n,e,t){zh(t).onDone(()=>n.processLeaveNode(e))}function TO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof zx?TO(r.players,e):e.push(r)}}function CO(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class dD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new eF(e,t,r),this._timelineEngine=new z1(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const c=e+"-"+o;let m=this._triggerCache[c];if(!m){const v=[],b=JA(this._driver,u,v);if(v.length)throw function Yk(n,e){return new f.vHH(3404,$t)}();m=function H1(n,e,t){return new $1(n,e,t)}(o,b,this._normalizer),this._triggerCache[c]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,c]=Xx(r);this._timelineEngine.command(u,t,c,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[c,m]=Xx(r);return this._timelineEngine.listen(c,t,m,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uF=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Il(this._element,this._initialStyles),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ng(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ng(this._element,this._endStyles),this._endStyles=null),Il(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];lF(o)&&(e=e||{},e[o]=n[o])}return e}function lF(n){return"display"===n||"position"===n}class AO{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:hO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cF{validateStyleProperty(e){return nO(e)}matchesElement(e,t){return!1}containsElement(e,t){return rO(e,t)}query(e,t,r){return iO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,u,c=[]){const v={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(v.easing=u);const b={},S=c.filter(L=>L instanceof AO);(function y1(n,e){return 0===n||0===e})(r,o)&&S.forEach(L=>{let $=L.currentSnapshot;Object.keys($).forEach(Z=>b[Z]=$[Z])}),t=function _1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(m=>{u.hasOwnProperty(m)||c.push(m),u[m]=t[m]}),c.length)for(var o=1;o<e.length;o++){let m=e[o];c.forEach(function(v){m[v]=hO(n,v)})}}return e}(e,t=t.map(L=>Wh(L,!1)),b);const O=function aF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=lS(e[0]),e.length>1&&(r=lS(e[e.length-1]))):e&&(t=lS(e)),t||r?new uF(n,t,r):null}(e,t);return new AO(e,t,v,O)}}let dF=(()=>{class n extends jx{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?$x(t):t;return SO(this._renderer,null,r,"register",[o]),new hF(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(ne))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class hF extends class zP{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fF(this._id,e,t||{},this._renderer)}}class fF{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return SO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function SO(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const MO="@.disabled";let pF=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const m=null==c?void 0:c.parentNode(u);m&&c.removeChild(m,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new xO("",u,this.engine),this._rendererCache.set(u,S)),S}const c=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(c,m,t,S.name,S)};return r.data.animation.forEach(v),new gF(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,m]=u;c(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(dD),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class xO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==MO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gF extends xO{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==MO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function mF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function yF(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,c,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let _F=(()=>{class n extends dD{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ne),f.LFG(zA),f.LFG(rS))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const OO=new f.OlP("AnimationModuleType"),NO=[{provide:jx,useClass:dF},{provide:rS,useFactory:function vF(){return new L1}},{provide:dD,useClass:_F},{provide:f.FYo,useFactory:function EF(n,e,t){return new pF(n,e,t)},deps:[hn,dD,f.R0b]}],RO=[{provide:zA,useFactory:()=>new cF},{provide:OO,useValue:"BrowserAnimations"},...NO],wF=[{provide:zA,useClass:sO},{provide:OO,useValue:"NoopAnimations"},...NO];let IF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?wF:RO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:RO,imports:[Nu]}),n})(),bF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"span",2),f._uU(3,"App Empleados - Firebase"),f.qZA()()())},styles:[""]}),n})(),DF=(()=>{class n{constructor(){this.title="udemy-empleados"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&f._UZ(0,"app-navbar")(1,"router-outlet")},directives:[bF,Ql],styles:[""]}),n})();const PO_firebase={apiKey:"AIzaSyB4FOLvEZT7Lr7ROaa4yUdDXVRTcRkRD3c",authDomain:"empleados-d5d87.firebaseapp.com",projectId:"empleados-d5d87",storageBucket:"empleados-d5d87.appspot.com",messagingSenderId:"180106261918",appId:"1:180106261918:web:5d10e05abdb7e469bad28f"};let TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[DF]}),n.\u0275inj=f.cJS({providers:[],imports:[[Nu,Ak,ms.hO.initializeApp(PO_firebase),qP,Ew,mk.forRoot(),IF]]}),n})();(0,f.G48)(),cd().bootstrapModule(TF).catch(n=>console.error(n))},5867:(et,Ae,P)=>{"use strict";P.d(Ae,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=P(9681);(0,f.registerVersion)("firebase","9.6.7","app")},127:(et,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>f.Z});var f=P(3942);f.Z.registerVersion("firebase","9.6.7","app-compat")},3059:(et,Ae,P)=>{"use strict";P.r(Ae);var f=P(5861),J=P(3942),R=P(2090),ge=P(9681),ee=P(655),pe=P(1877),ne=P(4859);const xe=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new pe.Yd("@firebase/auth");function Oe(y,...h){Se.logLevel<=pe.in.ERROR&&Se.error(`Auth (${ge.SDK_VERSION}): ${y}`,...h)}function se(y,...h){throw He(y,...h)}function me(y,...h){return He(y,...h)}function we(y,h,g){const E=Object.assign(Object.assign({},Ve()),{[h]:g});return new R.LL("auth","Firebase",E).create(h,{appName:y.name})}function $e(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&se(y,"argument-error"),we(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...h){if("string"!=typeof y){const g=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(g,...E)}return z.create(y,...h)}function re(y,h,...g){if(!y)throw He(h,...g)}function K(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Oe(h),new Error(h)}function ie(y,h){y||K(h)}const _e=new Map;function oe(y){ie(y instanceof Function,"Expected a class definition");let h=_e.get(y);return h?(ie(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,_e.set(y,h),h)}function yt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Bt(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Fn{constructor(h,g){this.shortDelay=h,this.longDelay=g,ie(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function rt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(y,h){ie(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class gr{static initialize(h,g,E){this.fetchImpl=h,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hi=new Fn(3e4,6e4);function zt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Rt(y,h,g,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(y,h,g,E,A={}){return ar(y,A,(0,f.Z)(function*(){let N={},q={};E&&("GET"===h?q=E:N={body:JSON.stringify(E)});const le=(0,R.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),gr.fetch()(Ns(y,y.config.apiHost,g,le),Object.assign({method:h,headers:Ue,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ar(y,h,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(y,h,g){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},qt),h);try{const A=new ai(y),N=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield N.json();if("needConfirmation"in q)throw Gi(y,"account-exists-with-different-credential",q);if(N.ok&&!("errorMessage"in q))return q;{const le=N.ok?q.errorMessage:q.error.message,[Ue,Ze]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Gi(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ue)throw Gi(y,"email-already-in-use",q);const mt=E[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw we(y,mt,Ze);se(y,mt)}}catch(A){if(A instanceof R.ZR)throw A;se(y,"network-request-failed")}})).apply(this,arguments)}function Cr(y,h,g,E){return $i.apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(y,h,g,E,A={}){const N=yield Rt(y,h,g,E,A);return"mfaPendingCredential"in N&&se(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ns(y,h,g,E){const A=`${h}${g}?${E}`;return y.config.emulator?Qt(y.config,A):`${y.config.apiScheme}://${A}`}class ai{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(me(this.auth,"network-request-failed")),Hi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gi(y,h,g){const E={appName:y.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const A=me(y,h,E);return A.customData._tokenResponse=g,A}function $r(){return($r=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ln(y,h){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function co(y,h){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Qe(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function mr(){return(mr=(0,f.Z)(function*(y,h=!1){const g=(0,R.m9)(y),E=yield g.getIdToken(h),A=Je(E);re(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,q=null==N?void 0:N.sign_in_provider;return{claims:A,token:E,authTime:Qe(Ot(A.auth_time)),issuedAtTime:Qe(Ot(A.iat)),expirationTime:Qe(Ot(A.exp)),signInProvider:q||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Ot(y){return 1e3*Number(y)}function Je(y){const[h,g,E]=y.split(".");if(void 0===h||void 0===g||void 0===E)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,R.tV)(g);return A?JSON.parse(A):(Oe("Failed to decode base64 JWT payload"),null)}catch(A){return Oe("Caught error parsing JWT payload as JSON",A),null}}function Ni(y,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(E){throw E instanceof R.ZR&&Ft(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function Ft({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ca{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),E)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class Gr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qe(this.lastLoginAt),this.creationTime=Qe(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ui(y){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(y){var h;const g=y.auth,E=yield y.getIdToken(),A=yield Ni(y,co(g,{idToken:E}));re(null==A?void 0:A.users.length,g,"internal-error");const N=A.users[0];y._notifyReloadListener(N);const q=(null===(h=N.providerUserInfo)||void 0===h?void 0:h.length)?X(N.providerUserInfo):[],le=be(y.providerData,q),mt=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==le?void 0:le.length)),tt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:le,metadata:new Gr(N.createdAt,N.lastLoginAt),isAnonymous:mt};Object.assign(y,tt)})).apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(y){const h=(0,R.m9)(y);yield ui(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function be(y,h){return[...y.filter(E=>!h.some(A=>A.providerId===E.providerId)),...h]}function X(y){return y.map(h=>{var{providerId:g}=h,E=(0,ee._T)(h,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ft(){return(ft=(0,f.Z)(function*(y,h){const g=yield ar(y,{},(0,f.Z)(function*(){const E=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:N}=y.config,q=Ns(y,A,"/v1/token",`key=${N}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",gr.fetch()(q,{method:"POST",headers:le,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){re(h.idToken,"internal-error"),re(void 0!==h.idToken,"internal-error"),re(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function at(y){const h=Je(y);return re(h,"internal-error"),re(void 0!==h.exp,"internal-error"),re(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var E=this;return(0,f.Z)(function*(){return re(!E.accessToken||E.refreshToken,h,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var E=this;return(0,f.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:q}=yield function qe(y,h){return ft.apply(this,arguments)}(h,g);E.updateTokensAndExpiration(A,N,Number(q))})()}updateTokensAndExpiration(h,g,E){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,g){const{refreshToken:E,accessToken:A,expirationTime:N}=g,q=new Jt;return E&&(re("string"==typeof E,"internal-error",{appName:h}),q.refreshToken=E),A&&(re("string"==typeof A,"internal-error",{appName:h}),q.accessToken=A),N&&(re("number"==typeof N,"internal-error",{appName:h}),q.expirationTime=N),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Jt,this.toJSON())}_performRefresh(){return K("not implemented")}}function on(y,h){re("string"==typeof y||void 0===y,"internal-error",{appName:h})}class ln{constructor(h){var{uid:g,auth:E,stsTokenManager:A}=h,N=(0,ee._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ca(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Gr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const E=yield Ni(g,g.stsTokenManager.getToken(g.auth,h));return re(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(h){return function un(y){return mr.apply(this,arguments)}(this,h)}reload(){return function H(y){return G.apply(this,arguments)}(this)}_assign(h){this!==h&&(re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new ln(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var E=this;return(0,f.Z)(function*(){let A=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),A=!0),g&&(yield ui(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield Ni(h,function ht(y,h){return $r.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var E,A,N,q,le,Ue,Ze,mt;const tt=null!==(E=g.displayName)&&void 0!==E?E:void 0,_n=null!==(A=g.email)&&void 0!==A?A:void 0,Zi=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,ic=null!==(q=g.photoURL)&&void 0!==q?q:void 0,qu=null!==(le=g.tenantId)&&void 0!==le?le:void 0,zu=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,Nf=null!==(Ze=g.createdAt)&&void 0!==Ze?Ze:void 0,d_=null!==(mt=g.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:da,emailVerified:xd,isAnonymous:Od,providerData:Rf,stsTokenManager:Nd}=g;re(da&&Nd,h,"internal-error");const Ei=Jt.fromJSON(this.name,Nd);re("string"==typeof da,h,"internal-error"),on(tt,h.name),on(_n,h.name),re("boolean"==typeof xd,h,"internal-error"),re("boolean"==typeof Od,h,"internal-error"),on(Zi,h.name),on(ic,h.name),on(qu,h.name),on(zu,h.name),on(Nf,h.name),on(d_,h.name);const Pf=new ln({uid:da,auth:h,email:_n,emailVerified:xd,displayName:tt,isAnonymous:Od,photoURL:ic,phoneNumber:Zi,tenantId:qu,stsTokenManager:Ei,createdAt:Nf,lastLoginAt:d_});return Rf&&Array.isArray(Rf)&&(Pf.providerData=Rf.map(Rd=>Object.assign({},Rd))),zu&&(Pf._redirectEventId=zu),Pf}static _fromIdTokenResponse(h,g,E=!1){return(0,f.Z)(function*(){const A=new Jt;A.updateFromServerResponse(g);const N=new ln({uid:g.localId,auth:h,stsTokenManager:A,isAnonymous:E});return yield ui(N),N})()}}const Mt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,E){var A=this;return(0,f.Z)(function*(){A.storage[g]=E})()}_get(g){var E=this;return(0,f.Z)(function*(){const A=E.storage[g];return void 0===A?null:A})()}_remove(g){var E=this;return(0,f.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return y.type="NONE",y})();function Vn(y,h,g){return`firebase:${y}:${h}:${g}`}class Ar{constructor(h,g,E){this.persistence=h,this.auth=g,this.userKey=E;const{config:A,name:N}=this.auth;this.fullUserKey=Vn(this.userKey,A.apiKey,N),this.fullPersistenceKey=Vn("persistence",A.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ln._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,E="authUser"){return(0,f.Z)(function*(){if(!g.length)return new Ar(oe(Mt),h,E);const A=(yield Promise.all(g.map(function(){var Ze=(0,f.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let N=A[0]||oe(Mt);const q=Vn(E,h.config.apiKey,h.name);let le=null;for(const Ze of g)try{const mt=yield Ze._get(q);if(mt){const tt=ln._fromJSON(h,mt);Ze!==N&&(le=tt),N=Ze;break}}catch(mt){}const Ue=A.filter(Ze=>Ze._shouldAllowMigration);return N._shouldAllowMigration&&Ue.length?(N=Ue[0],le&&(yield N._set(q,le.toJSON())),yield Promise.all(g.map(function(){var Ze=(0,f.Z)(function*(mt){if(mt!==N)try{yield mt._remove(q)}catch(tt){}});return function(mt){return Ze.apply(this,arguments)}}())),new Ar(N,h,E)):new Ar(N,h,E)})()}}function bu(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Un(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Aa(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(is(h))return"Blackberry";if(Bn(h))return"Webos";if(Du(h))return"Safari";if((h.includes("chrome/")||Sa(h))&&!h.includes("edge/"))return"Chrome";if(Sr(h))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Aa(y=(0,R.z$)()){return/firefox\//i.test(y)}function Du(y=(0,R.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Sa(y=(0,R.z$)()){return/crios\//i.test(y)}function Un(y=(0,R.z$)()){return/iemobile/i.test(y)}function Sr(y=(0,R.z$)()){return/android/i.test(y)}function is(y=(0,R.z$)()){return/blackberry/i.test(y)}function Bn(y=(0,R.z$)()){return/webos/i.test(y)}function zr(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function Rs(y=(0,R.z$)()){return zr(y)||Sr(y)||Bn(y)||is(y)||/windows phone/i.test(y)||Un(y)}function Ho(y,h=[]){let g;switch(y){case"Browser":g=bu((0,R.z$)());break;case"Worker":g=`${bu((0,R.z$)())}-${y}`;break;default:g=y}const E=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${ge.SDK_VERSION}/${E}`}class Wr{constructor(h,g){this.app=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tt(this),this.idTokenSubscription=new Tt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(h,g){var E=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var A,N;if(!E._deleted&&(E.persistenceManager=yield Ar.create(E,h),!E._deleted)){if(null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(q){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var E;let A=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const N=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,q=null==A?void 0:A._redirectEventId,le=yield g.tryRedirectSignIn(h);(!N||N===q)&&(null==le?void 0:le.user)&&(A=le.user)}return A?A._redirectEventId?(re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(A){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){try{yield ui(h)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ot(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const E=h?(0,R.m9)(h):null;return E&&re(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return h&&re(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,E){return this.registerStateListener(this.authStateSubscription,h,g,E)}onIdTokenChanged(h,g,E){return this.registerStateListener(this.idTokenSubscription,h,g,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var E=this;return(0,f.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(g);return null===h?A.removeCurrentUser():A.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const E=h&&oe(h)||g._popupRedirectResolver;re(E,g,"argument-error"),g.redirectPersistenceManager=yield Ar.create(g,[oe(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var E,A;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===h?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,E,A){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return re(q,this,"internal-error"),q.then(()=>N(this.currentUser)),"function"==typeof g?h.addObserver(g,E,A):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ho(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){const g={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(g["X-Firebase-gmpid"]=h.app.options.appId),g})()}}function Pe(y){return(0,R.m9)(y)}class Tt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mr(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function bn(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class jt{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return K("not implemented")}_getIdTokenResponse(h){return K("not implemented")}_linkToIdToken(h,g){return K("not implemented")}_getReauthenticationResolver(h){return K("not implemented")}}function fo(y,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:resetPassword",zt(y,h))})).apply(this,arguments)}function bt(y,h){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Go(y,h){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:update",zt(y,h))})).apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithPassword",zt(y,h))})).apply(this,arguments)}function Ps(y,h){return po.apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:sendOobCode",zt(y,h))})).apply(this,arguments)}function Kn(y,h){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(y,h){return Ps(y,h)})).apply(this,arguments)}function Kc(y,h){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(y,h){return Ps(y,h)})).apply(this,arguments)}function Ri(y,h){return li.apply(this,arguments)}function li(){return(li=(0,f.Z)(function*(y,h){return Ps(y,h)})).apply(this,arguments)}function Zc(y,h){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,f.Z)(function*(y,h){return Ps(y,h)})).apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,h))})).apply(this,arguments)}function Yc(){return(Yc=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,h))})).apply(this,arguments)}class Cu extends jt{constructor(h,g,E,A=null){super("password",E),this._email=h,this._password=g,this._tenantId=A}static _fromEmailAndPassword(h,g){return new Cu(h,g,"password")}static _fromEmailAndCode(h,g,E=null){return new Cu(h,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function zo(y,h){return xn.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ks(y,h){return ci.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:se(h,"internal-error")}})()}_linkToIdToken(h,g){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return bt(h,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Yh(y,h){return Yc.apply(this,arguments)}(h,{idToken:g,email:E._email,oobCode:E._password});default:se(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function On(y,h){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithIdp",zt(y,h))})).apply(this,arguments)}class as extends jt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new as(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:A}=g,N=(0,ee._T)(g,["providerId","signInMethod"]);if(!E||!A)return null;const q=new as(E,A);return q.idToken=N.idToken||void 0,q.accessToken=N.accessToken||void 0,q.secret=N.secret,q.nonce=N.nonce,q.pendingToken=N.pendingToken||null,q}_getIdTokenResponse(h){return On(h,this.buildRequest())}_linkToIdToken(h,g){const E=this.buildRequest();return E.idToken=g,On(h,E)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,On(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,R.xO)(g)}return h}}function ug(y,h){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:sendVerificationCode",zt(y,h))})).apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,h))})).apply(this,arguments)}function Xc(){return(Xc=(0,f.Z)(function*(y,h){const g=yield Cr(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,h));if(g.temporaryProof)throw Gi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const cg={USER_NOT_FOUND:"user-not-found"};function ed(){return(ed=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),cg)})).apply(this,arguments)}class Ko extends jt{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Ko({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Ko({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function lg(y,h){return xa.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Wo(y,h){return Xc.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function dg(y,h){return ed.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:E,verificationCode:A}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:E,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:N}=h;return E||g||A||N?new Ko({verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:N}):null}}class us{constructor(h){var g,E,A,N,q,le;const Ue=(0,R.zd)((0,R.pd)(h)),Ze=null!==(g=Ue.apiKey)&&void 0!==g?g:null,mt=null!==(E=Ue.oobCode)&&void 0!==E?E:null,tt=function hg(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ue.mode)&&void 0!==A?A:null);re(Ze&&mt&&tt,"argument-error"),this.apiKey=Ze,this.operation=tt,this.code=mt,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(q=Ue.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(le=Ue.tenantId)&&void 0!==le?le:null}static parseLink(h){const g=function Qh(y){const h=(0,R.zd)((0,R.pd)(y)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,E=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(E?(0,R.zd)((0,R.pd)(E)).link:null)||E||g||h||y}(h);try{return new us(g)}catch(E){return null}}}let Oa=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,E){return Cu._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const A=us.parseLink(E);return re(A,"argument-error"),Cu._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Fs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class di extends Fs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ls extends di{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return re("providerId"in g&&"signInMethod"in g,"argument-error"),as._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return re(h.idToken||h.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ls.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ls.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:N,nonce:q,providerId:le}=h;if(!E&&!A&&!g&&!N||!le)return null;try{return new Ls(le)._credential({idToken:g,accessToken:E,nonce:q,pendingToken:N})}catch(Ue){return null}}}let Zo=(()=>{class y extends di{constructor(){super("facebook.com")}static credential(g){return as._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Yo=(()=>{class y extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return as._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A}=g;if(!E&&!A)return null;try{return y.credential(E,A)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),td=(()=>{class y extends di{constructor(){super("github.com")}static credential(g){return as._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Vs extends jt{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return On(h,this.buildRequest())}_linkToIdToken(h,g){const E=this.buildRequest();return E.idToken=g,On(h,E)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,On(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:A,pendingToken:N}=g;return E&&A&&N&&E===A?new Vs(E,N):null}static _create(h,g){return new Vs(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ls extends Fs{constructor(h){re(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ls.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ls.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Vs.fromJSON(h);return re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:E}=h;if(!g||!E)return null;try{return Vs._create(E,g)}catch(A){return null}}}let hi=(()=>{class y extends di{constructor(){super("twitter.com")}static credential(g,E){return as._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=g;if(!E||!A)return null;try{return y.credential(E,A)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function rd(y,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signUp",zt(y,h))})).apply(this,arguments)}class _r{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,E,A=!1){return(0,f.Z)(function*(){const N=yield ln._fromIdTokenResponse(h,E,A),q=id(E);return new _r({user:N,providerId:q,_tokenResponse:E,operationType:g})})()}static _forOperation(h,g,E){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const A=id(E);return new _r({user:h,providerId:A,_tokenResponse:E,operationType:g})})()}}function id(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Au(){return(Au=(0,f.Z)(function*(y){var h;const g=Pe(y);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new _r({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield rd(g,{returnSecureToken:!0}),A=yield _r._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Su extends R.ZR{constructor(h,g,E,A){var N;super(g.code,g.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Su.prototype),this.customData={appName:h.name,tenantId:null!==(N=h.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,g,E,A){return new Su(h,g,E,A)}}function Mu(y,h,g,E){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Su._fromErrorAndOperation(y,N,h,E):N})}function Dl(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Tl(){return(Tl=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y);yield Us(!0,g,h);const{providerUserInfo:E}=yield Ln(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),A=Dl(E||[]);return g.providerData=g.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function tn(y,h){return Na.apply(this,arguments)}function Na(){return(Na=(0,f.Z)(function*(y,h,g=!1){const E=yield Ni(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return _r._forOperation(y,"link",E)})).apply(this,arguments)}function Us(y,h,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(y,h,g){yield ui(h);const A=!1===y?"provider-already-linked":"no-such-provider";re(Dl(h.providerData).has(g)===y,h.auth,A)})).apply(this,arguments)}function xu(y,h){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(y,h,g=!1){const{auth:E}=y,A="reauthenticate";try{const N=yield Ni(y,Mu(E,A,h,y),g);re(N.idToken,E,"internal-error");const q=Je(N.idToken);re(q,E,"internal-error");const{sub:le}=q;return re(y.uid===le,E,"user-mismatch"),_r._forOperation(y,A,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&se(E,"user-mismatch"),N}})).apply(this,arguments)}function mo(y,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(y,h,g=!1){const E="signIn",A=yield Mu(y,E,h),N=yield _r._fromIdTokenResponse(y,E,A);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ou(y,h){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(y,h){return mo(Pe(y),h)})).apply(this,arguments)}function ds(y,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y);return yield Us(!1,g,h.providerId),tn(g,h)})).apply(this,arguments)}function Qo(y,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(y,h){return xu((0,R.m9)(y),h)})).apply(this,arguments)}function Cl(y,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(y,h){return Cr(y,"POST","/v1/accounts:signInWithCustomToken",zt(y,h))})).apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(y,h){const g=Pe(y),E=yield Cl(g,{token:h,returnSecureToken:!0}),A=yield _r._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ut{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Pa._fromServerResponse(h,g):se(h,"internal-error")}}class Pa extends ut{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Pa(g)}}function ka(y,h,g){var E;re((null===(E=g.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),re(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(re(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(re(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Fa(){return(Fa=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y),A={requestType:"PASSWORD_RESET",email:h};g&&ka(E,A,g),yield Kc(E,A)})).apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(y,h,g){yield fo((0,R.m9)(y),{oobCode:h,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(y,h){yield Go((0,R.m9)(y),{oobCode:h})})).apply(this,arguments)}function Nt(y,h){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y),E=yield fo(g,{oobCode:h}),A=E.requestType;switch(re(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(E.mfaInfo,g,"internal-error");default:re(E.email,g,"internal-error")}let N=null;return E.mfaInfo&&(N=ut._fromServerResponse(Pe(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(y,h){const{data:g}=yield Nt((0,R.m9)(y),h);return g.email})).apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(y,h,g){const E=Pe(y),A=yield rd(E,{returnSecureToken:!0,email:h,password:g}),N=yield _r._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function ad(){return(ad=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y),A={requestType:"EMAIL_SIGNIN",email:h};re(g.handleCodeInApp,E,"argument-error"),g&&ka(E,A,g),yield Ri(E,A)})).apply(this,arguments)}function Jo(){return(Jo=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y),A=Oa.credentialWithLink(h,g||yt());return re(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ou(E,A)})).apply(this,arguments)}function jn(y,h){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:createAuthUri",zt(y,h))})).apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(y,h){const E={identifier:h,continueUri:Bt()?yt():"http://localhost"},{signinMethods:A}=yield jn((0,R.m9)(y),E);return A||[]})).apply(this,arguments)}function ja(){return(ja=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&ka(g.auth,A,h);const{email:N}=yield Kn(g.auth,A);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ha(){return(Ha=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&ka(E.auth,N,g);const{email:q}=yield Zc(E.auth,N);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function cd(y,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(y,h){return Rt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function $a(){return($a=(0,f.Z)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const E=(0,R.m9)(y),N={idToken:yield E.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},q=yield Ni(E,cd(E.auth,N));E.displayName=q.displayName||null,E.photoURL=q.photoUrl||null;const le=E.providerData.find(({providerId:Ue})=>"password"===Ue);le&&(le.displayName=E.displayName,le.photoURL=E.photoURL),yield E._updateTokensIfNecessary(q)})).apply(this,arguments)}function Ru(y,h,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(y,h,g){const{auth:E}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(N.email=h),g&&(N.password=g);const q=yield Ni(y,bt(E,N));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class vo{constructor(h,g,E={}){this.isNewUser=h,this.providerId=g,this.profile=E}}class dd extends vo{constructor(h,g,E,A){super(h,g,E),this.username=A}}class Xh extends vo{constructor(h,g){super(h,"facebook.com",g)}}class Xo extends dd{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Wi extends vo{constructor(h,g){super(h,"google.com",g)}}class ef extends dd{constructor(h,g,E){super(h,"twitter.com",g,E)}}function Qn(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Nl(y){var h,g;if(!y)return null;const{providerId:E}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const q=null===(g=null===(h=Je(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new vo(N,"anonymous"!==q&&"custom"!==q?q:null)}if(!E)return null;switch(E){case"facebook.com":return new Xh(N,A);case"github.com":return new Xo(N,A);case"google.com":return new Wi(N,A);case"twitter.com":return new ef(N,A,y.screenName||null);case"custom":case"anonymous":return new vo(N,null);default:return new vo(N,E,A)}}(g)}class ps{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new ps("enroll",h)}static _fromMfaPendingCredential(h){return new ps("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,E;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ps._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(E=h.multiFactorSession)||void 0===E?void 0:E.idToken)return ps._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ga{constructor(h,g,E){this.session=h,this.hints=g,this.signInResolver=E}static _fromError(h,g){const E=Pe(h),A=g.customData._serverResponse,N=(A.mfaInfo||[]).map(le=>ut._fromServerResponse(E,le));re(A.mfaPendingCredential,E,"internal-error");const q=ps._fromMfaPendingCredential(A.mfaPendingCredential);return new Ga(q,N,function(){var le=(0,f.Z)(function*(Ue){const Ze=yield Ue._process(E,q);delete A.mfaInfo,delete A.mfaPendingCredential;const mt=Object.assign(Object.assign({},A),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(g.operationType){case"signIn":const tt=yield _r._fromIdTokenResponse(E,g.operationType,mt);return yield E._updateCurrentUser(tt.user),tt;case"reauthenticate":return re(g.user,E,"internal-error"),_r._forOperation(g.user,g.operationType,mt);default:se(E,"internal-error")}});return function(Ue){return le.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,f.Z)(function*(){return g.signInResolver(h)})()}}function Pu(y,h){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",zt(y,h))}class gs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>ut._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new gs(h)}getSession(){var h=this;return(0,f.Z)(function*(){return ps._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var E=this;return(0,f.Z)(function*(){const A=h,N=yield E.getSession(),q=yield Ni(E.user,A._process(E.user.auth,N,g));return yield E.user._updateTokensIfNecessary(q),E.user.reload()})()}unenroll(h){var g=this;return(0,f.Z)(function*(){const E="string"==typeof h?h:h.uid,A=yield g.user.getIdToken(),N=yield Ni(g.user,function nf(y,h){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(y,h))}(g.user.auth,{idToken:A,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==E),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const ea=new WeakMap,qa="__sak";class Eo{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const cn=(()=>{class y extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function za(){const y=(0,R.z$)();return Du(y)||zr(y)}()&&function ur(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Rs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),N=this.localCache[E];A!==N&&g(E,N,A)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((le,Ue,Ze)=>{this.notifyListeners(le,Ze)});const A=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(A);if(g.newValue!==le)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!E)return}const N=()=>{const le=this.storage.getItem(A);!E&&this.localCache[A]===le||this.notifyListeners(A,le)},q=this.storage.getItem(A);!function Ma(){return(0,R.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var A=()=>super._set,N=this;return(0,f.Z)(function*(){yield A().call(N,g,E),N.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,A=this;return(0,f.Z)(function*(){const N=yield E().call(A,g);return A.localCache[g]=JSON.stringify(N),N})()}_remove(g){var E=()=>super._remove,A=this;return(0,f.Z)(function*(){yield E().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),it=(()=>{class y extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return y.type="SESSION",y})();let Or=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(N=>N.isListeningto(g));if(E)return E;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,f.Z)(function*(){const A=g,{eventId:N,eventType:q,data:le}=A.data,Ue=E.handlersMap[q];if(!(null==Ue?void 0:Ue.size))return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:q});const Ze=Array.from(Ue).map(function(){var tt=(0,f.Z)(function*(_n){return _n(A.origin,le)});return function(_n){return tt.apply(this,arguments)}}()),mt=yield function Xn(y){return Promise.all(y.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return h.apply(this,arguments)}}()))}(Ze);A.ports[0].postMessage({status:"done",eventId:N,eventType:q,response:mt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Hn(y="",h=10){let g="";for(let E=0;E<h;E++)g+=Math.floor(10*Math.random());return y+g}class pd{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,E=50){var A=this;return(0,f.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let q,le;return new Promise((Ue,Ze)=>{const mt=Hn("",20);N.port1.start();const tt=setTimeout(()=>{Ze(new Error("unsupported_event"))},E);le={messageChannel:N,onMessage(_n){const Zi=_n;if(Zi.data.eventId===mt)switch(Zi.data.status){case"ack":clearTimeout(tt),q=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ue(Zi.data.response);break;default:clearTimeout(tt),clearTimeout(q),Ze(new Error("invalid_response"))}}},A.handlers.add(le),N.port1.addEventListener("message",le.onMessage),A.target.postMessage({eventType:h,eventId:mt,data:g},[N.port2])}).finally(()=>{le&&A.removeMessageHandler(le)})})()}}function dn(){return window}function $s(){return void 0!==dn().WorkerGlobalScope&&"function"==typeof dn().importScripts}function wo(){return(wo=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Fl="firebaseLocalStorageDb",Wa="firebaseLocalStorage",ys="fbase_key";class Tn{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Gs(y,h){return y.transaction([Wa],h?"readwrite":"readonly").objectStore(Wa)}function Nr(){const y=indexedDB.open(Fl,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Wa,{keyPath:ys})}catch(A){g(A)}}),y.addEventListener("success",(0,f.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Wa)?h(E):(E.close(),yield function ku(){const y=indexedDB.deleteDatabase(Fl);return new Tn(y).toPromise()}(),h(yield Nr()))}))})}function Fu(y,h,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,f.Z)(function*(y,h,g){const E=Gs(y,!0).put({[ys]:h,value:g});return new Tn(E).toPromise()})).apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(y,h){const g=Gs(y,!1).get(h),E=yield new Tn(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Lu(y,h){const g=Gs(y,!0).delete(h);return new Tn(g).toPromise()}const vr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Nr()),g.db})()}_withRetries(g){var E=this;return(0,f.Z)(function*(){let A=0;for(;;)try{const N=yield E._openDb();return yield g(N)}catch(N){if(A++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return $s()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Or._getInstance(function Ct(){return $s()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(A,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(A,N){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var E,A;if(g.activeServiceWorker=yield function ta(){return wo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pd(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function na(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Nr();return yield Fu(g,qa,"1"),yield Lu(g,qa),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(N=>Fu(N,g,E)),A.localCache[g]=E,A.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,f.Z)(function*(){const A=yield E._withRetries(N=>function qs(y,h){return zs.apply(this,arguments)}(N,g));return E.localCache[g]=A,A})()}_remove(g){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(A=>Lu(A,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const E=yield g._withRetries(q=>{const le=Gs(q,!1).getAll();return new Tn(le).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:q,value:le}of E)N.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(le)&&(g.notifyListeners(q,le),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!N.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function gd(y,h){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",zt(y,h))}function Ws(){return(Ws=(0,f.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ia(y){return new Promise((h,g)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=h,E.onerror=A=>{const N=me("internal-error");N.customData=A,g(N)},E.type="text/javascript",E.charset="UTF-8",function $n(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(E)})}function _s(y){return`__${y}${Math.floor(1e6*Math.random())}`}const er=1e12;class ki{constructor(h){this.auth=h,this.counter=er,this._widgets=new Map}render(h,g){const E=this.counter;return this._widgets.set(E,new tr(h,this.auth.name,g||{})),this.counter++,E}reset(h){var g;const E=h||er;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(h){var g;return(null===(g=this._widgets.get(h||er))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,f.Z)(function*(){var E;return null===(E=g._widgets.get(h||er))||void 0===E||E.execute(),""})()}}class tr{constructor(h,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof h?document.getElementById(h):h;re(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bo(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=_s("rcb"),Ya=new Fn(3e4,6e4);class yg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!dn().grecaptcha}load(h,g=""){return re(function _g(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(dn().grecaptcha):new Promise((E,A)=>{const N=dn().setTimeout(()=>{A(me(h,"network-request-failed"))},Ya.get());dn()[oa]=()=>{dn().clearTimeout(N),delete dn()[oa];const le=dn().grecaptcha;if(!le)return void A(me(h,"internal-error"));const Ue=le.render;le.render=(Ze,mt)=>{const tt=Ue(Ze,mt);return this.counter++,tt},this.hostLanguage=g,E(le)},ia(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:oa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),A(me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!dn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uy{load(h){return(0,f.Z)(function*(){return new ki(h)})()}clearedOneInstance(){}}const Do="recaptcha",Zr={theme:"light",type:"image"};class sf{constructor(h,g=Object.assign({},Zr),E){this.parameters=g,this.type=Do,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(E),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;re(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uy:new yg,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(g)||new Promise(N=>{const q=le=>{!le||(h.tokenChangeListeners.delete(q),N(le))};h.tokenChangeListeners.add(q),h.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof h)h(g);else if("string"==typeof h){const E=dn()[h];"function"==typeof E&&E(g)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){re(Bt()&&!$s(),h.auth,"internal-error"),yield function Ks(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Za(y){return Ws.apply(this,arguments)}(h.auth);re(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Ko._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function pn(){return(pn=(0,f.Z)(function*(y,h,g){const E=Pe(y),A=yield Er(E,h,(0,R.m9)(g));return new vs(A,N=>Ou(E,N))})).apply(this,arguments)}function To(){return(To=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y);yield Us(!1,E,"phone");const A=yield Er(E.auth,h,(0,R.m9)(g));return new vs(A,N=>ds(E,N))})).apply(this,arguments)}function Ul(){return(Ul=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y),A=yield Er(E.auth,h,(0,R.m9)(g));return new vs(A,N=>Qo(E,N))})).apply(this,arguments)}function Er(y,h,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(y,h,g){var E;const A=yield g.verify();try{let N;if(re("string"==typeof A,y,"argument-error"),re(g.type===Do,y,"argument-error"),N="string"==typeof h?{phoneNumber:h}:h,"session"in N){const q=N.session;if("phoneNumber"in N)return re("enroll"===q.type,y,"internal-error"),(yield Pu(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{re("signin"===q.type,y,"internal-error");const le=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return re(le,y,"missing-multi-factor-info"),(yield gd(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield ug(y,{phoneNumber:N.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(y,h){yield tn((0,R.m9)(y),h)})).apply(this,arguments)}let Fi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Pe(g)}verifyPhoneNumber(g,E){return Er(this.auth,g,(0,R.m9)(E))}static credential(g,E){return Ko._fromVerification(g,E)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:A}=g;return E&&A?Ko._fromTokenResponse(E,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ki(y,h){return h?oe(h):(re(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Qa extends jt{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return On(h,this._buildIdpRequest())}_linkToIdToken(h,g){return On(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return On(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function jl(y){return mo(y.auth,new Qa(y),y.bypassAuthState)}function Hl(y){const{auth:h,user:g}=y;return re(g,h,"internal-error"),xu(g,new Qa(y),y.bypassAuthState)}function At(y){return aa.apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(y){const{auth:h,user:g}=y;return re(g,h,"internal-error"),tn(g,new Qa(y),y.bypassAuthState)})).apply(this,arguments)}class Gn{constructor(h,g,E,A,N=!1){this.auth=h,this.resolver=E,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(E,A){h.pendingPromise={resolve:E,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(N){h.reject(N)}});return function(E,A){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:N,tenantId:q,error:le,type:Ue}=h;if(le)return void g.reject(le);const Ze={auth:g.auth,requestUri:E,sessionId:A,tenantId:q||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Ze))}catch(mt){g.reject(mt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return jl;case"linkViaPopup":case"linkViaRedirect":return At;case"reauthViaPopup":case"reauthViaRedirect":return Hl;default:se(this.auth,"internal-error")}}resolve(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $l=new Fn(2e3,1e4);function md(){return(md=(0,f.Z)(function*(y,h,g){const E=Pe(y);$e(y,h,Fs);const A=Ki(E,g);return new Bu(E,"signInViaPopup",h,A).executeNotNull()})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y);$e(E.auth,h,Fs);const A=Ki(E.auth,g);return new Bu(E.auth,"reauthViaPopup",h,A,E).executeNotNull()})).apply(this,arguments)}function Uu(){return(Uu=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y);$e(E.auth,h,Fs);const A=Ki(E.auth,g);return new Bu(E.auth,"linkViaPopup",h,A,E).executeNotNull()})).apply(this,arguments)}let Bu=(()=>{class y extends Gn{constructor(g,E,A,N,q){super(g,E,N,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const E=yield g.execute();return re(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,f.Z)(function*(){ie(1===g.filter.length,"Popup operations only handle one event");const E=Hn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,$l.get())};g()}}return y.currentPopupAction=null,y})();const ju=new Map;class an extends Gn{constructor(h,g,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let E=ju.get(g.auth._key());if(!E){try{const N=(yield function gi(y,h){return of.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;E=()=>Promise.resolve(N)}catch(A){E=()=>Promise.reject(A)}ju.set(g.auth._key(),E)}return g.bypassAuthState||ju.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(E,h);if("unknown"!==h.type){if(h.eventId){const A=yield E.auth._redirectUserForId(h.eventId);if(A)return E.user=A,g().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function of(){return(of=(0,f.Z)(function*(y,h){const g=D(h),E=af(y);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(g));return yield E._remove(g),A})).apply(this,arguments)}function Qs(y,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(y,h){return af(y)._set(D(h),"true")})).apply(this,arguments)}function af(y){return oe(y._redirectPersistence)}function D(y){return Vn("pendingRedirect",y.config.apiKey,y.name)}function F(){return(F=(0,f.Z)(function*(y,h,g){const E=Pe(y);$e(y,h,Fs);const A=Ki(E,g);return yield Qs(A,E),A._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function fe(){return(fe=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y);$e(E.auth,h,Fs);const A=Ki(E.auth,g);yield Qs(A,E.auth);const N=yield Js(E);return A._openRedirect(E.auth,h,"reauthViaRedirect",N)})).apply(this,arguments)}function St(){return(St=(0,f.Z)(function*(y,h,g){const E=(0,R.m9)(y);$e(E.auth,h,Fs);const A=Ki(E.auth,g);yield Us(!1,E,h.providerId),yield Qs(A,E.auth);const N=yield Js(E);return A._openRedirect(E.auth,h,"linkViaRedirect",N)})).apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(y,h){return yield Pe(y)._initializationPromise,lr(y,h,!1)})).apply(this,arguments)}function lr(y,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(y,h,g=!1){const E=Pe(y),A=Ki(E,h),q=yield new an(E,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield E._persistUserIfCurrent(q.user),yield E._setRedirectUser(null,h)),q})).apply(this,arguments)}function Js(y){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(y){const h=Hn(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class yi{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(g=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Gl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xa(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var E;if(h.error&&!Xa(h)){const A=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(me(this.auth,A))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const E=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_i(h))}saveEventToCache(h){this.cachedEventUids.add(_i(h)),this.lastProcessedEventTime=Date.now()}}function _i(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Xa({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function ql(y){return eu.apply(this,arguments)}function eu(){return(eu=(0,f.Z)(function*(y,h={}){return Rt(y,"GET","/v1/projects",h)})).apply(this,arguments)}const vg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jy=/^https?/;function Es(){return(Es=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ql(y);for(const g of h)try{if(zl(g))return}catch(E){}se(y,"unauthorized-domain")})).apply(this,arguments)}function zl(y){const h=yt(),{protocol:g,hostname:E}=new URL(h);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===E?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===E}if(!jy.test(g))return!1;if(vg.test(y))return E===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const $y=new Fn(3e4,6e4);function Gy(){const y=dn().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let _d=null;function qy(y){return _d=_d||function Eg(y){return new Promise((h,g)=>{var E,A,N;function q(){Gy(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Gy(),g(me(y,"network-request-failed"))},timeout:$y.get()})}if(null===(A=null===(E=dn().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)h(gapi.iframes.getContext());else{if(!(null===(N=dn().gapi)||void 0===N?void 0:N.load)){const le=_s("iframefcb");return dn()[le]=()=>{gapi.load?q():g(me(y,"network-request-failed"))},ia(`https://apis.google.com/js/api.js?onload=${le}`).catch(Ue=>g(Ue))}q()}}).catch(h=>{throw _d=null,h})}(y),_d}const uf=new Fn(5e3,15e3),Mo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tu(y){const h=y.config;re(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?Qt(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:y.name,v:ge.SDK_VERSION},A=vd.get(y.config.apiHost);A&&(E.eid=A);const N=y._getFrameworks();return N.length&&(E.fw=N.join(",")),`${g}?${(0,R.xO)(E).slice(1)}`}function xo(){return xo=(0,f.Z)(function*(y){const h=yield qy(y),g=dn().gapi;return re(g,y,"internal-error"),h.open({where:document.body,url:tu(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mo,dontclear:!0},E=>new Promise(function(){var A=(0,f.Z)(function*(N,q){yield E.restyle({setHideOnLeave:!1});const le=me(y,"network-request-failed"),Ue=dn().setTimeout(()=>{q(le)},uf.get());function Ze(){dn().clearTimeout(Ue),N(E)}E.ping(Ze).then(Ze,()=>{q(le)})});return function(N,q){return A.apply(this,arguments)}}()))}),xo.apply(this,arguments)}const Wy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Id{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function hf(y,h,g,E,A,N){re(y.config.authDomain,y,"auth-domain-config-required"),re(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:E,v:ge.SDK_VERSION,eventId:A};if(h instanceof Fs){h.setDefaultLanguage(y.languageCode),q.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ue,Ze]of Object.entries(N||{}))q[Ue]=Ze}if(h instanceof di){const Ue=h.getScopes().filter(Ze=>""!==Ze);Ue.length>0&&(q.scopes=Ue.join(","))}y.tenantId&&(q.tid=y.tenantId);const le=q;for(const Ue of Object.keys(le))void 0===le[Ue]&&delete le[Ue];return`${function Zy({config:y}){return y.emulator?Qt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(le).slice(1)}`}const ws="webStorageSupport";class bd extends class ff{constructor(h){this.factorId=h}_process(h,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,E);case"signin":return this._finalizeSignIn(h,g.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new bd(h)}_finalizeEnroll(h,g,E){return function Jn(y,h){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",zt(y,h))}(h,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Rr(y,h){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",zt(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wg=(()=>{class y{constructor(){}static assertion(g){return bd._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Ig="@firebase/auth";class bg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(E=>{var A;h((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xs(){return window}function ru(){return(ru=(0,f.Z)(function*(y,h,g){var E;const{BuildInfo:A}=Xs();ie(h.sessionId,"AuthEvent did not contain a session ID");const N=yield iu(h.sessionId),q={};return zr()?q.ibi=A.packageName:Sr()?q.apn=A.packageName:se(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=N,hf(y,g,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,q)})).apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(y){const{BuildInfo:h}=Xs(),g={};zr()?g.iosBundleId=h.packageName:Sr()?g.androidPackageName=h.packageName:se(y,"operation-not-supported-in-this-environment"),yield ql(y,g)})).apply(this,arguments)}function Td(){return(Td=(0,f.Z)(function*(y,h,g){const{cordova:E}=Xs();let A=()=>{};try{yield new Promise((N,q)=>{let le=null;function Ue(){var tt;N();const _n=null===(tt=E.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof _n&&_n(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ze(){le||(le=window.setTimeout(()=>{q(me(y,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&Ze()}h.addPassiveListener(Ue),document.addEventListener("resume",Ze,!1),Sr()&&document.addEventListener("visibilitychange",mt,!1),A=()=>{h.removePassiveListener(Ue),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",mt,!1),le&&window.clearTimeout(le)}})}finally{A()}})).apply(this,arguments)}function iu(y){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,f.Z)(function*(y){const h=$u(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $u(y){if(ie(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let E=0;E<y.length;E++)g[E]=y.charCodeAt(E);return g}!function Qy(y){(0,ge._registerComponent)(new ne.wA("auth",(h,{options:g})=>{const E=h.getProvider("app").getImmediate(),{apiKey:A,authDomain:N}=E.options;return(q=>{re(A&&!A.includes(":"),"invalid-api-key",{appName:q.name}),re(!(null==N?void 0:N.includes(":")),"argument-error",{appName:q.name});const le={apiKey:A,authDomain:N,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ho(y)},Ue=new Wr(q,le);return function he(y,h){const g=(null==h?void 0:h.persistence)||[],E=(Array.isArray(g)?g:[g]).map(oe);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(Ue,g),Ue})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,E)=>{h.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new ne.wA("auth-internal",h=>{const g=Pe(h.getProvider("auth").getImmediate());return new bg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(Ig,"0.19.9",function Yy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ge.registerVersion)(Ig,"0.19.9","esm2017")}("Browser");class yf extends yi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Zl(y){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(y){const h=yield Ql()._get(vf(y));return h&&(yield Ql()._remove(vf(y))),h})).apply(this,arguments)}function Yl(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*h.length);y.push(h.charAt(E))}return y.join("")}function Ql(){return oe(cn)}function vf(y){return Vn("authEvent",y.config.apiKey,y.name)}function Xl(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function Ad(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Sd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ag(y=(0,R.z$)()){return!("file:"!==Sd()&&"ionic:"!==Sd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){try{const y=self.localStorage,h=Hn();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Ro(y=(0,R.z$)()){return function n_(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function r_(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return ca()&&(0,R.hl)()}return!1}function ca(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tc(){return(function t_(){return"http:"===Sd()||"https:"===Sd()}()||(0,R.ru)()||Ag())&&!function Md(){return(0,R.b$)()||(0,R.UG)()}()&&wr()&&!ca()}function bf(){return Ag()&&"undefined"!=typeof document}function su(){return(su=(0,f.Z)(function*(){return!!bf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},ou=re,Tf="persistence";function au(y){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,f.Z)(function*(y){yield y._initializationPromise;const h=nc(),g=Vn(Tf,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function nc(){var y;try{return(null===(y=function Df(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(h){return null}}const i_=re;class vi{constructor(){this.browserResolver=oe(class No{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=it,this._completeRedirectFn=lr}_openPopup(h,g,E,A){var N=this;return(0,f.Z)(function*(){var q;ie(null===(q=N.eventManagers[h._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const le=hf(h,g,E,yt(),A);return function Oo(y,h,g,E=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-E)/2,0).toString();let le="";const Ue=Object.assign(Object.assign({},Wy),{width:E.toString(),height:A.toString(),top:N,left:q}),Ze=(0,R.z$)().toLowerCase();g&&(le=Sa(Ze)?"_blank":g),Aa(Ze)&&(h=h||"http://localhost",Ue.scrollbars="yes");const mt=Object.entries(Ue).reduce((_n,[Zi,ic])=>`${_n}${Zi}=${ic},`,"");if(function ho(y=(0,R.z$)()){var h;return zr(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ze)&&"_self"!==le)return function df(y,h){const g=document.createElement("a");g.href=y,g.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(h||"",le),new Id(null);const tt=window.open(h||"",le,mt);re(tt,y,"popup-blocked");try{tt.focus()}catch(_n){}return new Id(tt)}(h,le,Hn())})()}_openRedirect(h,g,E,A){var N=this;return(0,f.Z)(function*(){return yield N._originValidation(h),function kl(y){dn().location.href=y}(hf(h,g,E,yt(),A)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:A,promise:N}=this.eventManagers[g];return A?Promise.resolve(A):(ie(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(h);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const E=yield function zy(y){return xo.apply(this,arguments)}(h),A=new yi(h);return E.register("authEvent",N=>(re(null==N?void 0:N.authEvent,h,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:A},g.iframes[h._key()]=E,A})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(ws,{type:ws},A=>{var N;const q=null===(N=null==A?void 0:A[0])||void 0===N?void 0:N[ws];void 0!==q&&g(!!q),se(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Hy(y){return Es.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Rs()||Du()||zr()}}),this.cordovaResolver=oe(class If{constructor(){this._redirectPersistence=it,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lr}_initialize(h){var g=this;return(0,f.Z)(function*(){const E=h._key();let A=g.eventManagers.get(E);return A||(A=new yf(h),g.eventManagers.set(E,A),g.attachCallbackListeners(h,A)),A})()}_openPopup(h){se(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,E,A){var N=this;return(0,f.Z)(function*(){!function Cd(y){var h,g,E,A,N,q,le,Ue,Ze,mt;const tt=Xs();re("function"==typeof(null===(h=null==tt?void 0:tt.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(void 0!==(null===(g=null==tt?void 0:tt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(N=null===(A=null===(E=null==tt?void 0:tt.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Ue=null===(le=null===(q=null==tt?void 0:tt.cordova)||void 0===q?void 0:q.plugins)||void 0===le?void 0:le.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(mt=null===(Ze=null==tt?void 0:tt.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===mt?void 0:mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const q=yield N._initialize(h);yield q.initialized(),q.resetRedirect(),function Ja(){ju.clear()}(),yield N._originValidation(h);const le=function _f(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Yl(),postBody:null,tenantId:y.tenantId,error:me(y,"no-auth-event")}}(h,E,A);yield function b0(y,h){return Ql()._set(vf(y),h)}(h,le);const Ue=yield function pf(y,h,g){return ru.apply(this,arguments)}(h,le,g),Ze=yield function Kl(y){const{cordova:h}=Xs();return new Promise(g=>{h.plugins.browsertab.isAvailable(E=>{let A=null;E?h.plugins.browsertab.openUrl(y):A=h.InAppBrowser.open(y,function Wc(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Ue);return function Dg(y,h,g){return Td.apply(this,arguments)}(h,q,Ze)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function gf(y){return Vi.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:E,handleOpenURL:A,BuildInfo:N}=Xs(),q=setTimeout((0,f.Z)(function*(){yield Zl(h),g.onEvent(Ad())}),500),le=function(){var mt=(0,f.Z)(function*(tt){clearTimeout(q);const _n=yield Zl(h);let Zi=null;_n&&(null==tt?void 0:tt.url)&&(Zi=function Xy(y,h){var g,E;const A=function Jl(y){const h=Xl(y),g=h.link?decodeURIComponent(h.link):void 0,E=Xl(g).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Xl(A).link||A||E||g||y}(h);if(A.includes("/__/auth/callback")){const N=Xl(A),q=N.firebaseError?function Ef(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(N.firebaseError)):null,le=null===(E=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Ue=le?me(le):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(_n,tt.url)),g.onEvent(Zi||Ad())});return function(_n){return mt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,le);const Ue=A,Ze=`${N.packageName.toLowerCase()}://`;Xs().handleOpenURL=function(){var mt=(0,f.Z)(function*(tt){if(tt.toLowerCase().startsWith(Ze)&&le({url:tt}),"function"==typeof Ue)try{Ue(tt)}catch(_n){console.error(_n)}});return function(tt){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=it,this._completeRedirectFn=lr}_initialize(h){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,E,A){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(h,g,E,A)})()}_openRedirect(h,g,E,A){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(h,g,E,A)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return bf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return i_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const g=yield function Pr(){return su.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function xg(y){return y.unwrap()}function uu(y){return Og(y)}function Og(y){const{_tokenResponse:h}=y instanceof R.ZR?y.customData:y;if(!h)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Fi.credentialFromResult(y);const g=h.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=Yo;break;case"facebook.com":E=Zo;break;case"github.com":E=td;break;case"twitter.com":E=hi;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:q,pendingToken:le,nonce:Ue}=h;return N||q||A||le?le?g.startsWith("saml.")?Vs._create(g,le):as._fromParams({providerId:g,signInMethod:g,pendingToken:le,idToken:A,accessToken:N}):new Ls(g).credential({idToken:A,accessToken:N,rawNonce:Ue}):null}return y instanceof R.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function cr(y,h){return h.catch(g=>{throw g instanceof R.ZR&&function o_(y,h){var g;const E=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new a_(y,function Pl(y,h){var g;const E=(0,R.m9)(y),A=h;return re(h.customData.operationType,E,"argument-error"),re(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Ga._fromError(E,A)}(y,h));else if(E){const A=Og(h),N=h;A&&(N.credential=A,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:uu(g),additionalUserInfo:Qn(g),user:Po.getOrCreate(A)}})}function Af(y,h){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,f.Z)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:E=>cr(y,g.confirm(E))}})).apply(this,arguments)}class a_{constructor(h,g){this.resolver=g,this.auth=function s_(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return cr(xg(this.auth),this.resolver.resolveSignIn(h))}}class Po{constructor(h){this._delegate=h,this.multiFactor=function gg(y){const h=(0,R.m9)(y);return ea.has(h)||ea.set(h,gs._fromUser(h)),ea.get(h)}(h)}static getOrCreate(h){return Po.USER_MAP.has(h)||Po.USER_MAP.set(h,new Po(h)),Po.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,f.Z)(function*(){return cr(g.auth,ds(g._delegate,h))})()}linkWithPhoneNumber(h,g){var E=this;return(0,f.Z)(function*(){return Af(E.auth,function Vl(y,h,g){return To.apply(this,arguments)}(E._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,f.Z)(function*(){return cr(g.auth,function Li(y,h,g){return Uu.apply(this,arguments)}(g._delegate,h,vi))})()}linkWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield au(Pe(g.auth)),function Fe(y,h,g){return function We(y,h,g){return St.apply(this,arguments)}(y,h,g)}(g._delegate,h,vi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,f.Z)(function*(){return cr(g.auth,Qo(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Af(this.auth,function By(y,h,g){return Ul.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return cr(this.auth,function yd(y,h,g){return Zs.apply(this,arguments)}(this._delegate,h,vi))}reauthenticateWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield au(Pe(g.auth)),function W(y,h,g){return function te(y,h,g){return fe.apply(this,arguments)}(y,h,g)}(g._delegate,h,vi)})()}sendEmailVerification(h){return function hs(y,h){return ja.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,f.Z)(function*(){return yield function cs(y,h){return Tl.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Ol(y,h){return Ru((0,R.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function pg(y,h){return Ru((0,R.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Bl(y,h){return Co.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Nu(y,h){return $a.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function ld(y,h,g){return Ha.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Po.USER_MAP=new WeakMap;const rc=re;let Mf=(()=>{class y{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;rc(A,"invalid-api-key",{appName:g.name}),rc(A,"invalid-api-key",{appName:g.name});const N="undefined"!=typeof window?vi:void 0;this._delegate=E.initialize({options:{persistence:u_(A,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function en(y,h,g){const E=Pe(y);re(E._canInitEmulator,E,"emulator-config-failed"),re(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),N=Mr(h),{host:q,port:le}=function ss(y){const h=Mr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const N=A[1];return{host:N,port:bn(E.substr(N.length+1))}}{const[N,q]=E.split(":");return{host:N,port:bn(q)}}}(h);E.config.emulator={url:`${N}//${q}${null===le?"":`:${le}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:q,port:le,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function os(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,E)}applyActionCode(g){return function Jh(y,h){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Nt(this._delegate,g)}confirmPasswordReset(g,E){return function Al(y,h,g){return La.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var A=this;return(0,f.Z)(function*(){return cr(A._delegate,function Ua(y,h,g){return xr.apply(this,arguments)}(A._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function xl(y,h){return zi.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ud(y,h){const g=us.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){rc(tc(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function Zt(y,h){return Cn.apply(this,arguments)}(g._delegate,vi);return E?cr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Cg(y,h){Pe(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,E,A){const{next:N,error:q,complete:le}=xf(g,E,A);return this._delegate.onAuthStateChanged(N,q,le)}onIdTokenChanged(g,E,A){const{next:N,error:q,complete:le}=xf(g,E,A);return this._delegate.onIdTokenChanged(N,q,le)}sendSignInLinkToEmail(g,E){return function Ml(y,h,g){return ad.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function od(y,h,g){return Fa.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,f.Z)(function*(){let A;switch(function Sg(y,h){ou(Object.values(Ui).includes(h),y,"invalid-persistence-type"),(0,R.b$)()?ou(h!==Ui.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?ou(h===Ui.NONE,y,"unsupported-persistence-type"):ca()?ou(h===Ui.NONE||h===Ui.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):ou(h===Ui.NONE||wr(),y,"unsupported-persistence-type")}(E._delegate,g),g){case Ui.SESSION:A=it;break;case Ui.LOCAL:A=(yield oe(vr)._isAvailable())?vr:cn;break;case Ui.NONE:A=Mt;break;default:return se("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return cr(this._delegate,function sd(y){return Au.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return cr(this._delegate,Ou(this._delegate,g))}signInWithCustomToken(g){return cr(this._delegate,function Bs(y,h){return js.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return cr(this._delegate,function Sl(y,h,g){return Ou((0,R.m9)(y),Oa.credential(h,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return cr(this._delegate,function Ba(y,h,g){return Jo.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Af(this._delegate,function Vu(y,h,g){return pn.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,f.Z)(function*(){return rc(tc(),E._delegate,"operation-not-supported-in-this-environment"),cr(E._delegate,function Ao(y,h,g){return md.apply(this,arguments)}(E._delegate,g,vi))})()}signInWithRedirect(g){var E=this;return(0,f.Z)(function*(){return rc(tc(),E._delegate,"operation-not-supported-in-this-environment"),yield au(E._delegate),function T(y,h,g){return function x(y,h,g){return F.apply(this,arguments)}(y,h,g)}(E._delegate,g,vi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function hn(y,h){return Hs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ui,y})();function xf(y,h,g){let E=y;"function"!=typeof y&&({next:E,error:h,complete:g}=y);const A=E;return{next:q=>A(q&&Po.getOrCreate(q)),error:h,complete:g}}function u_(y,h){const g=function Mg(y,h){const g=nc();if(!g)return[];const E=Vn(Tf,y,h);switch(g.getItem(E)){case Ui.NONE:return[Mt];case Ui.LOCAL:return[vr,it];case Ui.SESSION:return[it];default:return[]}}(y,h);if("undefined"!=typeof self&&!g.includes(vr)&&g.push(vr),"undefined"!=typeof window)for(const E of[cn,it])g.includes(E)||g.push(E);return g.includes(Mt)||g.push(Mt),g}class Of{constructor(){this.providerId="phone",this._delegate=new Fi(xg(J.Z.auth()))}static credential(h,g){return Fi.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Of.PHONE_SIGN_IN_METHOD=Fi.PHONE_SIGN_IN_METHOD,Of.PROVIDER_ID=Fi.PROVIDER_ID;const l_=re;class Ng{constructor(h,g,E=J.Z.app()){var A;l_(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new sf(h,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rg(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new Mf(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oa,FacebookAuthProvider:Zo,GithubAuthProvider:td,GoogleAuthProvider:Yo,OAuthProvider:Ls,SAMLAuthProvider:ls,PhoneAuthProvider:Of,PhoneMultiFactorGenerator:wg,RecaptchaVerifier:Ng,TwitterAuthProvider:hi,Auth:Mf,AuthCredential:jt,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.9")}(J.Z)},2940:function(et,Ae){!function(P){"use strict";function f(z){return Array.prototype.slice.call(z)}function J(z){return new Promise(function(ae,Se){z.onsuccess=function(){ae(z.result)},z.onerror=function(){Se(z.error)}})}function R(z,ae,Se){var Oe,se=new Promise(function(me,we){J(Oe=z[ae].apply(z,Se)).then(me,we)});return se.request=Oe,se}function ge(z,ae,Se){var Oe=R(z,ae,Se);return Oe.then(function(se){if(se)return new j(se,Oe.request)})}function ee(z,ae,Se){Se.forEach(function(Oe){Object.defineProperty(z.prototype,Oe,{get:function(){return this[ae][Oe]},set:function(se){this[ae][Oe]=se}})})}function pe(z,ae,Se,Oe){Oe.forEach(function(se){se in Se.prototype&&(z.prototype[se]=function(){return R(this[ae],se,arguments)})})}function ne(z,ae,Se,Oe){Oe.forEach(function(se){se in Se.prototype&&(z.prototype[se]=function(){return this[ae][se].apply(this[ae],arguments)})})}function ce(z,ae,Se,Oe){Oe.forEach(function(se){se in Se.prototype&&(z.prototype[se]=function(){return ge(this[ae],se,arguments)})})}function de(z){this._index=z}function j(z,ae){this._cursor=z,this._request=ae}function U(z){this._store=z}function Q(z){this._tx=z,this.complete=new Promise(function(ae,Se){z.oncomplete=function(){ae()},z.onerror=function(){Se(z.error)},z.onabort=function(){Se(z.error)}})}function Be(z,ae,Se){this._db=z,this.oldVersion=ae,this.transaction=new Q(Se)}function Ce(z){this._db=z}ee(de,"_index",["name","keyPath","multiEntry","unique"]),pe(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),ee(j,"_cursor",["direction","key","primaryKey","value"]),pe(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(j.prototype[z]=function(){var ae=this,Se=arguments;return Promise.resolve().then(function(){return ae._cursor[z].apply(ae._cursor,Se),J(ae._request).then(function(Oe){if(Oe)return new j(Oe,ae._request)})})})}),U.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},ee(U,"_store",["name","keyPath","indexNames","autoIncrement"]),pe(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(U,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ee(Q,"_tx",["objectStoreNames","mode"]),ne(Q,"_tx",IDBTransaction,["abort"]),Be.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ee(Be,"_db",["name","version","objectStoreNames"]),ne(Be,"_db",IDBDatabase,["deleteObjectStore","close"]),Ce.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ee(Ce,"_db",["name","version","objectStoreNames"]),ne(Ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[U,de].forEach(function(ae){z in ae.prototype&&(ae.prototype[z.replace("open","iterate")]=function(){var Se=f(arguments),Oe=Se[Se.length-1],se=this._store||this._index,me=se[z].apply(se,Se.slice(0,-1));me.onsuccess=function(){Oe(me.result)}})})}),[de,U].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(ae,Se){var Oe=this,se=[];return new Promise(function(me){Oe.iterateCursor(ae,function(we){we?(se.push(we.value),void 0===Se||se.length!=Se?we.continue():me(se)):me(se)})})})}),P.openDb=function xe(z,ae,Se){var Oe=R(indexedDB,"open",[z,ae]),se=Oe.request;return se&&(se.onupgradeneeded=function(me){Se&&Se(new Be(se.result,me.oldVersion,se.transaction))}),Oe.then(function(me){return new Ce(me)})},P.deleteDb=function Ve(z){return R(indexedDB,"deleteDatabase",[z])},Object.defineProperty(P,"__esModule",{value:!0})}(Ae)},8306:(et,Ae,P)=>{"use strict";P.d(Ae,{y:()=>j});var f=P(2961),J=P(727),R=P(8822),ge=P(4671);var ne=P(2416),ce=P(576),de=P(2806);let j=(()=>{class Ce{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const z=new Ce;return z.source=this,z.operator=Ve,z}subscribe(Ve,z,ae){const Se=function Be(Ce){return Ce&&Ce instanceof f.Lv||function Q(Ce){return Ce&&(0,ce.m)(Ce.next)&&(0,ce.m)(Ce.error)&&(0,ce.m)(Ce.complete)}(Ce)&&(0,J.Nn)(Ce)}(Ve)?Ve:new f.Hp(Ve,z,ae);return(0,de.x)(()=>{const{operator:Oe,source:se}=this;Se.add(Oe?Oe.call(Se,se):se?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(z){Ve.error(z)}}forEach(Ve,z){return new(z=U(z))((ae,Se)=>{const Oe=new f.Hp({next:se=>{try{Ve(se)}catch(me){Se(me),Oe.unsubscribe()}},error:Se,complete:ae});this.subscribe(Oe)})}_subscribe(Ve){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(Ve)}[R.L](){return this}pipe(...Ve){return function pe(Ce){return 0===Ce.length?ge.y:1===Ce.length?Ce[0]:function(Ve){return Ce.reduce((z,ae)=>ae(z),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=U(Ve))((z,ae)=>{let Se;this.subscribe(Oe=>Se=Oe,Oe=>ae(Oe),()=>z(Se))})}}return Ce.create=xe=>new Ce(xe),Ce})();function U(Ce){var xe;return null!==(xe=null!=Ce?Ce:ne.v.Promise)&&void 0!==xe?xe:Promise}},7579:(et,Ae,P)=>{"use strict";P.d(Ae,{x:()=>ne});var f=P(8306),J=P(727);const ge=(0,P(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=P(8737),pe=P(2806);let ne=(()=>{class de extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Q=new ce(this,this);return Q.operator=U,Q}_throwIfClosed(){if(this.closed)throw new ge}next(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const Be of Q)Be.next(U)}})}error(U){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Q}=this;for(;Q.length;)Q.shift().error(U)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Q,isStopped:Be,observers:Ce}=this;return Q||Be?J.Lc:(Ce.push(U),new J.w0(()=>(0,ee.P)(Ce,U)))}_checkFinalizedStatuses(U){const{hasError:Q,thrownError:Be,isStopped:Ce}=this;Q?U.error(Be):Ce&&U.complete()}asObservable(){const U=new f.y;return U.source=this,U}}return de.create=(j,U)=>new ce(j,U),de})();class ce extends ne{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Q||Q.call(U,j)}error(j){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Q||Q.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,Q;return null!==(Q=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==Q?Q:J.Lc}}},2961:(et,Ae,P)=>{"use strict";P.d(Ae,{Hp:()=>Ve,Lv:()=>Q});var f=P(576),J=P(727),R=P(2416),ge=P(7849);function ee(){}const pe=de("C",void 0,void 0);function de(se,me,we){return{kind:se,value:me,error:we}}var j=P(3410),U=P(2806);class Q extends J.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,J.Nn)(me)&&me.add(this)):this.destination=Oe}static create(me,we,$e){return new Ve(me,we,$e)}next(me){this.isStopped?Se(function ce(se){return de("N",se,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Se(function ne(se){return de("E",void 0,se)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Se(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ce(se,me){return Be.call(se,me)}class xe{constructor(me){this.partialObserver=me}next(me){const{partialObserver:we}=this;if(we.next)try{we.next(me)}catch($e){z($e)}}error(me){const{partialObserver:we}=this;if(we.error)try{we.error(me)}catch($e){z($e)}else z(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(we){z(we)}}}class Ve extends Q{constructor(me,we,$e){let He;if(super(),(0,f.m)(me)||!me)He={next:null!=me?me:void 0,error:null!=we?we:void 0,complete:null!=$e?$e:void 0};else{let re;this&&R.v.useDeprecatedNextContext?(re=Object.create(me),re.unsubscribe=()=>this.unsubscribe(),He={next:me.next&&Ce(me.next,re),error:me.error&&Ce(me.error,re),complete:me.complete&&Ce(me.complete,re)}):He=me}this.destination=new xe(He)}}function z(se){R.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(se):(0,ge.h)(se)}function Se(se,me){const{onStoppedNotification:we}=R.v;we&&j.z.setTimeout(()=>we(se,me))}const Oe={closed:!0,next:ee,error:function ae(se){throw se},complete:ee}},727:(et,Ae,P)=>{"use strict";P.d(Ae,{Lc:()=>pe,w0:()=>ee,Nn:()=>ne});var f=P(576);const R=(0,P(3888).d)(de=>function(U){de(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Q,Be)=>`${Be+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ge=P(8737);class ee{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ce of U)Ce.remove(this);else U.remove(this);const{initialTeardown:Q}=this;if((0,f.m)(Q))try{Q()}catch(Ce){j=Ce instanceof R?Ce.errors:[Ce]}const{_teardowns:Be}=this;if(Be){this._teardowns=null;for(const Ce of Be)try{ce(Ce)}catch(xe){j=null!=j?j:[],xe instanceof R?j=[...j,...xe.errors]:j.push(xe)}}if(j)throw new R(j)}}add(j){var U;if(j&&j!==this)if(this.closed)ce(j);else{if(j instanceof ee){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,ge.P)(U,j)}remove(j){const{_teardowns:U}=this;U&&(0,ge.P)(U,j),j instanceof ee&&j._removeParent(this)}}ee.EMPTY=(()=>{const de=new ee;return de.closed=!0,de})();const pe=ee.EMPTY;function ne(de){return de instanceof ee||de&&"closed"in de&&(0,f.m)(de.remove)&&(0,f.m)(de.add)&&(0,f.m)(de.unsubscribe)}function ce(de){(0,f.m)(de)?de():de.unsubscribe()}},2416:(et,Ae,P)=>{"use strict";P.d(Ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,Ae,P)=>{"use strict";P.d(Ae,{E:()=>J});const J=new(P(8306).y)(ee=>ee.complete())},8996:(et,Ae,P)=>{"use strict";P.d(Ae,{D:()=>me});var f=P(8421),J=P(5363),R=P(9468),pe=P(8306),ce=P(2202),de=P(576),j=P(9672);function Q(we,$e){if(!we)throw new Error("Iterable cannot be null");return new pe.y(He=>{(0,j.f)(He,$e,()=>{const re=we[Symbol.asyncIterator]();(0,j.f)(He,$e,()=>{re.next().then(K=>{K.done?He.complete():He.next(K.value)})},0,!0)})})}var Be=P(3670),Ce=P(8239),xe=P(1144),Ve=P(6495),z=P(2206),ae=P(4532),Se=P(3260);function me(we,$e){return $e?function se(we,$e){if(null!=we){if((0,Be.c)(we))return function ge(we,$e){return(0,f.Xf)(we).pipe((0,R.R)($e),(0,J.Q)($e))}(we,$e);if((0,xe.z)(we))return function ne(we,$e){return new pe.y(He=>{let re=0;return $e.schedule(function(){re===we.length?He.complete():(He.next(we[re++]),He.closed||this.schedule())})})}(we,$e);if((0,Ce.t)(we))return function ee(we,$e){return(0,f.Xf)(we).pipe((0,R.R)($e),(0,J.Q)($e))}(we,$e);if((0,z.D)(we))return Q(we,$e);if((0,Ve.T)(we))return function U(we,$e){return new pe.y(He=>{let re;return(0,j.f)(He,$e,()=>{re=we[ce.h](),(0,j.f)(He,$e,()=>{let K,ie;try{({value:K,done:ie}=re.next())}catch(_e){return void He.error(_e)}ie?He.complete():He.next(K)},0,!0)}),()=>(0,de.m)(null==re?void 0:re.return)&&re.return()})}(we,$e);if((0,Se.L)(we))return function Oe(we,$e){return Q((0,Se.Q)(we),$e)}(we,$e)}throw(0,ae.z)(we)}(we,$e):(0,f.Xf)(we)}},8421:(et,Ae,P)=>{"use strict";P.d(Ae,{Xf:()=>Be});var f=P(655),J=P(1144),R=P(8239),ge=P(8306),ee=P(3670),pe=P(2206),ne=P(4532),ce=P(6495),de=P(3260),j=P(576),U=P(7849),Q=P(8822);function Be(se){if(se instanceof ge.y)return se;if(null!=se){if((0,ee.c)(se))return function Ce(se){return new ge.y(me=>{const we=se[Q.L]();if((0,j.m)(we.subscribe))return we.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,J.z)(se))return function xe(se){return new ge.y(me=>{for(let we=0;we<se.length&&!me.closed;we++)me.next(se[we]);me.complete()})}(se);if((0,R.t)(se))return function Ve(se){return new ge.y(me=>{se.then(we=>{me.closed||(me.next(we),me.complete())},we=>me.error(we)).then(null,U.h)})}(se);if((0,pe.D)(se))return ae(se);if((0,ce.T)(se))return function z(se){return new ge.y(me=>{for(const we of se)if(me.next(we),me.closed)return;me.complete()})}(se);if((0,de.L)(se))return function Se(se){return ae((0,de.Q)(se))}(se)}throw(0,ne.z)(se)}function ae(se){return new ge.y(me=>{(function Oe(se,me){var we,$e,He,re;return(0,f.mG)(this,void 0,void 0,function*(){try{for(we=(0,f.KL)(se);!($e=yield we.next()).done;)if(me.next($e.value),me.closed)return}catch(K){He={error:K}}finally{try{$e&&!$e.done&&(re=we.return)&&(yield re.call(we))}finally{if(He)throw He.error}}me.complete()})})(se,me).catch(we=>me.error(we))})}},6451:(et,Ae,P)=>{"use strict";P.d(Ae,{T:()=>pe});var f=P(8189),J=P(8421),R=P(515),ge=P(7669),ee=P(8996);function pe(...ne){const ce=(0,ge.yG)(ne),de=(0,ge._6)(ne,1/0),j=ne;return j.length?1===j.length?(0,J.Xf)(j[0]):(0,f.J)(de)((0,ee.D)(j,ce)):R.E}},5403:(et,Ae,P)=>{"use strict";P.d(Ae,{x:()=>J});var f=P(2961);function J(ge,ee,pe,ne,ce){return new R(ge,ee,pe,ne,ce)}class R extends f.Lv{constructor(ee,pe,ne,ce,de,j){super(ee),this.onFinalize=de,this.shouldUnsubscribe=j,this._next=pe?function(U){try{pe(U)}catch(Q){ee.error(Q)}}:super._next,this._error=ce?function(U){try{ce(U)}catch(Q){ee.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(U){ee.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(et,Ae,P)=>{"use strict";P.d(Ae,{U:()=>R});var f=P(4482),J=P(5403);function R(ge,ee){return(0,f.e)((pe,ne)=>{let ce=0;pe.subscribe((0,J.x)(ne,de=>{ne.next(ge.call(ee,de,ce++))}))})}},8189:(et,Ae,P)=>{"use strict";P.d(Ae,{J:()=>R});var f=P(5577),J=P(4671);function R(ge=1/0){return(0,f.z)(J.y,ge)}},5577:(et,Ae,P)=>{"use strict";P.d(Ae,{z:()=>ce});var f=P(4004),J=P(8421),R=P(4482),ge=P(9672),ee=P(5403),ne=P(576);function ce(de,j,U=1/0){return(0,ne.m)(j)?ce((Q,Be)=>(0,f.U)((Ce,xe)=>j(Q,Ce,Be,xe))((0,J.Xf)(de(Q,Be))),U):("number"==typeof j&&(U=j),(0,R.e)((Q,Be)=>function pe(de,j,U,Q,Be,Ce,xe,Ve){const z=[];let ae=0,Se=0,Oe=!1;const se=()=>{Oe&&!z.length&&!ae&&j.complete()},me=$e=>ae<Q?we($e):z.push($e),we=$e=>{Ce&&j.next($e),ae++;let He=!1;(0,J.Xf)(U($e,Se++)).subscribe((0,ee.x)(j,re=>{null==Be||Be(re),Ce?me(re):j.next(re)},()=>{He=!0},void 0,()=>{if(He)try{for(ae--;z.length&&ae<Q;){const re=z.shift();xe?(0,ge.f)(j,xe,()=>we(re)):we(re)}se()}catch(re){j.error(re)}}))};return de.subscribe((0,ee.x)(j,me,()=>{Oe=!0,se()})),()=>{null==Ve||Ve()}}(Q,Be,de,U)))}},5363:(et,Ae,P)=>{"use strict";P.d(Ae,{Q:()=>ge});var f=P(9672),J=P(4482),R=P(5403);function ge(ee,pe=0){return(0,J.e)((ne,ce)=>{ne.subscribe((0,R.x)(ce,de=>(0,f.f)(ce,ee,()=>ce.next(de),pe),()=>(0,f.f)(ce,ee,()=>ce.complete(),pe),de=>(0,f.f)(ce,ee,()=>ce.error(de),pe)))})}},3099:(et,Ae,P)=>{"use strict";P.d(Ae,{B:()=>pe});var f=P(8996),J=P(5698),R=P(7579),ge=P(2961),ee=P(4482);function pe(ce={}){const{connector:de=(()=>new R.x),resetOnError:j=!0,resetOnComplete:U=!0,resetOnRefCountZero:Q=!0}=ce;return Be=>{let Ce=null,xe=null,Ve=null,z=0,ae=!1,Se=!1;const Oe=()=>{null==xe||xe.unsubscribe(),xe=null},se=()=>{Oe(),Ce=Ve=null,ae=Se=!1},me=()=>{const we=Ce;se(),null==we||we.unsubscribe()};return(0,ee.e)((we,$e)=>{z++,!Se&&!ae&&Oe();const He=Ve=null!=Ve?Ve:de();$e.add(()=>{z--,0===z&&!Se&&!ae&&(xe=ne(me,Q))}),He.subscribe($e),Ce||(Ce=new ge.Hp({next:re=>He.next(re),error:re=>{Se=!0,Oe(),xe=ne(se,j,re),He.error(re)},complete:()=>{ae=!0,Oe(),xe=ne(se,U),He.complete()}}),(0,f.D)(we).subscribe(Ce))})(Be)}}function ne(ce,de,...j){return!0===de?(ce(),null):!1===de?null:de(...j).pipe((0,J.q)(1)).subscribe(()=>ce())}},9468:(et,Ae,P)=>{"use strict";P.d(Ae,{R:()=>J});var f=P(4482);function J(R,ge=0){return(0,f.e)((ee,pe)=>{pe.add(R.schedule(()=>ee.subscribe(pe),ge))})}},5698:(et,Ae,P)=>{"use strict";P.d(Ae,{q:()=>ge});var f=P(515),J=P(4482),R=P(5403);function ge(ee){return ee<=0?()=>f.E:(0,J.e)((pe,ne)=>{let ce=0;pe.subscribe((0,R.x)(ne,de=>{++ce<=ee&&(ne.next(de),ee<=ce&&ne.complete())}))})}},8505:(et,Ae,P)=>{"use strict";P.d(Ae,{b:()=>ee});var f=P(576),J=P(4482),R=P(5403),ge=P(4671);function ee(pe,ne,ce){const de=(0,f.m)(pe)||ne||ce?{next:pe,error:ne,complete:ce}:pe;return de?(0,J.e)((j,U)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let Be=!0;j.subscribe((0,R.x)(U,Ce=>{var xe;null===(xe=de.next)||void 0===xe||xe.call(de,Ce),U.next(Ce)},()=>{var Ce;Be=!1,null===(Ce=de.complete)||void 0===Ce||Ce.call(de),U.complete()},Ce=>{var xe;Be=!1,null===(xe=de.error)||void 0===xe||xe.call(de,Ce),U.error(Ce)},()=>{var Ce,xe;Be&&(null===(Ce=de.unsubscribe)||void 0===Ce||Ce.call(de)),null===(xe=de.finalize)||void 0===xe||xe.call(de)}))}):ge.y}},4408:(et,Ae,P)=>{"use strict";P.d(Ae,{o:()=>ee});var f=P(727);class J extends f.w0{constructor(ne,ce){super()}schedule(ne,ce=0){return this}}const R={setInterval(...pe){const{delegate:ne}=R;return((null==ne?void 0:ne.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:ne}=R;return((null==ne?void 0:ne.clearInterval)||clearInterval)(pe)},delegate:void 0};var ge=P(8737);class ee extends J{constructor(ne,ce){super(ne,ce),this.scheduler=ne,this.work=ce,this.pending=!1}schedule(ne,ce=0){if(this.closed)return this;this.state=ne;const de=this.id,j=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(j,de,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(j,this.id,ce),this}requestAsyncId(ne,ce,de=0){return R.setInterval(ne.flush.bind(ne,this),de)}recycleAsyncId(ne,ce,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ce;R.clearInterval(ce)}execute(ne,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ne,ce);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ce){let j,de=!1;try{this.work(ne)}catch(U){de=!0,j=U||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ce}=this,{actions:de}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(de,this),null!=ne&&(this.id=this.recycleAsyncId(ce,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,Ae,P)=>{"use strict";P.d(Ae,{v:()=>R});var f=P(6063);class J{constructor(ee,pe=J.now){this.schedulerActionCtor=ee,this.now=pe}schedule(ee,pe=0,ne){return new this.schedulerActionCtor(this,ee).schedule(ne,pe)}}J.now=f.l.now;class R extends J{constructor(ee,pe=J.now){super(ee,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:pe}=this;if(this._active)return void pe.push(ee);let ne;this._active=!0;do{if(ne=ee.execute(ee.state,ee.delay))break}while(ee=pe.shift());if(this._active=!1,ne){for(;ee=pe.shift();)ee.unsubscribe();throw ne}}}},4986:(et,Ae,P)=>{"use strict";P.d(Ae,{z:()=>R});var f=P(4408);const R=new(P(7565).v)(f.o)},6063:(et,Ae,P)=>{"use strict";P.d(Ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(et,Ae,P)=>{"use strict";P.d(Ae,{z:()=>f});const f={setTimeout(...J){const{delegate:R}=f;return((null==R?void 0:R.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:R}=f;return((null==R?void 0:R.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(et,Ae,P)=>{"use strict";P.d(Ae,{h:()=>J});const J=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,Ae,P)=>{"use strict";P.d(Ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(et,Ae,P)=>{"use strict";P.d(Ae,{_6:()=>pe,jO:()=>ge,yG:()=>ee});var f=P(576);function R(ne){return ne[ne.length-1]}function ge(ne){return(0,f.m)(R(ne))?ne.pop():void 0}function ee(ne){return function J(ne){return ne&&(0,f.m)(ne.schedule)}(R(ne))?ne.pop():void 0}function pe(ne,ce){return"number"==typeof R(ne)?ne.pop():ce}},8737:(et,Ae,P)=>{"use strict";function f(J,R){if(J){const ge=J.indexOf(R);0<=ge&&J.splice(ge,1)}}P.d(Ae,{P:()=>f})},3888:(et,Ae,P)=>{"use strict";function f(J){const ge=J(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}P.d(Ae,{d:()=>f})},2806:(et,Ae,P)=>{"use strict";P.d(Ae,{x:()=>R,O:()=>ge});var f=P(2416);let J=null;function R(ee){if(f.v.useDeprecatedSynchronousErrorHandling){const pe=!J;if(pe&&(J={errorThrown:!1,error:null}),ee(),pe){const{errorThrown:ne,error:ce}=J;if(J=null,ne)throw ce}}else ee()}function ge(ee){f.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ee)}},9672:(et,Ae,P)=>{"use strict";function f(J,R,ge,ee=0,pe=!1){const ne=R.schedule(function(){ge(),pe?J.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(J.add(ne),!pe)return ne}P.d(Ae,{f:()=>f})},4671:(et,Ae,P)=>{"use strict";function f(J){return J}P.d(Ae,{y:()=>f})},1144:(et,Ae,P)=>{"use strict";P.d(Ae,{z:()=>f});const f=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(et,Ae,P)=>{"use strict";P.d(Ae,{D:()=>J});var f=P(576);function J(R){return Symbol.asyncIterator&&(0,f.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(et,Ae,P)=>{"use strict";function f(J){return"function"==typeof J}P.d(Ae,{m:()=>f})},3670:(et,Ae,P)=>{"use strict";P.d(Ae,{c:()=>R});var f=P(8822),J=P(576);function R(ge){return(0,J.m)(ge[f.L])}},6495:(et,Ae,P)=>{"use strict";P.d(Ae,{T:()=>R});var f=P(2202),J=P(576);function R(ge){return(0,J.m)(null==ge?void 0:ge[f.h])}},8239:(et,Ae,P)=>{"use strict";P.d(Ae,{t:()=>J});var f=P(576);function J(R){return(0,f.m)(null==R?void 0:R.then)}},3260:(et,Ae,P)=>{"use strict";P.d(Ae,{Q:()=>R,L:()=>ge});var f=P(655),J=P(576);function R(ee){return(0,f.FC)(this,arguments,function*(){const ne=ee.getReader();try{for(;;){const{value:ce,done:de}=yield(0,f.qq)(ne.read());if(de)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ce)}}finally{ne.releaseLock()}})}function ge(ee){return(0,J.m)(null==ee?void 0:ee.getReader)}},4482:(et,Ae,P)=>{"use strict";P.d(Ae,{A:()=>J,e:()=>R});var f=P(576);function J(ge){return(0,f.m)(null==ge?void 0:ge.lift)}function R(ge){return ee=>{if(J(ee))return ee.lift(function(pe){try{return ge(pe,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(et,Ae,P)=>{"use strict";P.d(Ae,{h:()=>R});var f=P(2416),J=P(3410);function R(ge){J.z.setTimeout(()=>{const{onUnhandledError:ee}=f.v;if(!ee)throw ge;ee(ge)})}},4532:(et,Ae,P)=>{"use strict";function f(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ae,{z:()=>f})},655:(et,Ae,P)=>{"use strict";function ge(K,ie){var _e={};for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)&&ie.indexOf(oe)<0&&(_e[oe]=K[oe]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(oe=Object.getOwnPropertySymbols(K);Ne<oe.length;Ne++)ie.indexOf(oe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(K,oe[Ne])&&(_e[oe[Ne]]=K[oe[Ne]])}return _e}function ce(K,ie,_e,oe){return new(_e||(_e=Promise))(function(he,yt){function Bt(ot){try{rt(oe.next(ot))}catch(Fn){yt(Fn)}}function Mn(ot){try{rt(oe.throw(ot))}catch(Fn){yt(Fn)}}function rt(ot){ot.done?he(ot.value):function Ne(he){return he instanceof _e?he:new _e(function(yt){yt(he)})}(ot.value).then(Bt,Mn)}rt((oe=oe.apply(K,ie||[])).next())})}function z(K){return this instanceof z?(this.v=K,this):new z(K)}function ae(K,ie,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,oe=_e.apply(K,ie||[]),he=[];return Ne={},yt("next"),yt("throw"),yt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function yt(Qt){oe[Qt]&&(Ne[Qt]=function(gr){return new Promise(function(qt,Hi){he.push([Qt,gr,qt,Hi])>1||Bt(Qt,gr)})})}function Bt(Qt,gr){try{!function Mn(Qt){Qt.value instanceof z?Promise.resolve(Qt.value.v).then(rt,ot):Fn(he[0][2],Qt)}(oe[Qt](gr))}catch(qt){Fn(he[0][3],qt)}}function rt(Qt){Bt("next",Qt)}function ot(Qt){Bt("throw",Qt)}function Fn(Qt,gr){Qt(gr),he.shift(),he.length&&Bt(he[0][0],he[0][1])}}function Oe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ie=K[Symbol.asyncIterator];return ie?ie.call(K):(K=function Q(K){var ie="function"==typeof Symbol&&Symbol.iterator,_e=ie&&K[ie],oe=0;if(_e)return _e.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&oe>=K.length&&(K=void 0),{value:K&&K[oe++],done:!K}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),_e={},oe("next"),oe("throw"),oe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function oe(he){_e[he]=K[he]&&function(yt){return new Promise(function(Bt,Mn){!function Ne(he,yt,Bt,Mn){Promise.resolve(Mn).then(function(rt){he({value:rt,done:Bt})},yt)}(Bt,Mn,(yt=K[he](yt)).done,yt.value)})}}}P.d(Ae,{_T:()=>ge,mG:()=>ce,qq:()=>z,FC:()=>ae,KL:()=>Oe})},5e3:(et,Ae,P)=>{"use strict";P.d(Ae,{deG:()=>yg,tb:()=>Pc,AFp:()=>xE,ip1:()=>Ia,CZH:()=>Rc,hGG:()=>e0,z2F:()=>Vh,sBO:()=>_l,Sil:()=>Rp,_Vd:()=>Eh,EJc:()=>oy,SBq:()=>ya,qLn:()=>cr,vpe:()=>va,tBr:()=>Yr,XFs:()=>ht,OlP:()=>fn,zs3:()=>eo,ZZ4:()=>Bh,aQg:()=>wy,soG:()=>Fh,YKP:()=>cl,h0i:()=>Cc,PXZ:()=>ml,R0b:()=>Cs,FiY:()=>mi,Lbi:()=>gl,g9A:()=>pl,Qsj:()=>iE,FYo:()=>zm,JOm:()=>le,q3G:()=>Ht,tp0:()=>_i,Rgc:()=>Mp,dDg:()=>FE,q4F:()=>Ih,GfV:()=>oE,s_b:()=>hl,ifc:()=>Ot,eFA:()=>BE,G48:()=>hb,Gpc:()=>U,X6Q:()=>Uh,_c5:()=>bb,VLi:()=>hy,c2e:()=>NE,zSh:()=>X_,wAp:()=>lt,vHH:()=>xe,EiD:()=>Xl,mCW:()=>ru,qzn:()=>No,JVY:()=>ff,pB0:()=>Dd,eBb:()=>wg,L6k:()=>bd,LAX:()=>Ig,cg1:()=>Pm,kL8:()=>Qi,yhl:()=>nu,dqk:()=>Ft,sIi:()=>cc,CqO:()=>gm,QGY:()=>pm,F4k:()=>eh,RDi:()=>Dl,AaK:()=>ce,z3N:()=>ws,qOj:()=>im,TTD:()=>Zo,_Bn:()=>CI,xp6:()=>D_,uIk:()=>am,Tol:()=>oh,ekj:()=>Rv,Suo:()=>IE,Xpm:()=>on,lG2:()=>Du,Yz7:()=>qt,cJS:()=>zt,oAB:()=>Ar,Yjl:()=>Sa,Y36:()=>np,_UZ:()=>ei,BQk:()=>sp,ynx:()=>hc,qZA:()=>rp,TgZ:()=>nl,EpF:()=>Dv,n5z:()=>$n,LFG:()=>Fe,$8M:()=>_s,$Z:()=>tl,NdJ:()=>op,CRH:()=>bE,oxw:()=>_m,ALo:()=>dE,Dn7:()=>Ur,Q6J:()=>hm,VKq:()=>kI,iGM:()=>Sh,CHM:()=>Va,oJD:()=>Ad,LSH:()=>Gu,Udp:()=>Nv,d8E:()=>Rm,YNc:()=>Xf,_uU:()=>cp,Oqu:()=>pc,hij:()=>gc});var f=P(7579),J=P(727),R=P(8306),ge=P(6451),ee=P(3099);function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function ne(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function de(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=pe({__forward_ref__:pe});function U(i){return i.__forward_ref__=U,i.toString=function(){return ce(this())},i}function Q(i){return Be(i)?i():i}function Be(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===U}class xe extends Error{constructor(s,a){super(function Ve(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function z(i){return"string"==typeof i?i:null==i?"":String(i)}function ae(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():z(i)}function me(i,s){const a=s?` in ${s}`:"";throw new xe(-201,`No provider for ${ae(i)} found${a}`)}function rt(i,s){null==i&&function ot(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Rt(i){return ns(i,$i)||ns(i,ai)}function ns(i,s){return i.hasOwnProperty(s)?i[s]:null}function Cr(i){return i&&(i.hasOwnProperty(Ns)||i.hasOwnProperty(Gi))?i[Ns]:null}const $i=pe({\u0275prov:pe}),Ns=pe({\u0275inj:pe}),ai=pe({ngInjectableDef:pe}),Gi=pe({ngInjectorDef:pe});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let $r;function In(i){const s=$r;return $r=i,s}function co(i,s,a){const l=Rt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ht.Optional?null:void 0!==s?s:void me(ce(i),"Injector")}function Qe(i){return{toString:i}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),Ot=(()=>{return(i=Ot||(Ot={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ot;var i})();const Je="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,Ni="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=Je||"undefined"!=typeof global&&global||at||Ni,ui={},V=[],H=pe({\u0275cmp:pe}),G=pe({\u0275dir:pe}),be=pe({\u0275pipe:pe}),X=pe({\u0275mod:pe}),qe=pe({\u0275fac:pe}),ft=pe({__NG_ELEMENT_ID__:pe});let Jt=0;function on(i){return Qe(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ot.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,_=i.pipes;return l.id+=Jt++,l.inputs=Aa(i.inputs,a),l.outputs=Aa(i.outputs),p&&p.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(qr):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(Mt):null,l})}function qr(i){return Un(i)||function Sr(i){return i[G]||null}(i)}function Mt(i){return function is(i){return i[be]||null}(i)}const Vn={};function Ar(i){return Qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Vn[i.id]=i.type),s})}function Aa(i,s){if(null==i)return ui;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,s&&(s[d]=p)}return a}const Du=on;function Sa(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Un(i){return i[H]||null}function Bn(i,s){const a=i[X]||null;if(!a&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return a}function Ri(i){return Array.isArray(i)&&"object"==typeof i[1]}function li(i){return Array.isArray(i)&&!0===i[1]}function Zc(i){return 0!=(8&i.flags)}function Tu(i){return 2==(2&i.flags)}function ks(i){return 1==(1&i.flags)}function ci(i){return null!==i.template}function Yh(i){return 0!=(512&i[2])}function di(i,s){return i.hasOwnProperty(qe)?i[qe]:null}class Ls{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Zo(){return Yo}function Yo(i){return i.type.prototype.ngOnChanges&&(i.setInput=fg),td}function td(){const i=nd(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===ui)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function fg(i,s,a,l){const d=nd(i)||function ls(i,s){return i[Vs]=s}(i,{previous:ui,current:null}),p=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],I=_[w];p[w]=new Ls(I&&I.currentValue,s,_===ui),i[l]=s}Zo.ngInherit=!0;const Vs="__ngSimpleChanges__";function nd(i){return i[Vs]||null}let Mu;function Dl(i){Mu=i}function cs(){return void 0!==Mu?Mu:"undefined"!=typeof document?document:void 0}function tn(i){return!!i.listen}const Na={createRenderer:(i,s)=>cs()};function Kt(i){for(;Array.isArray(i);)i=i[0];return i}function mo(i,s){return Kt(s[i])}function Zn(i,s){return Kt(s[i.index])}function mn(i,s){return i.data[s]}function Yn(i,s){const a=s[i];return Ri(a)?a:a[0]}function Qo(i){return 4==(4&i[2])}function qi(i){return 128==(128&i[2])}function Kr(i,s){return null==s?null:i[s]}function Bs(i){i[18]=0}function js(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ut={lFrame:vo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Al(){return ut.bindingsEnabled}function De(){return ut.lFrame.lView}function Nt(){return ut.lFrame.tView}function Va(i){return ut.lFrame.contextLView=i,i[8]}function hn(){let i=Hs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Hs(){return ut.lFrame.currentTNode}function xr(i,s){const a=ut.lFrame;a.currentTNode=i,a.isParent=s}function Sl(){return ut.lFrame.isParent}function Ml(){ut.lFrame.isParent=!1}function Ba(){return ut.isInCheckNoChangesMode}function Jo(i){ut.isInCheckNoChangesMode=i}function jn(){const i=ut.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function zi(){return ut.lFrame.bindingIndex++}function hs(i){const s=ut.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Ha(i,s){const a=ut.lFrame;a.bindingIndex=a.bindingRootIndex=i,yo(s)}function yo(i){ut.lFrame.currentDirectiveIndex=i}function Nu(i){const s=ut.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function $a(){return ut.lFrame.currentQueryIndex}function Ol(i){ut.lFrame.currentQueryIndex=i}function pg(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ru(i,s,a){if(a&ht.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&ht.Host||(d=pg(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const l=ut.lFrame=Nl();return l.currentTNode=s,l.lView=i,!0}function _o(i){const s=Nl(),a=i[1];ut.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Nl(){const i=ut.lFrame,s=null===i?null:i.child;return null===s?vo(i):s}function vo(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function dd(){const i=ut.lFrame;return ut.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Xh=dd;function Xo(){const i=dd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Qn(){return ut.lFrame.selectedIndex}function fs(i){ut.lFrame.selectedIndex=i}function yn(){const i=ut.lFrame;return mn(i.tView,i.selectedIndex)}function ps(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:C,ngOnDestroy:M}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),C&&((i.viewHooks||(i.viewHooks=[])).push(a,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,C)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Ga(i,s,a){Jn(i,s,3,a)}function Pl(i,s,a,l){(3&i[2])===a&&Jn(i,s,a,l)}function Pu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Jn(i,s,a,l){const p=null!=l?l:-1,_=s.length-1;let w=0;for(let I=void 0!==l?65535&i[18]:0;I<_;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=l&&w>=l)break}else s[I]<0&&(i[18]+=65536),(w<p||-1==p)&&(nf(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function nf(i,s,a,l){const d=a[l]<0,p=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class ea{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Dn(i,s,a){const l=tn(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],w=a[d++],I=a[d++];l?i.setAttribute(s,w,I,_):s.setAttributeNS(_,w,I)}else{const _=p,w=a[++d];Xn(_)?l&&i.setProperty(s,_,w):l?i.setAttribute(s,_,w):s.setAttribute(_,w),d++}}return d}function it(i){return 3===i||4===i||6===i}function Xn(i){return 64===i.charCodeAt(0)}function Or(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||Hn(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function Hn(i,s,a,l,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}function pd(i){return-1!==i}function dn(i){return 32767&i}function $s(i,s){let a=function kl(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let ta=!0;function wo(i){const s=ta;return ta=i,s}let rf=0;function ys(i,s){const a=Gs(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Tn(l.data,i),Tn(s,null),Tn(l.blueprint,null));const d=ku(i,s),p=i.injectorIndex;if(pd(d)){const _=dn(d),w=$s(d,s),I=w[1].data;for(let C=0;C<8;C++)s[p+C]=w[_+C]|I[_+C]}return s[p+8]=d,p}function Tn(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Gs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ku(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const p=d[1],_=p.type;if(l=2===_?p.declTNode:1===_?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Nr(i,s,a){!function Wa(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(l=a[ft]),null==l&&(l=a[ft]=rf++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Ka(i,s,a){if(a&ht.Optional)return i;me(s,"NodeInjector")}function qs(i,s,a,l){if(a&ht.Optional&&void 0===l&&(l=null),0==(a&(ht.Self|ht.Host))){const d=i[9],p=In(void 0);try{return d?d.get(s,l,a&ht.Optional):co(s,l,a&ht.Optional)}finally{In(p)}}return Ka(l,s,a)}function zs(i,s,a,l=ht.Default,d){if(null!==i){const p=function gd(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ft)?i[ft]:void 0;return"number"==typeof s?s>=0?255&s:Io:s}(a);if("function"==typeof p){if(!Ru(s,i,l))return l&ht.Host?Ka(d,a,l):qs(s,a,l,d);try{const _=p(l);if(null!=_||l&ht.Optional)return _;me(a)}finally{Xh()}}else if("number"==typeof p){let _=null,w=Gs(i,s),I=-1,C=l&ht.Host?s[16][6]:null;for((-1===w||l&ht.SkipSelf)&&(I=-1===w?ku(i,s):s[w+8],-1!==I&&Za(l,!1)?(_=s[1],w=dn(I),s=$s(I,s)):w=-1);-1!==w;){const M=s[1];if(Rr(p,w,M.data)){const k=ra(w,s,a,_,l,C);if(k!==Lu)return k}I=s[w+8],-1!==I&&Za(l,s[1].data[w+8]===C)&&Rr(p,w,s)?(_=M,w=dn(I),s=$s(I,s)):w=-1}}}return qs(s,a,l,d)}const Lu={};function Io(){return new Ws(hn(),De())}function ra(i,s,a,l,d,p){const _=s[1],w=_.data[i+8],M=Ll(w,_,a,null==l?Tu(w)&&ta:l!=_&&0!=(3&w.type),d&ht.Host&&p===w);return null!==M?vr(s,_,M,w):Lu}function Ll(i,s,a,l,d){const p=i.providerIndexes,_=s.data,w=1048575&p,I=i.directiveStart,M=p>>20,B=d?w+M:i.directiveEnd;for(let Y=l?w:w+M;Y<B;Y++){const ve=_[Y];if(Y<I&&a===ve||Y>=I&&ve.type===a)return Y}if(d){const Y=_[I];if(Y&&ci(Y)&&Y.type===a)return I}return null}function vr(i,s,a,l){let d=i[a];const p=s.data;if(function gg(i){return i instanceof ea}(d)){const _=d;_.resolving&&function Se(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(ae(p[a]));const w=wo(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?In(_.injectImpl):null;Ru(i,l,ht.Default);try{d=i[a]=_.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Rl(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const _=Yo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&In(I),wo(w),_.resolving=!1,Xh()}}return d}function Rr(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Za(i,s){return!(i&ht.Self||i&ht.Host&&s)}class Ws{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return zs(this._tNode,this._lView,s,l,a)}}function $n(i){return Qe(()=>{const s=i.prototype.constructor,a=s[qe]||ia(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[qe]||ia(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function ia(i){return Be(i)?()=>{const s=ia(Q(i));return s&&s()}:di(i)}function _s(i){return function Fu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(it(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(hn(),i)}const fi="__parameters__";function bo(i,s,a){return Qe(()=>{const l=function tr(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return w.annotation=_,w;function w(I,C,M){const k=I.hasOwnProperty(fi)?I[fi]:Object.defineProperty(I,fi,{value:[]})[fi];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yg=new fn("AnalyzeForEntryComponents");function Er(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Er(l,s)):s!==i&&s.push(l)}return s}function pi(i,s){i.forEach(a=>Array.isArray(a)?pi(a,s):s(a))}function Bl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Co(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Gn(i,s,a){let l=Ao(i,s);return l>=0?i[1|l]=a:(l=~l,function jl(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function $l(i,s){const a=Ao(i,s);if(a>=0)return i[1|a]}function Ao(i,s){return function yd(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=i[p<<a];if(s===_)return p<<a;_>s?d=p:l=p+1}return~(d<<a)}(i,s,1)}const Qs={},ua="__NG_DI_FLAG__",Ja="ngTempTokenPath",D=/\n/gm,x="__source",F=pe({provide:String,useValue:pe});let W;function te(i){const s=W;return W=i,s}function fe(i,s=ht.Default){if(void 0===W)throw new xe(203,"");return null===W?co(i,void 0,s):W.get(i,s&ht.Optional?null:void 0,s)}function Fe(i,s=ht.Default){return(function Ln(){return $r}()||fe)(Q(i),s)}function Zt(i){const s=[];for(let a=0;a<i.length;a++){const l=Q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new xe(900,"");let d,p=ht.Default;for(let _=0;_<l.length;_++){const w=l[_],I=lr(w);"number"==typeof I?-1===I?d=w.token:p|=I:d=w}s.push(Fe(d,p))}else s.push(Fe(l))}return s}function Cn(i,s){return i[ua]=s,i.prototype[ua]=s,i}function lr(i){return i[ua]}const Yr=Cn(bo("Inject",i=>({token:i})),-1),mi=Cn(bo("Optional"),8),_i=Cn(bo("SkipSelf"),4);let Mo,Ed;function tu(i){var s;return(null===(s=function vd(){if(void 0===Mo&&(Mo=null,Ft.trustedTypes))try{Mo=Ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Mo}())||void 0===s?void 0:s.createHTML(i))||i}function cf(i){var s;return(null===(s=function Hu(){if(void 0===Ed&&(Ed=null,Ft.trustedTypes))try{Ed=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ed}())||void 0===s?void 0:s.createHTML(i))||i}class Oo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class df extends Oo{getTypeName(){return"HTML"}}class Ky extends Oo{getTypeName(){return"Style"}}class Wl extends Oo{getTypeName(){return"Script"}}class hf extends Oo{getTypeName(){return"URL"}}class Zy extends Oo{getTypeName(){return"ResourceURL"}}function ws(i){return i instanceof Oo?i.changingThisBreaksApplicationSecurity:i}function No(i,s){const a=nu(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function nu(i){return i instanceof Oo&&i.getTypeName()||null}function ff(i){return new df(i)}function bd(i){return new Ky(i)}function wg(i){return new Wl(i)}function Ig(i){return new hf(i)}function Dd(i){return new Zy(i)}class Yy{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(tu(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Qy{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=tu(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=tu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Xs=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ru(i){return(i=String(i)).match(Xs)||i.match(pf)?i:"unsafe:"+i}function Vi(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Kl(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Dg=Vi("area,br,col,hr,img,wbr"),Td=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cd=Vi("rp,rt"),mf=Kl(Dg,Kl(Td,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kl(Cd,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kl(Cd,Td)),yf=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_f=Vi("srcset"),la=Kl(yf,_f,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xy=Vi("script,style,template");class Yl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!mf.hasOwnProperty(a))return this.sanitizedSomething=!0,!Xy.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),_=p.name,w=_.toLowerCase();if(!la.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=p.value;yf[w]&&(I=ru(I)),_f[w]&&(i=I,I=(i=String(i)).split(",").map(s=>ru(s.trim())).join(", ")),this.buf.push(" ",_,'="',Ef(I),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();mf.hasOwnProperty(a)&&!Dg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ef(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Ql=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vf=/([^\#-~ |!])/g;function Ef(i){return i.replace(/&/g,"&amp;").replace(Ql,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(vf,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jl;function Xl(i,s){let a=null;try{Jl=Jl||function bg(i){const s=new Qy(i);return function Jy(){try{return!!(new window.DOMParser).parseFromString(tu(""),"text/html")}catch(i){return!1}}()?new Yy(s):s}(i);let l=s?String(s):"";a=Jl.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=a.innerHTML,a=Jl.getInertBodyElement(l)}while(l!==p);return tu((new Yl).sanitizeChildren(wf(a)||a))}finally{if(a){const l=wf(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function wf(i){return"content"in i&&function If(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ht=(()=>((Ht=Ht||{})[Ht.NONE=0]="NONE",Ht[Ht.HTML=1]="HTML",Ht[Ht.STYLE=2]="STYLE",Ht[Ht.SCRIPT=3]="SCRIPT",Ht[Ht.URL=4]="URL",Ht[Ht.RESOURCE_URL=5]="RESOURCE_URL",Ht))();function Ad(i){const s=Ro();return s?cf(s.sanitize(Ht.HTML,i)||""):No(i,"HTML")?cf(ws(i)):Xl(cs(),z(i))}function Gu(i){const s=Ro();return s?s.sanitize(Ht.URL,i)||"":No(i,"URL")?ws(i):ru(z(i))}function Ro(){const i=De();return i&&i[12]}const bf="__ngContext__";function Pr(i,s){i[bf]=s}function Df(i){const s=function su(i){return i[bf]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function uu(i){return i.ngOriginalError}function Og(i,...s){i.error(...s)}class cr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function o_(i){return i&&i.ngErrorLogger||Og}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&uu(s);for(;a&&uu(a);)a=uu(a);return a||null}}const Ng=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function g(i){return i instanceof Function?i():i}var le=(()=>((le=le||{})[le.Important=1]="Important",le[le.DashCase=2]="DashCase",le))();function Ze(i,s){return undefined(i,s)}function _n(i){const s=i[3];return li(s)?s[3]:s}function qu(i){return Nf(i[13])}function zu(i){return Nf(i[4])}function Nf(i){for(;null!==i&&!li(i);)i=i[4];return i}function da(i,s,a,l,d){if(null!=l){let p,_=!1;li(l)?p=l:Ri(l)&&(_=!0,l=l[0]);const w=Kt(l);0===i&&null!==a?null==d?m_(s,a,w):Is(s,a,w,d||null,!0):1===i&&null!==a?Is(s,a,w,d||null,!0):2===i?function E_(i,s,a){const l=Ff(i,s);l&&function pD(i,s,a,l){tn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function sc(i,s,a,l,d){const p=a[7];p!==Kt(a)&&da(s,i,l,p,d);for(let w=10;w<a.length;w++){const I=a[w];Fg(I[1],I,i,s,l,p)}}(s,i,p,a,d)}}function Nd(i,s,a){if(tn(i))return i.createElement(s,a);{const l=null!==a?function Su(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function D0(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,js(d,-1)),a.splice(l,1)}function f_(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&D0(d,l),s>0&&(i[a-1][4]=l[4]);const p=Co(i,10+s);!function Ei(i,s){Fg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function p_(i,s){if(!(256&s[2])){const a=s[11];tn(a)&&a.destroyNode&&Fg(i,s,a,3,null,null),function kf(i){let s=i[13];if(!s)return g_(i[1],i);for(;s;){let a=null;if(Ri(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Ri(s)&&g_(s[1],s),s=s[3];null===s&&(s=i),Ri(s)&&g_(s[1],s),a=s&&s[4]}s=a}}(s)}}function g_(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function C0(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof ea)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=d[p[_]],I=p[_+1];try{I.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function T0(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(s):Kt(s[_]),I=l[d=a[p+2]],C=a[p+3];"boolean"==typeof C?w.removeEventListener(a[p],I,C):C>=0?l[d=C]():l[d=-C].unsubscribe(),p+=2}else{const _=l[d=a[p+1]];a[p].call(_)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&tn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&li(s[3])){a!==s[3]&&D0(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function Pg(i,s,a){return function fD(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Ot.None||d===Ot.Emulated)return null}return Zn(l,a)}(i,s.parent,a)}function Is(i,s,a,l,d){tn(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function m_(i,s,a){tn(i)?i.appendChild(s,a):s.appendChild(a)}function A0(i,s,a,l,d){null!==l?Is(i,s,a,l,d):m_(i,s,a)}function Ff(i,s){return tn(i)?i.parentNode(s):s.parentNode}let y_=function M0(i,s,a){return 40&i.type?Zn(i,a):null};function kg(i,s,a,l){const d=Pg(i,l,s),p=s[11],w=function S0(i,s,a){return y_(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)A0(p,d,a[I],w,!1);else A0(p,d,a,w,!1)}function kd(i,s){if(null!==s){const a=s.type;if(3&a)return Zn(s,i);if(4&a)return v_(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return kd(i,l);{const d=i[s.index];return li(d)?v_(-1,d):Kt(d)}}if(32&a)return Ze(s,i)()||Kt(i[s.index]);{const l=O0(i,s);return null!==l?Array.isArray(l)?l[0]:kd(_n(i[16]),l):kd(i,s.next)}}return null}function O0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function v_(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return kd(l,d)}return s[7]}function w_(i,s,a,l,d,p,_){for(;null!=a;){const w=l[a.index],I=a.type;if(_&&0===s&&(w&&Pr(Kt(w),l),a.flags|=4),64!=(64&a.flags))if(8&I)w_(i,s,a.child,l,d,p,!1),da(s,i,d,w,p);else if(32&I){const C=Ze(a,l);let M;for(;M=C();)da(s,i,d,M,p);da(s,i,d,w,p)}else 16&I?I_(i,s,l,a,d,p):da(s,i,d,w,p);a=_?a.projectionNext:a.next}}function Fg(i,s,a,l,d,p){w_(a,l,i.firstChild,s,d,p,!1)}function I_(i,s,a,l,d,p){const _=a[16],I=_[6].projection[l.projection];if(Array.isArray(I))for(let C=0;C<I.length;C++)da(s,i,d,I[C],p);else w_(i,s,I,_[3],d,p,!0)}function N0(i,s,a){tn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Lg(i,s,a){tn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function R0(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}const P0="ng-template";function Vg(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==R0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function lu(i){return 4===i.type&&i.value!==P0}function k0(i,s,a){return s===(4!==i.type||a?i.value:P0)}function wi(i,s,a){let l=4;const d=i.attrs||[],p=function L0(i){for(let s=0;s<i.length;s++)if(it(i[s]))return s;return i.length}(d);let _=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!_)if(4&l){if(l=2|1&l,""!==I&&!k0(i,I,a)||""===I&&1===s.length){if(kr(l))return!1;_=!0}}else{const C=8&l?I:s[++w];if(8&l&&null!==i.attrs){if(!Vg(i.attrs,C,a)){if(kr(l))return!1;_=!0}continue}const k=yD(8&l?"class":I,d,lu(i),a);if(-1===k){if(kr(l))return!1;_=!0;continue}if(""!==C){let B;B=k>p?"":d[k+1].toLowerCase();const Y=8&l?B:null;if(Y&&-1!==R0(Y,C,0)||2&l&&C!==B){if(kr(l))return!1;_=!0}}}}else{if(!_&&!kr(l)&&!kr(I))return!1;if(_&&kr(I))continue;_=!1,l=I|1&l}}return kr(l)||_}function kr(i){return 0==(1&i)}function yD(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function V0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Lf(i,s,a=!1){for(let l=0;l<s.length;l++)if(wi(i,s[l],a))return!0;return!1}function b_(i,s){return i?":not("+s.trim()+")":s}function B0(i){let s=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!kr(_)&&(s+=b_(p,d),d=""),l=_,p=p||!kr(l);a++}return""!==d&&(s+=b_(p,d)),s}const Et={};function D_(i){T_(Nt(),De(),Qn()+i,Ba())}function T_(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ga(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Pl(s,p,0,a)}fs(a)}function Vf(i,s){return i<<17|s<<2}function ko(i){return i>>17&32767}function Uf(i){return 2|i}function fa(i){return(131068&i)>>2}function Bf(i,s){return-131069&i|s<<2}function Ug(i){return 1|i}function qg(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const _=i.data[p];Ol(d),_.contentQueries(2,s[p],p)}}}function oc(i,s,a,l,d,p,_,w,I,C){const M=s.blueprint.slice();return M[0]=d,M[2]=140|l,Bs(M),M[3]=M[15]=i,M[8]=a,M[10]=_||i&&i[10],M[11]=w||i&&i[11],M[12]=I||i&&i[12]||null,M[9]=C||i&&i[9]||null,M[6]=p,M[16]=2==s.type?i[16]:M,M}function Ku(i,s,a,l,d){let p=i.data[s];if(null===p)p=function X0(i,s,a,l,d){const p=Hs(),_=Sl(),I=i.data[s]=function tw(i,s,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=I),null!==p&&(_?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(i,s,a,l,d),function ja(){return ut.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=function Ua(){const i=ut.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return xr(p,!0),p}function Zu(i,s,a,l){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function cu(i,s,a){_o(s);try{const l=i.viewQuery;null!==l&&Z_(1,l,a);const d=i.template;null!==d&&Ud(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&qg(i,s),i.staticViewQueries&&Z_(2,i.viewQuery,a);const p=i.components;null!==p&&function J0(i,s){for(let a=0;a<s.length;a++)q_(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Xo()}}function du(i,s,a,l){const d=s[2];if(256==(256&d))return;_o(s);const p=Ba();try{Bs(s),function xl(i){return ut.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Ud(i,s,a,2,l);const _=3==(3&d);if(!p)if(_){const C=i.preOrderCheckHooks;null!==C&&Ga(s,C,null)}else{const C=i.preOrderHooks;null!==C&&Pl(s,C,0,null),Pu(s,0)}if(function PD(i){for(let s=qu(i);null!==s;s=zu(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(1024&d[2])&&js(p,1),d[2]|=1024}}}(s),function hw(i){for(let s=qu(i);null!==s;s=zu(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];qi(l)&&du(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&qg(i,s),!p)if(_){const C=i.contentCheckHooks;null!==C&&Ga(s,C)}else{const C=i.contentHooks;null!==C&&Pl(s,C,1),Pu(s,1)}!function TD(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)fs(~d);else{const p=d,_=a[++l],w=a[++l];Ha(_,p),w(2,s[p])}}}finally{fs(-1)}}(i,s);const w=i.components;null!==w&&function CD(i,s){for(let a=0;a<s.length;a++)Jg(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&Z_(2,I,l),!p)if(_){const C=i.viewCheckHooks;null!==C&&Ga(s,C)}else{const C=i.viewHooks;null!==C&&Pl(s,C,2),Pu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,js(s[3],-1))}finally{Xo()}}function Vd(i,s,a,l){const d=s[10],p=!Ba(),_=Qo(s);try{p&&!_&&d.begin&&d.begin(),_&&cu(i,s,l),du(i,s,a,l)}finally{p&&!_&&d.end&&d.end()}}function Ud(i,s,a,l,d){const p=Qn(),_=2&l;try{fs(-1),_&&s.length>20&&T_(i,s,20,Ba()),a(l,d)}finally{fs(p)}}function ew(i,s,a){if(Zc(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function $f(i,s,a){!Al()||(function sw(i,s,a,l){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||ys(a,s),Pr(l,s);const _=a.initialInputs;for(let w=d;w<p;w++){const I=i.data[w],C=ci(I);C&&uw(s,a,I);const M=vr(s,i,w,a);Pr(M,s),null!==_&&RD(0,w-d,M,I,0,_),C&&(Yn(a.index,s)[8]=M)}}(i,s,a,Zn(a,s)),128==(128&a.flags)&&function xD(i,s,a){const l=a.directiveStart,d=a.directiveEnd,_=a.index,w=function cd(){return ut.lFrame.currentDirectiveIndex}();try{fs(_);for(let I=l;I<d;I++){const C=i.data[I],M=s[I];yo(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&j_(C,M)}}finally{fs(-1),yo(w)}}(i,s,a))}function zg(i,s,a=Zn){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?a(s,i):i[_];i[d++]=w}}}function Wg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Gf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Gf(i,s,a,l,d,p,_,w,I,C){const M=20+l,k=M+d,B=function Kg(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Et);return a}(M,k),Y="function"==typeof C?C():C;return B[1]={type:i,blueprint:B,template:a,queries:null,viewQuery:w,declTNode:s,data:B.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:Y,incompleteFirstPass:!1}}function F_(i,s,a,l){const d=pw(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&VD(i).push(l,d.length-1))}function L_(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Ii(i,s,a,l,d,p,_,w){const I=Zn(s,a);let M,C=s.inputs;!w&&null!=C&&(M=C[l])?(Y_(i,a,M,l,d),Tu(s)&&function nw(i,s){const a=Yn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function U_(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,s.value||"",l):d,tn(p)?p.setProperty(I,l,d):Xn(l)||(I.setProperty?I.setProperty(l,d):I[l]=d))}function iw(i,s,a,l){let d=!1;if(Al()){const p=function ow(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];Lf(a,_.selectors,!1)&&(d||(d=[]),Nr(ys(a,s),i,_.type),ci(_)?(H_(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===l?null:{"":-1};if(null!==p){d=!0,aw(a,i.data.length,p.length);for(let M=0;M<p.length;M++){const k=p[M];k.providersResolver&&k.providersResolver(k)}let w=!1,I=!1,C=Zu(i,s,p.length,null);for(let M=0;M<p.length;M++){const k=p[M];a.mergedAttrs=Or(a.mergedAttrs,k.hostAttrs),ND(i,a,s,C,k),$_(C,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const B=k.type.prototype;!w&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),C++}!function V_(i,s){const l=s.directiveEnd,d=i.data,p=s.attrs,_=[];let w=null,I=null;for(let C=s.directiveStart;C<l;C++){const M=d[C],k=M.inputs,B=null===p||lu(s)?null:lw(k,p);_.push(B),w=L_(k,C,w),I=L_(M.outputs,C,I)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=I}(i,a)}_&&function OD(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new xe(-301,!1);l.push(s[d],p)}}}(a,l,_)}return a.mergedAttrs=Or(a.mergedAttrs,a.attrs),d}function SD(i,s,a,l,d,p){const _=p.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const I=~s.index;(function MD(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(l,d,_)}}function j_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function H_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function $_(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ci(s)&&(a[""]=i)}}function aw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ND(i,s,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=di(d.type)),_=new ea(p,ci(d),null);i.blueprint[l]=_,a[l]=_,SD(i,s,0,l,Zu(i,a,d.hostVars,Et),d)}function uw(i,s,a){const l=Zn(s,i),d=Wg(a),p=i[10],_=Bd(i,oc(i,d,null,a.onPush?64:16,l,s,p,p.createRenderer(l,a),null,null));i[s.index]=_}function ga(i,s,a,l,d,p){const _=Zn(i,s);!function Qg(i,s,a,l,d,p,_){if(null==p)tn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==_?z(p):_(p,l||"",d);tn(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],_,p,i.value,a,l,d)}function RD(i,s,a,l,d,p){const _=p[s];if(null!==_){const w=l.setInput;for(let I=0;I<_.length;){const C=_[I++],M=_[I++],k=_[I++];null!==w?l.setInput(a,k,C,M):a[M]=k}}}function lw(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function dw(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function Jg(i,s){const a=Yn(s,i);if(qi(a)){const l=a[1];80&a[2]?du(l,a,l.template,a[8]):a[5]>0&&G_(a)}}function G_(i){for(let l=qu(i);null!==l;l=zu(l))for(let d=10;d<l.length;d++){const p=l[d];if(1024&p[2]){const _=p[1];du(_,p,_.template,p[8])}else p[5]>0&&G_(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Yn(a[l],i);qi(d)&&d[5]>0&&G_(d)}}function q_(i,s){const a=Yn(s,i),l=a[1];(function kD(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),cu(l,a,a[8])}function Bd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Xg(i){for(;i;){i[2]|=64;const s=_n(i);if(Yh(i)&&!s)return i;i=s}return null}function z_(i,s,a){const l=s[10];l.begin&&l.begin();try{du(i,s,i.template,a)}catch(d){throw gw(s,d),d}finally{l.end&&l.end()}}function W_(i){!function qf(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Df(a),d=l[1];Vd(d,l,d.template,a)}}(i[8])}function Z_(i,s,a){Ol(0),s(i,a)}const fw=(()=>Promise.resolve(null))();function pw(i){return i[7]||(i[7]=[])}function VD(i){return i.cleanup||(i.cleanup=[])}function gw(i,s){const a=i[9],l=a?a.get(cr,null):null;l&&l.handleError(s)}function Y_(i,s,a,l,d){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],I=s[_],C=i.data[_];null!==C.setInput?C.setInput(I,d,l,w):I[w]=d}}function hu(i,s,a){const l=mo(s,i);!function Od(i,s,a){tn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function zf(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?d=de(d,w):2==p&&(l=de(l,w+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const Q_=new fn("INJECTOR",-1);class J_{get(s,a=Qs){if(a===Qs){const l=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw l.name="NullInjectorError",l}return a}}const X_=new fn("Set Injector scope."),Wf={},ev={};let tm;function mw(){return void 0===tm&&(tm=new J_),tm}function tv(i,s=null,a=null,l){const d=yw(i,s,a,l);return d._resolveInjectorDefTypes(),d}function yw(i,s=null,a=null,l){return new _w(i,a,s||mw(),l)}class _w{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&pi(a,w=>this.processProvider(w,s,a)),pi([s],w=>this.processInjectorType(w,[],p)),this.records.set(Q_,Kf(void 0,this));const _=this.records.get(X_);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:ce(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Qs,l=ht.Default){this.assertNotDestroyed();const d=te(this),p=In(void 0);try{if(!(l&ht.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function IS(i){return"function"==typeof i||"object"==typeof i&&i instanceof fn}(s)&&Rt(s);w=I&&this.injectableDefInScope(I)?Kf(nv(s),Wf):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ht.Self?mw():this.parent).get(s,a=l&ht.Optional&&a===Qs?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ja]=_[Ja]||[]).unshift(ce(s)),d)throw _;return function Nn(i,s,a,l){const d=i[Ja];throw s[x]&&d.unshift(s[x]),i.message=function Js(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ce(s);if(Array.isArray(s))d=s.map(ce).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(D,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Ja]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{In(p),te(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(ce(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(s,a,l){if(!(s=Q(s)))return!1;let d=Cr(s);const p=null==d&&s.ngModule||void 0,_=void 0===p?s:p,w=-1!==l.indexOf(_);if(void 0!==p&&(d=Cr(p)),null==d)return!1;if(null!=d.imports&&!w){let M;l.push(_);try{pi(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:B,providers:Y}=M[k];pi(Y,ve=>this.processProvider(ve,B,Y||V))}}this.injectorDefTypes.add(_);const I=di(_)||(()=>new _);this.records.set(_,Kf(I,Wf));const C=d.providers;if(null!=C&&!w){const M=s;pi(C,k=>this.processProvider(k,M,C))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,l){let d=Zf(s=Q(s))?s:Q(s&&s.provide);const p=function jD(i,s,a){return HD(i)?Kf(void 0,i.useValue):Kf(rv(i),Wf)}(s);if(Zf(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Kf(void 0,Wf,!0),_.factory=()=>Zt(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===Wf&&(a.value=ev,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qD(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function nv(i){const s=Rt(i),a=null!==s?s.factory:di(i);if(null!==a)return a;if(i instanceof fn)throw new xe(204,!1);if(i instanceof Function)return function vw(i){const s=i.length;if(s>0)throw function Fi(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new xe(204,!1);const a=function ar(i){const s=i&&(i[$i]||i[ai]);if(s){const a=function Os(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function rv(i,s,a){let l;if(Zf(i)){const d=Q(i);return di(d)||nv(d)}if(HD(i))l=()=>Q(i.useValue);else if(function $D(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Zt(i.deps||[]));else if(function wS(i){return!(!i||!i.useExisting)}(i))l=()=>Fe(Q(i.useExisting));else{const d=Q(i&&(i.useClass||i.provide));if(!function GD(i){return!!i.deps}(i))return di(d)||nv(d);l=()=>new d(...Zt(i.deps))}return l}function Kf(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function HD(i){return null!==i&&"object"==typeof i&&F in i}function Zf(i){return"function"==typeof i}let eo=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return tv({name:""},l,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return tv({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=Qs,i.NULL=new J_,i.\u0275prov=qt({token:i,providedIn:"any",factory:()=>Fe(Q_)}),i.__NG_ELEMENT_ID__=-1,i})();function Yu(i,s){ps(Df(i)[1],hn())}function im(i){let s=function Aw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(ci(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=sv(i.inputs),_.declaredInputs=sv(i.declaredInputs),_.outputs=sv(i.outputs);const w=d.hostBindings;w&&sm(i,w);const I=d.viewQuery,C=d.contentQueries;if(I&&Mw(i,I),C&&ov(i,C),ne(i.inputs,d.inputs),ne(i.declaredInputs,d.declaredInputs),ne(i.outputs,d.outputs),ci(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===im&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Sw(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Or(d.hostAttrs,a=Or(a,d.hostAttrs))}}(l)}function sv(i){return i===ui?{}:i===V?[]:i}function Mw(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function ov(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{s(l,d,p),a(l,d,p)}:s}function sm(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let Vr=null;function lc(){if(!Vr){const i=Ft.Symbol;if(i&&i.iterator)Vr=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Vr=l)}}}return Vr}function cc(i){return!!om(i)&&(Array.isArray(i)||!(i instanceof Map)&&lc()in i)}function om(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function to(i,s,a){return i[s]=a}function bi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Jf(i,s,a,l,d){const p=function no(i,s,a,l){const d=bi(i,s,a);return bi(i,s+1,l)||d}(i,s,a,l);return bi(i,s+2,d)||p}function am(i,s,a,l){const d=De();return bi(d,zi(),s)&&(Nt(),ga(yn(),d,i,s,a,l)),am}function Xf(i,s,a,l,d,p,_,w){const I=De(),C=Nt(),M=i+20,k=C.firstCreatePass?function um(i,s,a,l,d,p,_,w,I){const C=s.consts,M=Ku(s,i,4,_||null,Kr(C,w));iw(s,a,M,Kr(C,I)),ps(s,M);const k=M.tViews=Gf(2,M,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,M),k.queries=s.queries.embeddedTView(M)),M}(M,C,I,s,a,l,d,p,_):C.data[M];xr(k,!1);const B=I[11].createComment("");kg(C,I,B,k),Pr(B,I),Bd(I,I[M]=dw(B,I,B,k)),ks(k)&&$f(C,I,k),null!=_&&zg(I,k,w)}function np(i,s=ht.Default){const a=De();return null===a?Fe(i,s):zs(hn(),a,Q(i),s)}function tl(){throw new Error("invalid")}function hm(i,s,a){const l=De();return bi(l,zi(),s)&&Ii(Nt(),yn(),l,i,s,l[11],a,!1),hm}function Xd(i,s,a,l,d){const _=d?"class":"style";Y_(i,a,s.inputs[_],_,l)}function nl(i,s,a,l){const d=De(),p=Nt(),_=20+i,w=d[11],I=d[_]=Nd(w,s,function hd(){return ut.lFrame.currentNamespace}()),C=p.firstCreatePass?function Kw(i,s,a,l,d,p,_){const w=s.consts,C=Ku(s,i,2,d,Kr(w,p));return iw(s,a,C,Kr(w,_)),null!==C.attrs&&zf(C,C.attrs,!1),null!==C.mergedAttrs&&zf(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(_,p,d,0,s,a,l):p.data[_];xr(C,!0);const M=C.mergedAttrs;null!==M&&Dn(w,I,M);const k=C.classes;null!==k&&Lg(w,I,k);const B=C.styles;return null!==B&&N0(w,I,B),64!=(64&C.flags)&&kg(p,d,I,C),0===function ka(){return ut.lFrame.elementDepthCount}()&&Pr(I,d),function od(){ut.lFrame.elementDepthCount++}(),ks(C)&&($f(p,d,C),ew(p,C,d)),null!==l&&zg(d,C),nl}function rp(){let i=hn();Sl()?Ml():(i=i.parent,xr(i,!1));const s=i;!function Fa(){ut.lFrame.elementDepthCount--}();const a=Nt();return a.firstCreatePass&&(ps(a,i),Zc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function fd(i){return 0!=(16&i.flags)}(s)&&Xd(a,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mg(i){return 0!=(32&i.flags)}(s)&&Xd(a,s,De(),s.stylesWithoutHost,!1),rp}function ei(i,s,a,l){return nl(i,s,a,l),rp(),ei}function hc(i,s,a){const l=De(),d=Nt(),p=i+20,_=d.firstCreatePass?function ip(i,s,a,l,d){const p=s.consts,_=Kr(p,l),w=Ku(s,i,8,"ng-container",_);return null!==_&&zf(w,_,!0),iw(s,a,w,Kr(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,l,s,a):d.data[p];xr(_,!0);const w=l[p]=l[11].createComment("");return kg(d,l,w,_),Pr(w,l),ks(_)&&($f(d,l,_),ew(d,_,l)),null!=a&&zg(l,_),hc}function sp(){let i=hn();const s=Nt();return Sl()?Ml():(i=i.parent,xr(i,!1)),s.firstCreatePass&&(ps(s,i),Zc(i)&&s.queries.elementEnd(i)),sp}function Dv(){return De()}function pm(i){return!!i&&"function"==typeof i.then}function eh(i){return!!i&&"function"==typeof i.subscribe}const gm=eh;function op(i,s,a,l){const d=De(),p=Nt(),_=hn();return function th(i,s,a,l,d,p,_,w){const I=ks(l),M=i.firstCreatePass&&VD(i),k=s[8],B=pw(s);let Y=!0;if(3&l.type||w){const je=Zn(l,s),ze=w?w(je):je,Te=B.length,dt=w?kt=>w(Kt(kt[l.index])):l.index;if(tn(a)){let kt=null;if(!w&&I&&(kt=function ym(i,s,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const w=s[7],I=d[p+2];return w.length>I?w[I]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,l.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=p,kt.__ngLastListenerFn__=p,Y=!1;else{p=Cv(l,s,k,p,!1);const rn=a.listen(ze,d,p);B.push(p,rn),M&&M.push(d,dt,Te,Te+1)}}else p=Cv(l,s,k,p,!0),ze.addEventListener(d,p,_),B.push(p),M&&M.push(d,dt,Te,_)}else p=Cv(l,s,k,p,!1);const ve=l.outputs;let ke;if(Y&&null!==ve&&(ke=ve[d])){const je=ke.length;if(je)for(let ze=0;ze<je;ze+=2){const ji=s[ke[ze]][ke[ze+1]].subscribe(p),Uc=B.length;B.push(p,ji),M&&M.push(d,l.index,Uc,-(Uc+1))}}}(p,d,d[11],_,i,s,!!a,l),op}function Tv(i,s,a,l){try{return!1!==a(l)}catch(d){return gw(i,d),!1}}function Cv(i,s,a,l,d){return function p(_){if(_===Function)return l;const w=2&i.flags?Yn(i.index,s):s;0==(32&s[2])&&Xg(w);let I=Tv(s,0,l,_),C=p.__ngNextListenerFn__;for(;C;)I=Tv(s,0,C,_)&&I,C=C.__ngNextListenerFn__;return d&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function _m(i=1){return function Wi(i){return(ut.lFrame.contextLView=function ef(i,s){for(;i>0;)s=s[15],i--;return s}(i,ut.lFrame.contextLView))[8]}(i)}function il(i,s,a,l,d){const p=i[a+1],_=null===s;let w=l?ko(p):fa(p),I=!1;for(;0!==w&&(!1===I||_);){const M=i[w+1];Xw(i[w],s)&&(I=!0,i[w+1]=l?Ug(M):Uf(M)),w=l?ko(M):fa(M)}I&&(i[a+1]=l?Uf(p):Ug(p))}function Xw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ao(i,s)>=0}const br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sl(i){return i.substring(br.key,br.keyEnd)}function up(i,s){const a=br.textEnd;return a===s?-1:(s=br.keyEnd=function eT(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,br.key=s,a),yu(i,s,a))}function yu(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Nv(i,s,a){return ro(i,s,a,!1),Nv}function Rv(i,s){return ro(i,s,null,!0),Rv}function oh(i){!function io(i,s,a,l){const d=Nt(),p=hs(2);d.firstUpdatePass&&fc(d,null,p,l);const _=De();if(a!==Et&&bi(_,p,a)){const w=d.data[Qn()];if(rI(w,l)&&!Pv(d,p)){let I=l?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(a=de(I,a||"")),Xd(d,w,_,a,l)}else!function nI(i,s,a,l,d,p,_,w){d===Et&&(d=V);let I=0,C=0,M=0<d.length?d[0]:null,k=0<p.length?p[0]:null;for(;null!==M||null!==k;){const B=I<d.length?d[I+1]:void 0,Y=C<p.length?p[C+1]:void 0;let ke,ve=null;M===k?(I+=2,C+=2,B!==Y&&(ve=k,ke=Y)):null===k||null!==M&&M<k?(I+=2,ve=M):(C+=2,ve=k,ke=Y),null!==ve&&Fv(i,s,a,l,ve,ke,_,w),M=I<d.length?d[I]:null,k=C<p.length?p[C]:null}}(d,w,_,_[11],_[p+1],_[p+1]=function kv(i,s,a){if(null==a||""===a)return V;const l=[],d=ws(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(l,p,d[p]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,p)}}(Gn,ti,i,!0)}function ti(i,s){for(let a=function Im(i){return function vn(i){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=i.length}(i),up(i,yu(i,0,br.textEnd))}(s);a>=0;a=up(s,a))Gn(i,sl(s),!0)}function ro(i,s,a,l){const d=De(),p=Nt(),_=hs(2);p.firstUpdatePass&&fc(p,i,_,l),s!==Et&&bi(d,_,s)&&Fv(p,p.data[Qn()],d,d[11],i,d[_+1]=function aT(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(ws(i)))),i}(s,a),l,_)}function Pv(i,s){return s>=i.expandoStartIndex}function fc(i,s,a,l){const d=i.data;if(null===d[a+1]){const p=d[Qn()],_=Pv(i,a);rI(p,l)&&null===s&&!_&&(s=!1),s=function iT(i,s,a,l){const d=Nu(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=ah(a=Dm(null,i,s,a,l),s.attrs,l),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=Dm(d,i,s,a,l),null===p){let I=function sT(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==fa(l))return i[ko(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=Dm(null,i,s,I[1],l),I=ah(I,s.attrs,l),function tI(i,s,a,l){i[ko(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else p=function oT(i,s,a){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=ah(l,i[p].hostAttrs,a);return ah(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,l),function ih(i,s,a,l,d,p){let _=p?s.classBindings:s.styleBindings,w=ko(_),I=fa(_);i[l]=a;let M,C=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||Ao(k,M)>0)&&(C=!0)}else M=a;if(d)if(0!==I){const B=ko(i[w+1]);i[l+1]=Vf(B,w),0!==B&&(i[B+1]=Bf(i[B+1],l)),i[w+1]=function $0(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Vf(w,0),0!==w&&(i[w+1]=Bf(i[w+1],l)),w=l;else i[l+1]=Vf(I,0),0===w?w=l:i[I+1]=Bf(i[I+1],l),I=l;C&&(i[l+1]=Uf(i[l+1])),il(i,M,l,!0),il(i,M,l,!1),function xv(i,s,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Ao(p,s)>=0&&(a[l+1]=Ug(a[l+1]))}(s,M,i,l,p),_=Vf(w,I),p?s.classBindings=_:s.styleBindings=_}(d,p,s,a,_,l)}}function Dm(i,s,a,l,d){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=s[w],l=ah(l,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function ah(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Gn(i,_,!!a||s[++p]))}return void 0===i?null:i}function Fv(i,s,a,l,d,p,_,w){if(!(3&s.type))return;const I=i.data,C=I[w+1];Am(function S_(i){return 1==(1&i)}(C)?Cm(I,s,a,d,fa(C),_):void 0)||(Am(p)||function A_(i){return 2==(2&i)}(C)&&(p=Cm(I,null,a,d,w,_)),function ha(i,s,a,l,d){const p=tn(i);if(s)d?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:le.DashCase;if(null==d)p?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=le.Important),p?i.setStyle(a,l,d,_):a.style.setProperty(l,d,w?"important":"")}}}(l,_,mo(Qn(),a),d,p))}function Cm(i,s,a,l,d,p){const _=null===s;let w;for(;d>0;){const I=i[d],C=Array.isArray(I),M=C?I[1]:I,k=null===M;let B=a[d+1];B===Et&&(B=k?V:void 0);let Y=k?$l(B,l):M===l?B:void 0;if(C&&!Am(Y)&&(Y=$l(I,l)),Am(Y)&&(w=Y,_))return w;const ve=i[d+1];d=_?ko(ve):fa(ve)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=$l(I,l))}return w}function Am(i){return void 0!==i}function rI(i,s){return 0!=(i.flags&(s?16:32))}function cp(i,s=""){const a=De(),l=Nt(),d=i+20,p=l.firstCreatePass?Ku(l,d,1,s,null):l.data[d],_=a[d]=function xd(i,s){return tn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);kg(l,a,_,p),xr(p,!1)}function pc(i){return gc("",i,""),pc}function gc(i,s,a){const l=De(),d=function dc(i,s,a,l){return bi(i,zi(),a)?s+z(a)+l:Et}(l,i,s,a);return d!==Et&&hu(l,Qn(),d),gc}function Rm(i,s,a){const l=De();if(bi(l,zi(),s)){const p=Nt(),_=yn();Ii(p,_,l,i,s,function em(i,s,a){return(null===i||ci(i))&&(a=function xu(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}(Nu(p.data),_,l),a,!0)}return Rm}const ol=void 0;var pI=["en",[["a","p"],["AM","PM"],ol],[["AM","PM"],ol,ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ol,"{1} 'at' {0}",ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mc(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let yc={};function Pm(i){const s=function pT(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Wv(s);if(a)return a;const l=s.split("-")[0];if(a=Wv(l),a)return a;if("en"===l)return pI;throw new Error(`Missing locale data for the locale "${i}".`)}function Qi(i){return Pm(i)[lt.PluralCase]}function Wv(i){return i in yc||(yc[i]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[i]),yc[i]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const km="en-US";let Zv=km;function yh(i,s,a,l,d){if(i=Q(i),Array.isArray(i))for(let p=0;p<i.length;p++)yh(i[p],s,a,l,d);else{const p=Nt(),_=De();let w=Zf(i)?i:Q(i.provide),I=rv(i);const C=hn(),M=1048575&C.providerIndexes,k=C.directiveStart,B=C.providerIndexes>>20;if(Zf(i)||!i.multi){const Y=new ea(I,d,np),ve=nE(w,s,d?M:M+B,k);-1===ve?(Nr(ys(C,_),p,w),_h(p,i,s.length),s.push(w),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push(Y),_.push(Y)):(a[ve]=Y,_[ve]=Y)}else{const Y=nE(w,s,M+B,k),ve=nE(w,s,M,M+B),ke=Y>=0&&a[Y],je=ve>=0&&a[ve];if(d&&!je||!d&&!ke){Nr(ys(C,_),p,w);const ze=function xT(i,s,a,l,d){const p=new ea(i,a,np);return p.multi=[],p.index=s,p.componentProviders=0,Ci(p,d,l&&!a),p}(d?MT:ST,a.length,d,l,I);!d&&je&&(a[ve].providerFactory=ze),_h(p,i,s.length,0),s.push(w),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push(ze),_.push(ze)}else _h(p,i,Y>-1?Y:ve,Ci(a[d?ve:Y],I,!d&&l));!d&&l&&je&&a[ve].componentProviders++}}}function _h(i,s,a,l){const d=Zf(s),p=function Ew(i){return!!i.useClass}(s);if(d||p){const I=(p?Q(s.useClass):s).prototype.ngOnDestroy;if(I){const C=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=C.indexOf(a);-1===M?C.push(a,[l,I]):C[M+1].push(l,I)}else C.push(a,I)}}}function Ci(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function nE(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function ST(i,s,a,l){return Gm(this.multi,[])}function MT(i,s,a,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=vr(a,a[1],this.providerFactory.index,l);p=w.slice(0,_),Gm(d,p);for(let I=_;I<w.length;I++)p.push(w[I])}else p=[],Gm(d,p);return p}function Gm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function CI(i,s=[]){return a=>{a.providersResolver=(l,d)=>function AT(i,s,a){const l=Nt();if(l.firstCreatePass){const d=ci(i);yh(a,l.data,l.blueprint,d,!0),yh(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class AI{}class SI{resolveComponentFactory(s){throw function vh(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Eh=(()=>{class i{}return i.NULL=new SI,i})();function Eu(){return bc(hn(),De())}function bc(i,s){return new ya(Zn(i,s))}let ya=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Eu,i})();function qm(i){return i instanceof ya?i.nativeElement:i}class zm{}let iE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function wh(){const i=De(),a=Yn(hn().index,i);return function sE(i){return i[11]}(Ri(a)?a:i)}(),i})(),oo=(()=>{class i{}return i.\u0275prov=qt({token:i,providedIn:"root",factory:()=>null}),i})();class oE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ih=new oE("13.2.3"),Wm={};function bh(i,s,a,l,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(Kt(p)),li(p))for(let w=10;w<p.length;w++){const I=p[w],C=I[1].firstChild;null!==C&&bh(I[1],I,C,l)}const _=a.type;if(8&_)bh(i,s,a.child,l);else if(32&_){const w=Ze(a,s);let I;for(;I=w();)l.push(I)}else if(16&_){const w=O0(s,a);if(Array.isArray(w))l.push(...w);else{const I=_n(s[16]);bh(I[1],I,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class Dc{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return bh(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(li(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(f_(s,l),Co(a,l))}this._attachedToViewContainer=!1}p_(this._lView[1],this._lView)}onDestroy(s){F_(this._lView[1],this._lView,null,s)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){z_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function LD(i,s,a){Jo(!0);try{z_(i,s,a)}finally{Jo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rd(i,s){Fg(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=s}}class MI extends Dc{constructor(s){super(s),this._view=s}detectChanges(){W_(this._view)}checkNoChanges(){!function K_(i){Jo(!0);try{W_(i)}finally{Jo(!1)}}(this._view)}get context(){return null}}class xI extends Eh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Un(s);return new uE(a,this.ngModule)}}function aE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const NI=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ng});class uE extends AI{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function j0(i){return i.map(B0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return aE(this.componentDef.inputs)}get outputs(){return aE(this.componentDef.outputs)}create(s,a,l,d){const p=(d=d||this.ngModule)?function Km(i,s){return{get:(a,l,d)=>{const p=i.get(a,Wm,d);return p!==Wm||l===Wm?p:s.get(a,l,d)}}}(s,d.injector):s,_=p.get(zm,Na),w=p.get(oo,null),I=_.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=l?function k_(i,s,a){if(tn(i))return i.selectRootElement(s,a===Ot.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):Nd(_.createRenderer(null,this.componentDef),C,function OI(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(C)),k=this.componentDef.onPush?576:528,B=function Lr(i,s){return{components:[],scheduler:i||Ng,clean:fw,playerHandler:s||null,flags:0}}(),Y=Gf(0,null,null,1,0,null,null,null,null,null),ve=oc(null,Y,B,k,null,null,_,I,w,p);let ke,je;_o(ve);try{const ze=function Fr(i,s,a,l,d,p){const _=a[1];a[20]=i;const I=Ku(_,20,2,"#host",null),C=I.mergedAttrs=s.hostAttrs;null!==C&&(zf(I,C,!0),null!==i&&(Dn(d,i,C),null!==I.classes&&Lg(d,i,I.classes),null!==I.styles&&N0(d,i,I.styles)));const M=l.createRenderer(i,s),k=oc(a,Wg(s),null,s.onPush?64:16,a[20],I,l,M,p||null,null);return _.firstCreatePass&&(Nr(ys(I,a),_,s.type),H_(_,I),aw(I,a.length,1)),Bd(a,k),a[20]=k}(M,this.componentDef,ve,_,I);if(M)if(l)Dn(I,M,["ng-version",Ih.full]);else{const{attrs:Te,classes:dt}=function H0(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&a.push(p);else{if(!kr(d))break;d=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Te&&Dn(I,M,Te),dt&&dt.length>0&&Lg(I,M,dt.join(" "))}if(je=mn(Y,20),void 0!==a){const Te=je.projection=[];for(let dt=0;dt<this.ngContentSelectors.length;dt++){const kt=a[dt];Te.push(null!=kt?Array.from(kt):null)}}ke=function Yf(i,s,a,l,d){const p=a[1],_=function vS(i,s,a){const l=hn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ND(i,l,s,Zu(i,s,1,null),a));const d=vr(s,i,l.directiveStart,l);Pr(d,s);const p=Zn(l,s);return p&&Pr(p,s),d}(p,a,s);if(l.components.push(_),i[8]=_,d&&d.forEach(I=>I(_,s)),s.contentQueries){const I=hn();s.contentQueries(1,_,I.directiveStart)}const w=hn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(fs(w.index),SD(a[1],w,0,w.directiveStart,w.directiveEnd,s),j_(s,_)),_}(ze,this.componentDef,ve,B,[Yu]),cu(Y,ve,null)}finally{Xo()}return new Dh(this.componentType,ke,bc(je,ve),ve,je)}}class Dh extends class OT{}{constructor(s,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new MI(d),this.componentType=s}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Cc{}class cl{}const Ac=new Map;class rr extends Cc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xI(this);const l=Bn(s);this._bootstrapComponents=g(l.bootstrap),this._r3Injector=yw(s,a,[{provide:Cc,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],ce(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=eo.THROW_IF_NOT_FOUND,l=ht.Default){return s===eo||s===Cc||s===Q_?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Th extends cl{constructor(s){super(),this.moduleType=s,null!==Bn(s)&&function RI(i){const s=new Set;!function a(l){const d=Bn(l,!0),p=d.id;null!==p&&(function lE(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ce(s)} vs ${ce(s.name)}`)}(p,Ac.get(p),l),Ac.set(p,l));const _=g(d.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new rr(this.moduleType,s)}}function kI(i,s,a,l){return function Ah(i,s,a,l,d,p){const _=s+a;return bi(i,_,d)?to(i,_+1,p?l.call(p,d):l(d)):Ch(i,_+1)}(De(),jn(),i,s,a,l)}function Ch(i,s){const a=i[s];return a===Et?void 0:a}function dE(i,s){const a=Nt();let l;const d=i+20;a.firstCreatePass?(l=function jI(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const p=l.factory||(l.factory=di(l.type)),_=In(np);try{const w=wo(!1),I=p();return wo(w),function lv(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,De(),d,I),I}finally{In(_)}}function Ur(i,s,a,l,d){const p=i+20,_=De(),w=function ds(i,s){return i[s]}(_,p);return function _a(i,s){return i[1].data[s].pure}(_,p)?function BI(i,s,a,l,d,p,_,w){const I=s+a;return Jf(i,I,d,p,_)?to(i,I+3,w?l.call(w,d,p,_):l(d,p,_)):Ch(i,I+3)}(_,jn(),s,w.transform,a,l,d,w):w.transform(a,l,d)}function Xi(i){return s=>{setTimeout(i,void 0,s)}}const va=class kT extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,p,_;let w=s,I=a||(()=>null),C=l;if(s&&"object"==typeof s){const k=s;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),I=null===(p=k.error)||void 0===p?void 0:p.bind(k),C=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(I=Xi(I),w&&(w=Xi(w)),C&&(C=Xi(C)));const M=super.subscribe({next:w,error:I,complete:C});return s instanceof J.w0&&s.add(M),M}};function hE(){return this._results[lc()]()}class fE{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=lc(),l=fE.prototype;l[a]||(l[a]=hE)}get changes(){return this._changes||(this._changes=new va)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=Er(s);(this._changesDetected=!function Ul(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Mp=(()=>{class i{}return i.__NG_ELEMENT_ID__=Xm,i})();const nn=Mp,FT=class extends nn{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=oc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),cu(a,l,s),new Dc(l)}};function Xm(){return dl(hn(),De())}function dl(i,s){return 4&i.type?new FT(s,i,bc(i,s)):null}let hl=(()=>{class i{}return i.__NG_ELEMENT_ID__=ey,i})();function ey(){return yE(hn(),De())}const $I=hl,pE=class extends $I{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return bc(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const s=ku(this._hostTNode,this._hostLView);if(pd(s)){const a=$s(s,this._hostLView),l=dn(s);return new Ws(a[1].data[l+8],a)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=gE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,p){const _=s&&!function To(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,p=k.ngModuleRef}const I=_?s:new uE(Un(s)),C=l||this.parentInjector;if(!p&&null==I.ngModule){const B=(_?C:this.parentInjector).get(Cc,null);B&&(p=B)}const M=I.create(C,d,void 0,p);return this.insert(M.hostView,w),M}insert(s,a){const l=s._lView,d=l[1];if(function Cl(i){return li(i[3])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const k=l[3],B=new pE(k,k[6],k[3]);B.detach(B.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function h_(i,s,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=s),l<p-10?(s[4]=a[d],Bl(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function Pd(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,_,p);const w=v_(p,_),I=l[11],C=Ff(I,_[7]);return null!==C&&function Pf(i,s,a,l,d,p){l[0]=d,l[6]=s,Fg(i,l,a,1,d,p)}(d,_[6],I,l,C,w),s.attachToViewContainerRef(),Bl(mE(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=gE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=f_(this._lContainer,a);l&&(Co(mE(this._lContainer),a),p_(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=f_(this._lContainer,a);return l&&null!=Co(mE(this._lContainer),a)?new Dc(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function gE(i){return i[8]}function mE(i){return i[8]||(i[8]=[])}function yE(i,s){let a;const l=s[i.index];if(li(l))a=l;else{let d;if(8&i.type)d=Kt(l);else{const p=s[11];d=p.createComment("");const _=Zn(i,s);Is(p,Ff(p,_),d,function gD(i,s){return tn(i)?i.nextSibling(s):s.nextSibling}(p,_),!1)}s[i.index]=a=dw(l,s,d,i),Bd(s,a)}return new pE(a,i,s)}class _E{constructor(s){this.queryList=s,this.matches=null}clone(){return new _E(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mc{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Mc(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==KI(s,a).matches&&this.queries[a].setDirty()}}class vE{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class EE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new EE(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class hr{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new hr(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,a,wE(a,p)),this.matchTNodeWithReadOption(s,a,Ll(a,s,p,!1,!1))}else l===Mp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ll(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ya||d===hl||d===Mp&&4&a.type)this.addMatch(a.index,-2);else{const p=Ll(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function wE(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function xp(i,s,a,l){return-1===a?function qI(i,s){return 11&i.type?bc(i,s):4&i.type?dl(i,s):null}(s,i):-2===a?function Ea(i,s,a){return a===ya?bc(s,i):a===Mp?dl(s,i):a===hl?yE(s,i):void 0}(i,s,l):vr(i,i[1],a,s)}function ty(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const p=i.data,_=a.matches,w=[];for(let I=0;I<_.length;I+=2){const C=_[I];w.push(C<0?null:xp(s,p[C],_[I+1],a.metadata.read))}d.matches=w}return d.matches}function ny(i,s,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=ty(i,s,d,a);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)l.push(_[w/2]);else{const C=p[w+1],M=s[-I];for(let k=10;k<M.length;k++){const B=M[k];B[17]===B[3]&&ny(B[1],B,C,l)}if(null!==M[9]){const k=M[9];for(let B=0;B<k.length;B++){const Y=k[B];ny(Y[1],Y,C,l)}}}}}return l}function Sh(i){const s=De(),a=Nt(),l=$a();Ol(l+1);const d=KI(a,l);if(i.dirty&&Qo(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?ny(a,s,l,[]):ty(a,s,d,l);i.reset(p,qm),i.notifyOnChanges()}return!0}return!1}function IE(i,s,a,l){const d=Nt();if(d.firstCreatePass){const p=hn();(function Mh(i,s,a){null===i.queries&&(i.queries=new EE),i.queries.track(new hr(s,a))})(d,new vE(s,a,l),p.index),function DE(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function WI(i,s,a){const l=new fE(4==(4&a));F_(i,s,l,l.destroy),null===s[19]&&(s[19]=new Mc),s[19].queries.push(new _E(l))}(d,De(),a)}function bE(){return function VT(i,s){return i[19].queries[s].queryList}(De(),$a())}function KI(i,s){return i.queries.getByIndex(s)}function kh(...i){}const Ia=new fn("Application Initializer");let Rc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=kh,this.reject=kh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(pm(p))a.push(p);else if(gm(p)){const _=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Fe(Ia,8))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();const xE=new fn("AppId"),OE={provide:xE,useFactory:function ob(){return`${Np()}${Np()}${Np()}`},deps:[]};function Np(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pl=new fn("Platform Initializer"),gl=new fn("Platform ID"),Pc=new fn("appBootstrapListener");let NE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();const Fh=new fn("LocaleId"),oy=new fn("DefaultCurrencyCode");class ab{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Rp=(()=>{class i{compileModuleSync(a){return new Th(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=g(Bn(a).declarations).reduce((_,w)=>{const I=Un(w);return I&&_.push(new uE(I)),_},[]);return new ab(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();const zT=(()=>Promise.resolve(0))();function ay(i){"undefined"==typeof Zone?zT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Cs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new va(!1),this.onMicrotaskEmpty=new va(!1),this.onStable=new va(!1),this.onError=new va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function WT(){let i=Ft.requestAnimationFrame,s=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function kE(i){const s=()=>{!function PE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,ly(i),i.isCheckStableRunning=!0,uy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),ly(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,w)=>{try{return ub(i),a.invokeTask(d,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),cy(i)}},onInvoke:(a,l,d,p,_,w,I)=>{try{return ub(i),a.invoke(d,p,_,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),cy(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,ly(i),uy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,KT,kh,kh);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const KT={};function uy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function ly(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ub(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function cy(i){i._nesting--,uy(i)}class ZT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new va,this.onMicrotaskEmpty=new va,this.onStable=new va,this.onError=new va}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let FE=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cs.assertNotInAngularZone(),ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ay(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Fe(Cs))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})(),kp=(()=>{class i{constructor(){this._applications=new Map,fy.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return fy.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();class dy{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function hy(i){fy=i}let Sn,fy=new dy;const UE=new fn("AllowMultipleToken");class ml{constructor(s,a){this.name=s,this.token=a}}function BE(i,s,a=[]){const l=`Platform: ${s}`,d=new fn(l);return(p=[])=>{let _=Fc();if(!_||_.injector.get(UE,!1))if(i)i(a.concat(p).concat({provide:d,useValue:!0}));else{const w=a.concat(p).concat({provide:d,useValue:!0},{provide:X_,useValue:"platform"});!function Lh(i){if(Sn&&!Sn.destroyed&&!Sn.injector.get(UE,!1))throw new xe(400,"");Sn=i.get(jE);const s=i.get(pl,null);s&&s.forEach(a=>a())}(eo.create({providers:w,name:l}))}return function kc(i){const s=Fc();if(!s)throw new xe(401,"");return s}()}}function Fc(){return Sn&&!Sn.destroyed?Sn:null}let jE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function yl(i,s){let a;return a="noop"===i?new ZT:("zone.js"===i?void 0:i)||new Cs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:Cs,useValue:w}];return w.run(()=>{const C=eo.create({providers:I,parent:this.injector,name:a.moduleType.name}),M=a.create(C),k=M.injector.get(cr,null);if(!k)throw new xe(402,"");return w.runOutsideAngular(()=>{const B=w.onError.subscribe({next:Y=>{k.handleError(Y)}});M.onDestroy(()=>{HE(this._modules,M),B.unsubscribe()})}),function Lc(i,s,a){try{const l=a();return pm(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const B=M.injector.get(Rc);return B.runInitializers(),B.donePromise.then(()=>(function ni(i){rt(i,"Expected localeId to be defined"),"string"==typeof i&&(Zv=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Fh,km)||km),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,l=[]){const d=py({},l);return function lb(i,s,a){const l=new Th(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(Vh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Fe(eo))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();function py(i,s){return Array.isArray(s)?s.reduce(py,i):Object.assign(Object.assign({},i),s)}let Vh=(()=>{class i{constructor(a,l,d,p,_){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),I=new R.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Cs.assertNotInAngularZone(),ay(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ge.T)(w,I.pipe((0,ee.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new xe(405,"");let d;d=a instanceof AI?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function VE(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Cc),w=d.create(eo.NULL,[],l||d.selector,p),I=w.location.nativeElement,C=w.injector.get(FE,null),M=C&&w.injector.get(kp);return C&&M&&M.registerApplication(I,C),w.onDestroy(()=>{this.detachView(w.hostView),HE(this.components,w),M&&M.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;HE(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Pc,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Fe(Cs),Fe(eo),Fe(cr),Fe(Eh),Fe(Rc))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();function HE(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let db=!0,Fp=!1;function Uh(){return Fp=!0,db}function hb(){if(Fp)throw new Error("Cannot enable prod mode after platform setup.");db=!1}let _l=(()=>{class i{}return i.__NG_ELEMENT_ID__=gy,i})();function gy(i){return function QT(i,s,a){if(Tu(i)&&!a){const l=Yn(i.index,s);return new Dc(l,l)}return 47&i.type?new Dc(s[16],s):null}(hn(),De(),16==(16&i))}class jp{constructor(){}supports(s){return cc(s)}create(s){return new yb(s)}}const mb=(i,s)=>s;class yb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||mb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<Ey(l,d,p)?a:l,w=Ey(_,d,p),I=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const C=w-d,M=I-d;if(C!=M){for(let B=0;B<C;B++){const Y=B<p.length?p[B]:p[B]=0,ve=Y+B;M<=ve&&ve<C&&(p[B]=Y+1)}p[_.previousIndex]=M-C}}w!==I&&s(_,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!cc(s))throw new xe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),l=!0),a=a._next}else d=0,function Rw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[lc()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new tC(a,l),p,d),s}_verifyReinsertion(s,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class tC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class _b{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new YE,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ey(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class vb{constructor(){}supports(s){return s instanceof Map||om(s)}create(){return new QE}}class QE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||om(s)))throw new xe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new nC(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class nC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eb(){return new Bh([new jp])}let Bh=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Eb()),deps:[[i,new _i,new mi]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new xe(901,"")}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:Eb}),i})();function wb(){return new wy([new vb])}let wy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||wb()),deps:[[i,new _i,new mi]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new xe(901,"")}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:wb}),i})();const rC=[new vb],sC=new Bh([new jp]),oC=new wy(rC),bb=BE(null,"core",[{provide:gl,useValue:"unknown"},{provide:jE,deps:[eo]},{provide:kp,deps:[]},{provide:NE,deps:[]}]),by=[{provide:Vh,useClass:Vh,deps:[Cs,eo,cr,Eh,Rc]},{provide:NI,deps:[Cs],useFactory:function XE(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Rc,useClass:Rc,deps:[[new mi,Ia]]},{provide:Rp,useClass:Rp,deps:[]},OE,{provide:Bh,useFactory:function Db(){return sC},deps:[]},{provide:wy,useFactory:function JE(){return oC},deps:[]},{provide:Fh,useFactory:function Iy(i){return i||function Hp(){return"undefined"!=typeof $localize&&$localize.locale||km}()},deps:[[new Yr(Fh),new mi,new _i]]},{provide:oy,useValue:"USD"}];let e0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Fe(Vh))},i.\u0275mod=Ar({type:i}),i.\u0275inj=zt({providers:by}),i})()},3942:(et,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>xe});var f=P(2090),J=P(4859),R=P(9681),ge=P(1877);class ee{constructor(z,ae){this._delegate=z,this.firebase=ae,(0,R._addComponent)(z,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(z,ae=R._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(z);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Se=Oe.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:ae})}_removeServiceInstance(z,ae=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(ae)}_addComponent(z){(0,R._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,R._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function de(){const Ve=function ce(Ve){const z={},ae={__esModule:!0,initializeApp:function se(He,re={}){const K=R.initializeApp(He,re);if((0,f.r3)(z,K.name))return z[K.name];const ie=new Ve(K,ae);return z[K.name]=ie,ie},app:Oe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(He){const re=He.name,K=re.replace("-compat","");if(R._registerComponent(He)&&"PUBLIC"===He.type){const ie=(_e=Oe())=>{if("function"!=typeof _e[K])throw ne.create("invalid-app-argument",{appName:re});return _e[K]()};void 0!==He.serviceProps&&(0,f.ZB)(ie,He.serviceProps),ae[K]=ie,Ve.prototype[K]=function(..._e){return this._getService.bind(this,re).apply(this,He.multipleInstances?_e:[])}}return"PUBLIC"===He.type?ae[K]:null},removeApp:function Se(He){delete z[He]},useAsService:function $e(He,re){return"serverAuth"===re?null:re},modularAPIs:R}};function Oe(He){if(!(0,f.r3)(z,He=He||R._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:He});return z[He]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function me(){return Object.keys(z).map(He=>z[He])}}),Oe.App=Ve,ae}(ee);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function z(ae){(0,f.ZB)(Ve,ae)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ve}(),U=new ge.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=j;!function Ce(Ve){(0,R.registerVersion)("@firebase/app-compat","0.1.18",Ve)}()},9681:(et,Ae,P)=>{"use strict";P.r(Ae),P.d(Ae,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Cr,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>gr,_apps:()=>ot,_clearComponents:()=>Rt,_components:()=>Fn,_getProvider:()=>Hi,_registerComponent:()=>qt,_removeServiceInstance:()=>zt,deleteApp:()=>Gi,getApp:()=>Ns,getApps:()=>ai,initializeApp:()=>$i,onLog:()=>Ln,registerVersion:()=>$r,setLogLevel:()=>In});var f=P(5861),J=P(4859),R=P(1877),ge=P(2090);class ee{constructor(Qe){this.container=Qe}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function pe(pt){const Qe=pt.getComponent();return"VERSION"===(null==Qe?void 0:Qe.type)}(xt)){const un=xt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(xt=>xt).join(" ")}}const ne="@firebase/app",de=new R.Yd("@firebase/app"),Mn="[DEFAULT]",rt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,Fn=new Map;function Qt(pt,Qe){try{pt.container.addComponent(Qe)}catch(xt){de.debug(`Component ${Qe.name} failed to register with FirebaseApp ${pt.name}`,xt)}}function gr(pt,Qe){pt.container.addOrOverwriteComponent(Qe)}function qt(pt){const Qe=pt.name;if(Fn.has(Qe))return de.debug(`There were multiple attempts to register component ${Qe}.`),!1;Fn.set(Qe,pt);for(const xt of ot.values())Qt(xt,pt);return!0}function Hi(pt,Qe){return pt.container.getProvider(Qe)}function zt(pt,Qe,xt=Mn){Hi(pt,Qe).clearInstance(xt)}function Rt(){Fn.clear()}const ar=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Os{constructor(Qe,xt,un){this._isDeleted=!1,this._options=Object.assign({},Qe),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qe){this._isDeleted=Qe}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Cr="9.6.7";function $i(pt,Qe={}){"object"!=typeof Qe&&(Qe={name:Qe});const xt=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Qe),un=xt.name;if("string"!=typeof un||!un)throw ar.create("bad-app-name",{appName:String(un)});const mr=ot.get(un);if(mr){if((0,ge.vZ)(pt,mr.options)&&(0,ge.vZ)(xt,mr.config))return mr;throw ar.create("duplicate-app",{appName:un})}const Ot=new J.H0(un);for(const at of Fn.values())Ot.addComponent(at);const Je=new Os(pt,xt,Ot);return ot.set(un,Je),Je}function Ns(pt=Mn){const Qe=ot.get(pt);if(!Qe)throw ar.create("no-app",{appName:pt});return Qe}function ai(){return Array.from(ot.values())}function Gi(pt){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(pt){const Qe=pt.name;ot.has(Qe)&&(ot.delete(Qe),yield Promise.all(pt.container.getProviders().map(xt=>xt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function $r(pt,Qe,xt){var un;let mr=null!==(un=rt[pt])&&void 0!==un?un:pt;xt&&(mr+=`-${xt}`);const Ot=mr.match(/\s|\//),Je=Qe.match(/\s|\//);if(Ot||Je){const at=[`Unable to register library "${mr}" with version "${Qe}":`];return Ot&&at.push(`library name "${mr}" contains illegal characters (whitespace or "/")`),Ot&&Je&&at.push("and"),Je&&at.push(`version name "${Qe}" contains illegal characters (whitespace or "/")`),void de.warn(at.join(" "))}qt(new J.wA(`${mr}-version`,()=>({library:mr,version:Qe}),"VERSION"))}function Ln(pt,Qe){if(null!==pt&&"function"!=typeof pt)throw ar.create("invalid-log-argument");(0,R.Am)(pt,Qe)}function In(pt){(0,R.Ub)(pt)}!function co(pt){qt(new J.wA("platform-logger",Qe=>new ee(Qe),"PRIVATE")),$r(ne,"0.7.17",pt),$r(ne,"0.7.17","esm2017"),$r("fire-js","")}("")},4859:(et,Ae,P)=>{"use strict";P.d(Ae,{wA:()=>R,H0:()=>ce});var f=P(5861),J=P(2090);class R{constructor(j,U,Q){this.name=j,this.instanceFactory=U,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ge="[DEFAULT]";class ee{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const Q=new J.BH;if(this.instancesDeferred.set(U,Q),this.isInitialized(U)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:U});Be&&Q.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Be=null!==(U=null==j?void 0:j.optional)&&void 0!==U&&U;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ce){if(Be)return null;throw Ce}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ne(de){return"EAGER"===de.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ge})}catch(U){}for(const[U,Q]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(U);try{const Ce=this.getOrInitializeService({instanceIdentifier:Be});Q.resolve(Ce)}catch(Ce){}}}}clearInstance(j=ge){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,f.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...U.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ge){return this.instances.has(j)}getOptions(j=ge){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Q,options:U});for(const[Ce,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ce)&&xe.resolve(Be);return Be}onInit(j,U){var Q;const Be=this.normalizeInstanceIdentifier(U),Ce=null!==(Q=this.onInitCallbacks.get(Be))&&void 0!==Q?Q:new Set;Ce.add(j),this.onInitCallbacks.set(Be,Ce);const xe=this.instances.get(Be);return xe&&j(xe,Be),()=>{Ce.delete(j)}}invokeOnInitCallbacks(j,U){const Q=this.onInitCallbacks.get(U);if(Q)for(const Be of Q)try{Be(j,U)}catch(Ce){}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=j,de===ge?void 0:de),options:U}),this.instances.set(j,Q),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(Be){}var de;return Q||null}normalizeInstanceIdentifier(j=ge){return this.component?this.component.multipleInstances?j:ge:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new ee(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(et,Ae,P)=>{"use strict";P.d(Ae,{in:()=>J,Yd:()=>ne,Ub:()=>ce,Am:()=>de});const f=[];var J=(()=>{return(j=J||(J={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",J;var j})();const R={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ge=J.INFO,ee={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},pe=(j,U,...Q)=>{if(U<j.logLevel)return;const Be=(new Date).toISOString(),Ce=ee[U];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ce](`[${Be}]  ${j.name}:`,...Q)};class ne{constructor(U){this.name=U,this._logLevel=ge,this._logHandler=pe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in J))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?R[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...U),this._logHandler(this,J.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...U),this._logHandler(this,J.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,J.INFO,...U),this._logHandler(this,J.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,J.WARN,...U),this._logHandler(this,J.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...U),this._logHandler(this,J.ERROR,...U)}}function ce(j){f.forEach(U=>{U.setLogLevel(j)})}function de(j,U){for(const Q of f){let Be=null;U&&U.level&&(Be=R[U.level]),Q.userLogHandler=null===j?null:(Ce,xe,...Ve)=>{const z=Ve.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch(Se){return null}}).filter(ae=>ae).join(" ");xe>=(null!=Be?Be:Ce.logLevel)&&j({level:J[xe].toLowerCase(),message:z,args:Ve,type:Ce.name})}}}},5861:(et,Ae,P)=>{"use strict";function f(R,ge,ee,pe,ne,ce,de){try{var j=R[ce](de),U=j.value}catch(Q){return void ee(Q)}j.done?ge(U):Promise.resolve(U).then(pe,ne)}function J(R){return function(){var ge=this,ee=arguments;return new Promise(function(pe,ne){var ce=R.apply(ge,ee);function de(U){f(ce,pe,ne,de,j,"next",U)}function j(U){f(ce,pe,ne,de,j,"throw",U)}de(void 0)})}}P.d(Ae,{Z:()=>J})}},et=>{et(et.s=2789)}]);